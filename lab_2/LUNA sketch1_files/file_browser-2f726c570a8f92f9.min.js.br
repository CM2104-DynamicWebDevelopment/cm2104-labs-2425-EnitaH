"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="99fbec02-fe86-578b-ad56-1c976ce90c39")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7748],{258933:(e,t,a)=>{a.d(t,{B8:()=>p,IW:()=>_,J:()=>E,Ou:()=>v,R6:()=>g,Uu:()=>s,X5:()=>u,XX:()=>l,YK:()=>i,ay:()=>h,eK:()=>o,fI:()=>n,jD:()=>f,me:()=>m,nM:()=>c,wD:()=>d,yU:()=>r});let r="step_pay--addAnnualPlan--3YUVe",n="step_pay--paymentForm--gqjt-",i="step_pay--totalLabelText--FsxE-",o="step_pay--smallGrayText--C8Sfn",l="step_pay--bigButton--Gtz0E",s="step_pay--flex--ZZh0K",c="step_pay--row--DcuMl",d="step_pay--rowFlex--Mf5y8 step_pay--row--DcuMl",m="step_pay--separator--gTqAJ",u="step_pay--total--FgOpU",_="step_pay--totalText--VTLEG step_pay--jumboText--JE1wb",p="step_pay--plusTaxText--gSICq",f="step_pay--numEditorsInput--mTc8p",g="step_pay--subtotal--188gf",E="step_pay--changeLink--dSfAg blue_link--blueLink--9rlnd",h="step_pay--bigTerms--nC3J9",v="step_pay--flowActionsSingle--X0Hy-"},920506:(e,t,a)=>{a.d(t,{DD:()=>o,ME:()=>m,Nr:()=>n,Sl:()=>s,Ui:()=>r,h_:()=>l,pq:()=>i,qr:()=>d,t3:()=>c,uK:()=>_,vR:()=>u});let r="resource_cards--cardContainer--dagKQ",n="resource_cards--card--j2AeO",i="resource_cards--info--7v-s9",o="resource_cards--title--9uxRY text--fontPos16--oMC-G text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",l="resource_cards--description--NQQ-r text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",s="resource_cards--image--V7Y8-",c="resource_cards--pluginImage--NgYbh resource_cards--image--V7Y8-",d="resource_cards--footer--cRSOS text--fontPos13--xW8hS text--_fontBase--QdLsd",m="resource_cards--profile--YLut5",u="resource_cards--profileName--Uvden",_="resource_cards--attributes--9cUYC"},427681:(e,t,a)=>{a.d(t,{GJ:()=>r,ST:()=>l,Sd:()=>s,Wc:()=>c,a1:()=>i,d6:()=>m,dC:()=>p,gz:()=>_,kJ:()=>n,l0:()=>u,up:()=>o,vf:()=>d});let r="plugin_try_button--pluginRowButton--j0-Zs plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",n="plugin_try_button--pluginRowButtonFigJam--b2eAZ plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",i="plugin_try_button--pluginRowButtonDevMode--kICf- plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",o="plugin_try_button--designButtonContainer--fUwNu plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",l="plugin_try_button--figjamButtonContainer--oEyLK plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",s="plugin_try_button--devmodeButtonContainer--a8Et0 plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",c="plugin_try_button--notApprovedButtonContainer--CPDJQ plugin_try_button--designButtonContainer--fUwNu plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",d="plugin_try_button--approvedButtonContainer--iP-YF plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",m="plugin_try_button--simpleApproveButton_textContainer--jWboW",u="plugin_try_button--simpleTryButton_textContainer--1TH9G",_="plugin_try_button--tryButtonInRedesignedPluginRow--UeyyK text--fontPos11--2LvXf text--_fontBase--QdLsd",p="plugin_try_button--textContainerInRedesignedPluginRow--WZ1--"},157199:(e,t,a)=>{a.d(t,{RZ:()=>r,_q:()=>i,zC:()=>n});let r="comment_confirm_modals--reportContentWrapper--Nseo6",n="comment_confirm_modals--reportContentText--QZrcs",i="comment_confirm_modals--blockContentText--6aU5U"},306665:(e,t,a)=>{a.d(t,{_M:()=>s,bv:()=>i,cI:()=>r,nf:()=>n,q3:()=>o,zc:()=>l});let r="community_hub_banner--bannerContainer--I7euo text--fontPos11--2LvXf text--_fontBase--QdLsd",n="community_hub_banner--link--tqByg",i="community_hub_banner--boldText--jhtS9",o="community_hub_banner--bannerIcon--GVQKO",l="community_hub_banner--iconContainer--Szb1y",s="community_hub_banner--bannerText--Mlrz- ellipsis--ellipsis--Tjyfa"},650168:(e,t,a)=>{a.d(t,{Vi:()=>r,hh:()=>n,jx:()=>c,nu:()=>s,tt:()=>i,uD:()=>l,uw:()=>o});let r="cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",n="cta_button--figjam--ZRMcS",i="cta_button--duplicateButtonContainerNoIcon--t9Vxs cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",o="cta_button--duplicateButtonContainerNoIconWide--KYJ2x",l="cta_button--textIconContainer--wV-ch",s="cta_button--duplicateButtonContainerNoIconDisabled--IPh2F cta_button--duplicateButtonContainerDisabled--IzZn7 cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",c="cta_button--ctaButtonLink--5C3KX"},815700:(e,t,a)=>{a.d(t,{BE:()=>n,LL:()=>o,Xk:()=>i,_1:()=>l,iZ:()=>s,uu:()=>r});let r="detail_view--installButton--IloIX",n="detail_view--installButtonSubtext--iqsQz text--fontPos11--2LvXf text--_fontBase--QdLsd",i="detail_view--pendingInviteBanner--Jfy7s text--fontPos13--xW8hS text--_fontBase--QdLsd",o="detail_view--pendingInviteButton--XYgKx",l="detail_view--paidResourceSection--crSbo detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd",s="detail_view--reportSection--qDu-P detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},243763:(e,t,a)=>{a.d(t,{w:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,469720)).then(e=>e.EduReviewPage),{loading:()=>null,error:r.H4.NONE,componentName:"EduReviewPage"})},966420:(e,t,a)=>{a.d(t,{G:()=>i});var r=a(503457),n=a(493323);let i=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,865360)).then(e=>e.OrgSelfServeBillingRemodelPage),{loading:n.Z_,error:r.H4.NONE,componentName:"OrgSelfServeBillingRemodelPage"})},371740:(e,t,a)=>{a.d(t,{N:()=>i});var r=a(503457),n=a(493323);let i=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,752014)).then(e=>e.OrgSelfServeFigJamPage),{loading:n.Z_,error:r.H4.NONE,componentName:"OrgSelfServeFigJamPage"})},274990:(e,t,a)=>{a.d(t,{z:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,552404)).then(e=>e.PromoReviewPage),{loading:()=>null,error:r.H4.NONE,componentName:"PromoReviewPage"})},884243:(e,t,a)=>{a.d(t,{q:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,394802)).then(e=>e.TeamUpgradePageBillingRemodel),{loading:()=>null,error:r.H4.NONE,componentName:"TeamUpgradePageBillingRemodel"})},238879:(e,t,a)=>{a.d(t,{h:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,116977)).then(e=>e.TeamUpgradePageV2),{loading:()=>null,error:r.H4.NONE,componentName:"TeamUpgradePageV2"})},426887:(e,t,a)=>{let r;a.d(t,{y:()=>o});var n=a(193647),i=a(237870);function o(){return r??=(0,i.Ju)(n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,408422)).then(e=>e.FolderRenameModal),(0,i.Ij)("FolderRenameModal")))}},190093:(e,t,a)=>{a.r(t),a.d(t,{ConfirmDowngradeEditorsModal:()=>s});var r=a(411855),n=a(96328),i=a(939863),o=a(672517),l=a(585878);function s(e){let{team:t,editors:a}=e,{id:s}=t,c=a.length,d=a.filter(e=>e.id).map(e=>e.id).join(),m=(0,i.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,n.EJ)(e.editors[0].name||e.editors[0].email,20)}),u=(0,i.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:c});return r.createElement(o.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:c,editorIds:d,teamId:s}},r.createElement(l.Eo,{title:c>1?u:m,confirmText:(0,i.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm},r.createElement("p",null,c>1&&(0,i.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:c}),(0,i.tx)("team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view"))))}},683729:(e,t,a)=>{a.r(t),a.d(t,{ConfirmTeamUserPaidStatusUpdateModal:()=>d});var r=a(411855),n=a(946689),i=a(939863),o=a(14339),l=a(672517),s=a(36816),c=a(585878);function d(e){let{team:t,members:a,paidStatus:d,costMessaging:m}=e,{id:u}=t;if(![s.Zf.FULL,s.Zf.RESTRICTED].includes(d))return r.createElement(r.Fragment,null);let _=a.length,p=a.filter(e=>e.id).map(e=>e.id).join(),f=d===s.Zf.RESTRICTED,g=e.paidStatusType===s.j4.WHITEBOARD,E=g?a.every(e=>!e.whiteboard_editor_upgrade):a.every(e=>!e.design_editor_upgrade),h=d===s.Zf.RESTRICTED&&E,v=a[0].name||a[0].email;return r.createElement(l.fu,{name:"Team Admin Restrict TeamUser Modal",properties:{memberCount:_,memberIds:p,teamId:u}},r.createElement(c.Eo,{title:f?h?g?(0,i.tx)("team_view.downgrade_figjam_access_from_viewer_to_viewer_restricted"):(0,i.tx)("team_view.downgrade_design_access_from_viewer_to_viewer_restricted"):g?(0,i.tx)("team_view.remove_figjam_edit_status.seat_rename"):(0,i.tx)("team_view.remove_design_edit_status.seat_rename"):m?(0,o.LB)(m,_,g):g?(0,i.tx)("team_view.grant_figjam_edit_status.seat_rename"):(0,i.tx)("team_view.grant_design_edit_status.seat_rename"),confirmText:f?h?(0,i.t)("team_view.change"):(0,i.t)("team_view.remove.seat_rename"):(0,i.t)("team_view.grant.seat_rename"),onConfirm:e.onConfirm},d===s.Zf.RESTRICTED&&(h?g?(0,i.tx)("team_view.downgrade_figjam_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:v,numMembers:_}):(0,i.tx)("team_view.downgrade_design_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:v,numMembers:_}):g?(0,i.tx)("team_view.downgrade_figjam_description.seat_rename",{memberNameOrEmail:v,numMembers:_}):(0,i.tx)("team_view.downgrade_design_description.seat_rename",{memberNameOrEmail:v,numMembers:_})),d===s.Zf.FULL&&r.createElement(r.Fragment,null,(()=>{if(!f)return m?(0,o.yc)(m,_,v,g):g?(0,i.tx)("team_view.change_to_editor_figjam_description.seat_rename",{numMembers:_,memberNameOrEmail:v}):(0,i.tx)("team_view.change_to_editor_design_description.seat_rename",{numMembers:_,memberNameOrEmail:v})})(),r.createElement("p",{className:"confirm_team_user_paid_status_update_modal--spacing--D5LgW"},r.createElement(n.N_,{target:"_blank",className:"confirm_team_user_paid_status_update_modal--link--cb35L",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,i.tx)("team_view.learn_more.seat_rename"))))))}},223133:(e,t,a)=>{a.r(t),a.d(t,{MemberEditAccessModal:()=>C});var r=a(411855),n=a(188507),i=a(943632),o=a(391388),l=a(886653),s=a(355819),c=a(939863),d=a(662275),m=a(672517),u=a(99506),_=a(147206),p=a(668860),f=a(36816),g=a(585878);let E="edit_access_modal--column--MYvAz",h="edit_access_modal--resource--qhm-x",v="edit_access_modal--resourceTitle--79DdK edit_access_modal--resource--qhm-x",y="edit_access_modal--greyResource--pdVfB edit_access_modal--resource--qhm-x",b=(e,t)=>{if("file"===e.resource_type){let a=t[e.resource_id_or_key];if(a)return{name:a.name,id_or_key:a.key}}else{let a=t[e.resource_id_or_key];if(a)return{name:a.name,id_or_key:a.id}}},w=(0,l.xx)((e,t)=>{let a={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let r=b(e,t);r?a.editableResources.push(r):a.privateResourceCount++}),(0,i.v7)(a.editableResources,e=>e.name)),a}),T=e=>{let t=e.team_user,a=e.edit_roles,r=a?.whiteboard_files||[],n=a?.design_files||[],i=(0,_.qR)(t,u._Y.DESIGN);return{whiteboardRoles:(0,_.qR)(t,u._Y.WHITEBOARD)?[]:r,designRoles:i?[]:n}},I=(e,t)=>{let{whiteboardRoles:a,designRoles:r}=T(e);return w(a.concat(r),t)};function C(e){let t=(0,n.wA)(),a=function(e,t){let a=(0,n.d4)(a=>a.teamMembersByTeamId[e][t]);return o.Qw.loaded(a)}(e.teamId,e.memberEmail),i=(0,n.d4)(e=>e.folders),l=r.useMemo(()=>a.transform(e=>w(e?.edit_roles?.folders,i)),[i,a]),u=(0,n.d4)(e=>e.folders),_=r.useMemo(()=>a.transform(e=>e?I(e,u):{privateResourceCount:0,editableResources:[]}),[u,a]),h=(0,n.d4)(t=>t.teams[e.teamId]),y=o.Qw.all([a,l,_]);if("loaded"!==y.status)return null;let[b,T,C]=y.data;if(!b)return console.error("Member not found"),null;let x=!!b.team_role&&b.team_role?.level>=p.e6.EDITOR,S=T.editableResources.length+T.privateResourceCount,k=C.editableResources.length+C.privateResourceCount;return r.createElement(m.fu,{name:"Member Edit Access Modal",properties:{teamId:h.id,userId:b.id,folderCount:S,fileCount:k}},r.createElement(g.XV,{title:(0,c.t)("team_view.member_edit_access_modal.title",{memberName:b.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--20dSp",onClose:()=>{t(d.Ce())}},r.createElement("div",{className:"edit_access_modal--headerContainer--ZoKpu edit_access_modal--resourceContainer--vZA5E"},r.createElement("div",{className:E},r.createElement("div",{className:v},(0,c.tx)("team_view.member_edit_access_modal.projects_title"))),r.createElement("div",{className:E},r.createElement("div",{className:v},(0,c.tx)("team_view.member_edit_access_modal.files_title")))),r.createElement(s.P,{className:"edit_access_modal--scrollContainer--WzCWr",hideScrollbar:!0},r.createElement("div",{className:"edit_access_modal--resourceContainer--vZA5E"},r.createElement("div",{className:E},r.createElement(N,{hasTeamEditPermissions:x,isWhiteboardEditor:b.team_user?.whiteboard_paid_status===f.Zf.FULL,isDesignEditor:b.team_user?.design_paid_status===f.Zf.FULL,resources:T,resourceType:"project"})),r.createElement("div",{className:E},r.createElement(N,{hasTeamEditPermissions:x,isWhiteboardEditor:b.team_user?.whiteboard_paid_status===f.Zf.FULL,isDesignEditor:b.team_user?.design_paid_status===f.Zf.FULL,resources:C,resourceType:"file"}))))))}let x=e=>"file"===e?(0,c.tx)("team_view.member_edit_access_modal.none_files"):(0,c.tx)("team_view.member_edit_access_modal.none_projects");function N(e){let t;let{hasTeamEditPermissions:a,isDesignEditor:n,isWhiteboardEditor:i,resourceType:o}=e;if(a)return"project"===o?r.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.all_projects")):n&&i?r.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.all_files")):n&&!i?r.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.all_design_files")):!n&&i?r.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.all_figjam_files")):r.createElement("div",{className:y},x(o));let l=e.resources;if(0===l.privateResourceCount&&0===l.editableResources.length)return r.createElement("div",{className:y},x(o));if(l.privateResourceCount>0){let e=r.createElement("span",null);0===l.editableResources.length&&"project"===o?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects",{numProjects:l.privateResourceCount}):0===l.editableResources.length&&"file"===o?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files",{numFiles:l.privateResourceCount}):l.editableResources.length>0&&"project"===o?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects_list_end",{numProjects:l.privateResourceCount}):l.editableResources.length>0&&"file"===o&&(e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files_list_end",{numFiles:l.privateResourceCount})),t=r.createElement("div",{className:h},e)}return r.createElement(r.Fragment,null,l.editableResources.map(e=>r.createElement("div",{key:e.id_or_key,className:h},e.name)),t)}},243058:(e,t,a)=>{a.d(t,{JC:()=>m,Oe:()=>c,VY:()=>o,ay:()=>u,dZ:()=>d,vW:()=>l,wu:()=>i,y$:()=>s});var r=a(503457),n=a(193647);let i=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,744263)).then(e=>e.BillingGroupDashboardSettingsPageView),{loading:()=>null,error:r.H4.NONE,componentName:"BillingGroupDashboardSettingsPageView"}),o=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,92114)).then(e=>e.LicenseGroupAdminSettingsPageView),{loading:()=>null,error:r.H4.NONE,componentName:"LicenseGroupAdminSettingsPageView"}),l=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,342933)).then(e=>e.OrgAdminSettingsPageView),{loading:()=>null,error:r.H4.NONE,componentName:"OrgAdminSettingsPageView"}),s=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,604772)).then(e=>e.WorkspaceAdminSettingsPageView),{loading:()=>null,error:r.H4.NONE,componentName:"WorkspaceAdminSettingsPageView"}),c=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,311070)).then(e=>e.OrgDomainManagementPageView),{loading:()=>null,error:r.H4.NONE,componentName:"OrgDomainManagementPageView"}),d=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,17979)).then(e=>e.AbandonedDraftFilesPageView),{loading:()=>null,error:r.H4.NONE,componentName:"AbandonedDraftFilesPageView"}),m=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,499174)).then(e=>e.TeamAdminConsoleView),{loading:()=>null,error:r.H4.NONE,componentName:"TeamAdminConsoleView"}),u=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(9257),a.e(9012)]).then(a.bind(a,758441)).then(e=>e.AdminSidebar),{loading:()=>null,error:r.H4.NONE,componentName:"AdminSidebar"})},366643:(e,t,a)=>{a.r(t),a.d(t,{FileMoveDropdown:()=>ti,FileMoveHiddenDiv:()=>to,FileMoveModal:()=>e7,FileMoveModalComponent:()=>e9,FileMoveSearch:()=>te,TeamSection:()=>tt,TeamsDisplay:()=>tr,getCurrentFolderId:()=>e5,getTargetAttribute:()=>e8,isSubscribedLG:()=>e3});var r=a(411855),n=a(109388),i=a(188507),o=a(67151),l=a(889012),s=a.n(l),c=a(776250),d=a(91408),m=a(966712),u=a(498750),_=a(915440),p=a(711525),f=a(752553),g=a(742808),E=a(268537),h=a(946689),v=a(459826),y=a(452441),b=a(493323),w=a(355819),T=a(163023),I=a(901536),C=a(939863),x=a(411045),N=a(365879),S=a(738269),k=a(694764),L=a(198123),A=a(662275),R=a(672517),F=a(688083),P=a(864319),O=a(99506),D=a(623746),M=a(66037),B=a(668860),U=a(875847),V=a(253938),H=a(279453),W=a(707465),j=a(984968),$=a(454351),G=a(451e3),Y=a(945020),z=a(489291),Q=a(567088),K=a(498606),q=a(143678),Z=a(547807);let X=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,Z.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var J=a(922358),ee=a(585878),et=a(776621),ea=a(27087),er=a(62342);function en(e){return r.createElement("div",{className:"page_move--fileCreateNameContainer--JBcti"},r.createElement("div",{className:"page_move--fileCreateNameSvgContainer--nm5eH"},r.createElement(er.oS,{type:er.y1.DESIGN})),r.createElement(h.ks,{value:e.newFileName,onChange:e.onChange,maxLength:255,autoFocus:!0,placeholder:(0,C.t)("page_move.add_new_file_name"),className:"page_move--fileCreateNameInput--0yBR8"}))}var ei=a(730935),eo=a(249963),el=a(511243),es=a(138020),ec=a(297666),ed=a(130097),em=a(980820),eu=a(243987),e_=a(147206),ep=a(463592),ef=a(472503),eg=a(173454);let eE="32px",eh=(0,d.hG)(eE),ev=e=>e?.id||k.iK,ey=new ep.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),eb=(e,t,a,r,n,i)=>{if(e.orgId!==n&&t?.orgId!==n)return!1;if(!(0,m.kc)().ps_benchmark){if((0,U.VA)(e))return e.id===i;if((0,U.B_)(e))return!1}return!(!e.canEdit||t&&(0,eu.S$)(e,t,a)&&!(0,U.VA)(e))&&(!r||!!(0,eu.XX)(t))},ew=(e,t,a)=>!(!(0,m.kc)().ps_benchmark&&(0,eu.dX)(e,t))&&(!a||!!(0,eu.XX)(e)),eT=(e,t=!1)=>{let a=[],r=(0,U.gj)(e.user&&e.user.id,e.folders,e.roles.byFolderId,e.user&&e.orgId?e.orgUsers[e.orgId][e.user.id]:null);Object.keys(e.folders).forEach(n=>{let i=e.folders[n],o=i.teamId?e.teams[i.teamId]:null;eb(i,o,e.user,t,e.orgId,r?.id)&&((0,U.VA)(i)&&(i={...i,path:(0,eg.Tb)()}),a.push(i))}),ey.set(a.map(t=>{let a=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},r={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription};return a?{folder:r,team:a}:{folder:r}}))},eI=({folders:e,roles:t,user:a,orgUsers:r,teams:n,orgId:i,implicitTeamRolesTeamIds:o},l,s,c)=>{let d=Object.create(null),u=0,_=0,p=(0,U.gj)(a&&a.id,e,t.byFolderId,a&&i?r[i][a.id]:null);for(let e in d[k.HK]=[],d[k.iK]=[],t.byTeamId)ew(n[e],a,l)&&(_++,d[e]=[]);o&&o.forEach(e=>{ew(n[e],a,l)&&(_++,d[e]=[])}),Object.keys(e).forEach(t=>{let r={...e[t]},o=eb(r,r.teamId?n[r.teamId]:null,a,l,i,p?.id);if((0,m.kc)().file_move_show_all_resources){if(o&&(!s||r.subscription||(0,U.VA)(r))){let e=r.teamId?n[r.teamId]:null;d[p&&r.id===p.id?k.HK:ev(e)].push(r),u++}}else if(o&&(r.subscription||(0,U.VA)(r))){let e=r.teamId?n[r.teamId]:null;d[p&&r.id===p.id?k.HK:ev(e)].push(r),u++}});let f=u+_;return c(k.CU({indexCount:f})),c(k.xH()),d},eC=(e,t,a,r,n)=>{let i=Object.create(null),o=Object.create(null),l=[],s=0,c=0;if(n){let t=e.indexOf(n);t>-1&&(e.splice(t,1),e.splice(1,0,n))}return e.forEach(e=>{if(o[e]=s,c+=8,e!==k.iK&&e!==k.HK){let t={type:$.b.NEW_FOLDER_TEAM,id:e,positionTop:c};l.push(t),c+=eh,s+=1}let a=t[e];s+=a.length,a.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let d=Array.from(a);r&&n&&e===n&&d.forEach((e,t)=>{e.id===r&&(a.splice(t,1),a.unshift(e))}),a.forEach(e=>{let t={type:$.b.FOLDER_ROW,id:e.id,positionTop:c};c+=eh,l.push(t)}),i[e]=a,c+=9}),[i,o,l]},ex=(e,t,a)=>{let r=Object.create(null),n=Object.create(null),i=0,o=0,l=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,s=(0,U.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,l);for(let a of e){let e=a.item.folder,l=s&&e.id===s.id?0:a.score,c=e.teamId?t.teams[e.teamId]:null,d=s&&e.id===s.id?k.HK:ev(c);!(d in r)&&(r[d]=[],d!==k.iK&&d!==k.HK&&o++),r[d].push(e),null==n[d]?n[d]=l:n[d]=Math.min(n[d],l),i++}let c=i+o;return a(k.CU({indexCount:c})),[n,r]},eN=e=>(t,a)=>{if(t===k.iK)return 1;let r=e[t],n=e[a];return r?n&&r.name.toLowerCase()<n.name.toLowerCase()?-1:1:-1},eS=e=>(t,a)=>e[t]-e[a],ek=async(e,t,a,r,n=!1,i=!1,l,s,c,d)=>{var u,_;let p;let f=e.getState(),g=null,E=null;t.type===$.A.FILE?(g=t.file.parent_org_id||null,E=t.file.team_id):t.type===$.A.REPO?(g=t.repo.parent_org_id||null,E=t.repo.team_id):t.type===$.A.FILE_IMPORT&&(g=t.orgId);let h=[];if(a){let e=ex(await ey.search(a),r,l);_=e[0],(h=Object.keys(u=e[1])).length&&h.sort(eS(_))}else u=eI(r,n,!!d,e.dispatch),r.user?(h.push(k.HK),h=h.concat((0,j.n$)(Object.values(r.teams),r.fileBrowserPreferences?.orderedTeamIds||[])),u[k.iK].length>0&&h.push(k.iK)):(h=Object.keys(u)).sort(eN(r.teams));switch(t.type){case $.A.FILE:p=t.file.editor_type;break;case $.A.REPO:p=O._Y.DESIGN;break;case $.A.FILE_IMPORT:p=t.files.every(e=>".jam"===(0,ef.dv)(e.name).toLowerCase())?O._Y.WHITEBOARD:O._Y.DESIGN;break;default:(0,o.xb)(t)}let v=new Set,y=Object.values(u).flatMap(e=>e.map(e=>({id:e.id}))),b=p===O._Y.WHITEBOARD?H.JkW:H.RmP;(await (0,ed.S8)(b,y)).forEach(e=>{let t=e.result;"loaded"===t.status&&es.oA(t.data?.project)?.hasPermission&&v.add(e.args.id)});let w=h.filter(e=>{if(e===k.iK)return null===u||u[e].length>0;let t=r.teams;if(e!==k.HK){let a=t[e]?.orgId||null;if(g||a){if(a!==g)return!1}else if(E&&e===k.iK)return!1}return!(t[e]?.deletedAt||!(0,m.kc)().ps_benchmark&&(0,e_.XG)(t[e]?.currentTeamUser,p))&&!!u[e]?.some(e=>v.has(e.id))}),[T,I,C]=eC(w,u,i,s,c);e.dispatch(k.OT({rows:C})),e.dispatch(k.t3({indexOffsets:I})),e.dispatch(k.Pb({foldersByTeamId:T})),e.dispatch(k.Mi({teamIds:w})),a||e.dispatch(k.w3({userTeamCount:w.length})),f.fileMove.isSearchResult!==i&&e.dispatch(k.EN({isSearchResult:i}));let x=k.HK in I&&C[0].type===$.b.FOLDER_ROW;a&&x?e.dispatch(k.Dp({indexAt:0})):a&&!x&&e.dispatch(k.Dp({indexAt:1}))},eL=(e,t,a,r=!1,n,i,o)=>{ek(e,t,"",a,r,!1,e.dispatch,i,o,n)},eA=(0,ec.s)((e,t,a,r,n=!1)=>{ek(e,t,a,r,n,!!a,e.dispatch)},200),eR=(0,em.nF)((e,t)=>{eT(t.userResources,t.modalData.isPublishing),eL(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),eF=(0,em.nF)((e,t)=>{eA(e,t.modalData,t.query,t.userResources),e.dispatch(k.hq(t))});var eP=a(517333),eO=a(647899),eD=a(881388),eM=a(507877),eB=a(349410),eU=a(964258),eV=a(928491),eH=a(858212);let eW="file_move--main--RCzls",ej="file_move--iconContainer--SWek6",e$="file_move--folderRowWrapper--Qw-C4",eG="file_move--folderRow--DapA5",eY="file_move--horizontalDivider--wRv3N";var ez=a(444173);function eQ(e){let t=(0,eH.S)(),a=(0,i.d4)(e=>e.user),[n,o]=(0,r.useState)(""),l=e.dispatch,[s,d]=(0,r.useState)(!0),m=(0,eO.I7)("starter_team_loophole_experiment_m0"),u=(0,eO.I7)("starter_team_loophole_experiment_m1");return r.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,c.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),n?(l((0,eU.KQ)({teamName:n,orgAccess:O.bU.PUBLIC,dontRedirect:!0})),d(!0),o("")):l(eD.s.error((0,C.t)("flash.team_name_cannot_be_empty")))}},r.createElement("div",{className:"file_move--teamCreateRow--o7dzW file_move--folderRow--DapA5"},s?r.createElement("button",{type:"button",className:"file_move--rowButton--6ASbR",onClick:()=>{null!=a&&!e.orgId&&(0,eB.e5)({userId:a.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId,getM0Config:m.getConfig,getM1Config:u.getConfig})?(l(A.Ce()),l(eM.Dw({openInNewTab:!eP.eD}))):(d(!1),l(k.xH()))}},r.createElement(T.B,{className:"file_move--newProjectIconFileMove--Pp8qn sidebar--icon--wMzUY",svg:ez.A}),r.createElement("span",{className:t?"file_move--newFolderNameCustomSections--4BQqs sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"file_move--newFolderName--HNEBp sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"},(0,C.tx)("file_browser.inline_team_creation.button_text"))):r.createElement(r.Fragment,null,r.createElement("div",{className:ej},r.createElement(eV.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})),r.createElement("div",{className:"file_move--newTeamTitleText--VUp4S file_move--teamTitleText--NhNEM ellipsis--ellipsis--Tjyfa"},r.createElement(h.ks,{value:n||"",onChange:e=>{o(e.target.value)},onBlur:()=>{d(!0)},className:"file_move--newTeamInput--rHUdq",maxLength:e.teamNameMaxWidth,placeholder:(0,C.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})))))}var eK=a(450147),eq=a(702595),eZ=a(853705),eX=a(130715),eJ=a(720955),e0=a(797804),e1=a(258485);let e2=(0,d.hG)(eE),e4="FileMoveModalContent";function e8(e){return"folder"===e.view||(0,W.YJ)(e)?"_self":"_blank"}function e3(e){return!!e.subscription||(0,U.VA)(e)}function e5(e){switch(e.type){case $.A.FILE:let t=e.file;return t?.folder_id||null;case $.A.REPO:let a=e.repo;return a?.folder_id||null;case $.A.FILE_IMPORT:return null;default:(0,o.xb)(e)}}function e9(e){let t=null;e.type===$.A.FILE?t=e.file.parent_org_id||null:e.type===$.A.REPO?t=e.repo.parent_org_id||null:e.type===$.A.FILE_IMPORT&&(t=e.orgId);let a=(0,i.d4)(e=>e.orgById),n=t?a[t]:null,o=(0,i.d4)(e=>e.fileMove),l=(0,i.d4)(e=>!!e.creatingNewFolder),s=(0,i.d4)(e=>e.dropdownShown),d=(0,i.d4)(e=>e.selectedView),u=e5(e),f=(0,x.cf)(),E=(0,_.Rs)(H.Y9I,{projectId:u},{enabled:!!u}),h=(0,_.Rs)(H.G0Y,{orgId:t});"errors"===h.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(h.errors));let v="loaded"===h.status&&("loaded"===E.status||e.type===$.A.FILE_IMPORT)?{fetched:h,transformed:function(e,t,a,r){let n={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},i={},o={},l={},s={byFolderId:{},byTeamId:{}},c=(0,D.Um)(e.currentUser),d=[],u=e=>{o[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{l[e.orgId]={[e.userId]:{...e,type:M.Wd.ORG_USER,account_type:e.accountType,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt?.toString()||"",disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||O.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||O.El.RESTRICTED,...r?{active_seat_type:(0,P.TA)(e.activeSeatTypeUpgrade?.billableProduct)}:void 0}},e.draftsProject&&(u(e.draftsProject),e.draftsProject.ownerRole&&(s.byFolderId[e.draftsProject.id]={[n.id]:(0,D.aU)(e.draftsProject.ownerRole,c,null,null)}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:a}=e.team;i[t]={...e.team,canEdit:e.level>=B.e6.EDITOR,canAdmin:e.level>=B.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:(0,D.aU)(e,c,null,null)},a&&a.forEach(e=>u(e))});let _=e&&e.org?e.org:null;if(_){if(t){let e=(0,p.oA)(t.project);e&&e.canEdit&&u(e)}_.teams&&_.teams.forEach(e=>{let{id:t,orgEditProjects:a}=e;if(!i[t]){let a=e.canEdit,r=e.canAdmin,n=e.licenseGroup;i[t]={...e,canEdit:a??!1,canAdmin:r??!1,licenseGroup:n||null},d.push(t)}let r=(0,p.oA)(a);r&&r.forEach(e=>{u(e)})})}return(0,m.kc)().ps_benchmark&&e.currentUser.teamRoles?.forEach(e=>{if(!e.team)return;let{id:t}=e.team;i[t]||(i[t]={...e.team,canEdit:!1,canAdmin:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:D.aU(e,c,null,null)})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(u(e.project),s.byFolderId[e.project.id]={[n.id]:(0,D.aU)(e,c,null,null)})}),e.currentUser.draftsProject&&(u(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(s.byFolderId[e.currentUser.draftsProject.id]={[n.id]:(0,D.aU)(e.currentUser.draftsProject.ownerRole,c,null,null)})),{org:_,user:n,teams:i,folders:o,roles:s,orgUsers:l,orgId:a,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:d}}(h.data,e.type!==$.A.FILE_IMPORT?E.data:null,t,f)}:null,y=null===v?{loaded:!1}:{loaded:!0,userResources:v.transformed},b=null==u||null===v?null:v.transformed.folders[u],w=b?b.teamId:null,T=(0,i.wA)();r.useEffect(()=>{y.loaded&&T(eR({modalData:e,userResources:y.userResources,currentFolderId:u,currentFolderTeamId:w}))},[v&&v.fetched]);let I=[];if(y.loaded&&!t)for(let e in y.userResources.teams){let t=y.userResources.teams[e];"ok"!==t.subscription&&I.push(t.id)}let C=function(e){let[t,a]=r.useState((0,p.Xm)()),n=e.join(",");return r.useEffect(()=>{if(0===n.length){a((0,p.gB)({}));return}a((0,p.Xm)());let e=!1;return(async()=>{let t=await X.getTeamRestrictionsLists({teamIds:n});e||a((0,p.gB)(t.data.meta))})(),()=>{e=!0}},[n]),t}(I);if("loaded"===C.status&&y.loaded)for(let e in y.userResources.teams){let t=y.userResources.teams[e];C.data[e]&&(t.restrictionsList=C.data[e])}return(0,g.I)("loaded"===h.status,e=>{(0,c.sx)("file_move_modal_latency",{latency_ms:e},{forwardToDatadog:!0})}),r.createElement(e7,{modalId:e._modalId,fileMove:o,fileMoveData:e,creatingNewFolder:l,dropdownShown:s,selectedView:d,dispatch:T,userResources:y,currentOrg:n})}function e6(e){let t=null!=e.orgId,a=e.subscription===O.Qh.INCOMPLETE||e.subscription===O.Qh.OK;return{id:e.id,subscription:e.subscription,starter_team:!t&&!a,pro_team:a,org_team:t,student_team:!!e.studentTeamAt,deleted_at:e.deletedAt?.toString()||null}}class e7 extends r.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerElm=n.findDOMNode(e)},this.isMovePageToNewFile=(0,m.kc)().move_page_to_new_file&&this.props.fileMoveData.isMovePageToNewFile,this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(k.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(k.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(e4);if((0,J.NB)(t))return;let{userResources:a}=this.props.userResources;switch(e.keyCode){case u.Uz.ESCAPE:this.onClose();break;case u.Uz.UP_ARROW:this.props.dispatch(k.zv());break;case u.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(k.TL({upperBound:this.props.fileMove.indexCount}));break;case u.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===$.b.NEW_FOLDER_TEAM){let t=e.id,r=a.teams[t];this.props.dispatch((0,F.SX)({where:this.props.modalId.type,team:{...(0,Y.Ws)(r),canEdit:!0,canEditTeamContents:!0,canAdmin:r.canAdmin}}))}else if(e.type===$.b.FOLDER_ROW){let t=a.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(A.Lo()):this.props.dispatch(A.Ce())},this.openOrgView=e=>{this.props.dispatch(S.$T({view:"org",orgId:e,orgViewTab:z.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(A.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)};if(this.isMovePageToNewFile&&this.props.fileMoveData.type!==$.A.FILE_IMPORT){var a,r,n;this.onClose();let t=this.props.fileMoveData.type===$.A.FILE?this.props.fileMoveData.fileKey:this.props.fileMoveData.repoId;a=this.props.fileMoveData.page_id,r=e.id,n=this.state.newFileName,(0,et.ED)("startMovePagesJob","Send request to start move pages job."),ea.Ay.post(`/api/files/${t}/move_pages`,{folder_id:r,page_ids:a,file_name:n}).catch(e=>{(0,et.x1)("startMovePagesJob","Error with starting move pages job.",{err:e})}).then(()=>{(0,et.ED)("startMovePagesJob","Move pages job successfully started.")});return}let i=this.props.fileMoveData;if(i.type===$.A.FILE&&i.file.is_team_template&&(0,U.VA)(e)){this.props.dispatch(A.to({type:el.X0,data:{title:(0,C.tx)("templates.confirmation.move_to_drafts.title",{count:1}),content:(0,C.tx)("templates.confirmation.move_to_drafts.description"),confirmText:(0,C.tx)("templates.confirmation.move_to_drafts.button_v2"),destructive:!1,onConfirm:t}}));return}t()},this.move=s()(e=>{let t=this.props.fileMoveData;switch(t.type){case $.A.FILE:this.moveFile(e,t.file);break;case $.A.REPO:this.moveRepo(e,t.repo);break;case $.A.FILE_IMPORT:for(let a of t.files)this.props.dispatch((0,V.zh)({name:a.name,blob:new Blob([a.contents]),folderId:e.id}));break;default:(0,o.xb)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(A.ES(this.props.modalId))},this.moveFile=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let a=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(L.z({files:[t],folder:e,team:a,fromFileModal:!0,onFinishCallback:this.props.fileMoveData.afterFileMove?.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let a=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(L.z({files:[],repos:[t],folder:e,team:a,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(this.isMovePageToNewFile)return(0,C.t)("file_browser.file_move.move_pages_to_new_file");if(e.type===$.A.FILE_IMPORT)return 1===e.files.length?(0,C.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,C.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===$.A.FILE?e.file.name:e.repo.name;return(0,C.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===$.b.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(S.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})},this.renderViewerUpgradeAwarenessBanner=(e,t,a)=>{if(!this.props.userResources.loaded)return null;let{userResources:n}=this.props.userResources;if(!(0,U.VA)(t)||(0,U.VA)(a))return null;let i=this.props.fileMoveData.type===$.A.FILE?this.props.fileMoveData.fileKey:"";if(n.orgId){if(n.org?.k12GoogleOrg)return null;let t=n.orgUsers[n.orgId],a=t&&n.user?t[n.user.id]:null,o=!1;if(e===O._Y.DESIGN?o=a?.design_paid_status===O.El.STARTER:e===O._Y.WHITEBOARD&&(o=a?.whiteboard_paid_status===O.El.STARTER),o)return r.createElement(ei.n,{planName:this.props.currentOrg?.name,planType:Q.O.ORG,planId:n.orgId,fileKey:i,upgradeReason:eo.X.MOVE_DRAFT})}else{let t=a?.teamId,o=t?n.teams[t]:null;if(o&&e6(o).pro_team){let t=!1;if(e===O._Y.DESIGN?t=o.currentTeamUser?.designPaidStatus===O.Zf.STARTER:e===O._Y.WHITEBOARD&&(t=o.currentTeamUser?.whiteboardPaidStatus===O.Zf.STARTER),t)return r.createElement(ei.n,{planName:o.name,planType:Q.O.TEAM,planId:o.id,fileKey:i,upgradeReason:eo.X.MOVE_DRAFT})}}return null}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(k.qb({fileMove:this.props.fileMove})),this.props.dispatch(k.YG({isSearchFocused:!0})));let a=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==a){if(!this.scrollContainerElm||-1===a)return;let e=this.props.fileMove.folderRows[a].positionTop,t=this.scrollContainer.getScrollTop(),r=this.scrollContainerElm.clientHeight;e<t?0===a?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+e2>t+r&&(null!=this.props.fileMove.indexCount&&a===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-r+e2))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(k.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let a=e.folders[t.data.folderId];return a?r.createElement(ti,{folder:a,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){let e,t,a;let n=this.props.fileMoveData.modalWidth||288,i=this.getModalTitle();if(!this.props.userResources.loaded)return r.createElement(ee.XV,{title:i,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},r.createElement("div",{className:eW},r.createElement(b.a_,{className:"file_move--spinner--fdTRn"})));let{userResources:l}=this.props.userResources,s=e5(this.props.fileMoveData),c=null==s?null:l.folders[s],d=this.getFocusedFolder();e=this.isMovePageToNewFile?null!=d&&0!==this.state.newFileName.length:this.props.fileMoveData.type===$.A.FILE_IMPORT?null!=d:null!=d&&null!=c&&d.id!==c.id;let u=0===this.props.fileMove.teamOrder.length,_=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&!(0,m.kc)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==$.A.FILE_IMPORT,p=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&(0,m.kc)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==$.A.FILE_IMPORT,f=this.props.fileMoveData;switch(f.type){case $.A.FILE:t={fileKey:f.fileKey,fileTeamId:f.file&&f.file?.team_id,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},a=f.file.editor_type??O._Y.DESIGN;break;case $.A.REPO:t={repoId:f.repoId,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},a=O._Y.DESIGN;break;case $.A.FILE_IMPORT:t={},a=null;break;default:(0,o.xb)(f)}return r.createElement(R.fu,{name:q.e0.FILE_MOVE_MODAL,properties:t},r.createElement(ee.XV,{title:i,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},_?r.createElement("div",{className:"file_move--mainZeroState--LuJk0 file_move--main--RCzls",id:e4},r.createElement("div",{className:"file_move--zeroStateModal--0wxWh"},r.createElement("div",{style:{paddingTop:"100px"}},(0,C.tx)("file_browser.file_move.zero_state")),this.props.currentOrg&&r.createElement("div",{className:I.cx.pt20.$},r.createElement(h.$$,{onClick:this.onOrgViewLinkClick},this.props.currentOrg.bigma_enabled?(0,C.t)("file_browser.file_move.view_workspaces"):(0,C.t)("file_browser.file_move.view_teams"))))):r.createElement("div",{className:eW,id:e4},this.isMovePageToNewFile?r.createElement(en,{newFileName:this.state.newFileName,onChange:this.handleInputChange}):r.createElement(r.Fragment,null,a&&c&&d&&this.renderViewerUpgradeAwarenessBanner(a,c,d),r.createElement("div",{className:"file_move--searchWrapperNew--PXm8m"},r.createElement(te,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:l}))),r.createElement("div",{className:eY}),this.props.fileMoveData.displayBanner&&!this.isMovePageToNewFile&&r.createElement(r.Fragment,null,this.props.fileMoveData.displayBanner,r.createElement("div",{className:eY})),this.props.fileMove.folderSearchQuery&&!this.isMovePageToNewFile&&u?r.createElement("div",{className:"file_move--emptyModal--MPz-z"},(0,C.tx)("search.file_move.no_results_found",{folderSearchQuery:this.props.fileMove.folderSearchQuery})):r.createElement(w.P,{width:n,className:"file_move--teamSectionBody--YR9Lj",ref:this.scrollContainerRef,onScroll:this.onScroll},r.createElement(tr,{currentFolderId:s,fileMove:this.props.fileMove,fileEditorType:a,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,teams:l.teams,folders:l.folders,teamNameMaxWidth:n-88,componentMountedAt:this.componentMountedAt,orgId:l.orgId,onDoubleClick:this.moveToSelectedFolder,selectedView:this.props.selectedView,rolesByTeamId:l.roles.byTeamId,dispatch:this.props.dispatch})),r.createElement("div",{className:"file_move--footer--Pt8L1"},r.createElement(h.nR,{onClick:this.onClose},(0,C.tx)("modal.cancel")),r.createElement(h.vd,{disabled:!e,onClick:this.moveToSelectedFolder},this.props.fileMoveData.moveText||(0,C.t)("file_browser.file_move.move")))),this.renderDropdown(),r.createElement(to,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})))}}e7.displayName="FileMoveModal";class te extends r.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(k.xH()),this.props.dispatch(k.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(k.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(eF({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case u.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(k.TL({upperBound:this.props.folderCount}));break;case u.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(k.zv());break;case u.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(eF({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(A.Ce()),this.props.dispatch(k.xH());break;case u.Uz.TAB:t&&t.blur(),this.props.dispatch(k.xH());break;case u.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=r.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return r.createElement("div",{className:"file_move--searchContainer--0qezA"},r.createElement("div",{className:ej},r.createElement(T.B,{svg:eX.A})),r.createElement(y.L,{ref:this.searchInputRef,placeholder:(0,C.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--k79Z1":"file_move--searchInputEmptyNew--Qc-2U file_move--searchInputNew--k79Z1",value:this.props.searchQuery,onChange:this.onChange}))}}function tt(e){let{team:t,teamId:a}=e,[n,{onMouseOver:i,onMouseOut:o}]=(()=>{let[e,t]=(0,r.useState)(!1),a=(0,r.useCallback)(()=>t(!0),[t]),n=(0,r.useCallback)(()=>t(!1),[t]);return(0,r.useMemo)(()=>[e,{onMouseOver:a,onMouseOut:n}],[e,a,n])})(),l=(0,_.Rs)(H.bel,{teamId:t?.id??""},{enabled:!!t?.id}),s=l.data?.team?.teamFileCounts?.designFileCount??0,c=l.data?.team?.teamFileCounts?.whiteboardFileCount??0,d=l.data?.team?.teamFileCounts?.slideFileCount,m=d?parseInt(d,10):0,u=null==e.fileEditorType?null:"whiteboard"===e.fileEditorType?{type:j.sK.ADD_FIGJAM_FILE,nCurrentWhiteboardFiles:c}:"slides"===e.fileEditorType?{type:j.sK.ADD_SLIDES_FILE,nCurrentSlideFiles:m}:{type:j.sK.ADD_DESIGN_FILE,nCurrentDesignFiles:s},p=e.fileNotInTeam&&t&&u&&!(0,j.rR)((0,Y.Ws)(t),u);return r.createElement(r.Fragment,null,e.showTitle&&r.createElement("div",{className:"file_move--teamTitleNew--2ojZ4 text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:i,onMouseLeave:o},(a===k.iK||a===k.HK)&&r.createElement("div",{className:ej},r.createElement(T.B,{svg:e0.A})),r.createElement("div",{className:"file_move--teamTitleRow--0tzGB"},r.createElement("div",{className:"file_move--teamName--9fqeI"},r.createElement("div",{className:"file_move--teamTitleText--NhNEM ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth}},a===k.iK||a===k.HK?(0,C.t)("file_browser.shared_projects"):t.name),p&&r.createElement("div",{className:"file_move--warningIcon--Dsp3N"},r.createElement(T.B,{svg:eq.A,"data-tooltip-type":K.Ib.TEXT,"data-tooltip":(0,C.t)("file_browser.file_move.paywall_team_tooltip")}))),n&&t&&!p&&r.createElement("div",{className:"file_move--newProjButton--L5YiY"},r.createElement(N.I,{team:t,isBackgroundTransparent:!0,trackingContextName:q.e0.FILE_MOVE_MODAL})))))}function ta(e){let t=(0,r.useRef)(null),[a,n]=(0,r.useState)(!1),o=(0,i.wA)();return(0,r.useEffect)(()=>{!a&&e.isTeamNew&&t.current&&e.hasFolderSection&&(o(k.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),n(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,a,t,o]),r.createElement("div",{className:e.className,ref:t},e.children)}function tr(e){let{fileMove:t,teams:a,selectedView:n}=e,i=Object.values(a).map(e=>e6(e));return r.createElement("div",null,null!=t.teamOrder&&t.teamOrder.map(n=>{let i=n!==k.HK,o=n!==k.iK&&n!==k.HK,l=(t.foldersByTeamId?.[n]||[]).length>0;if(!(i||o||l))return null;let s=a[n];if(!s&&!(n===k.iK||n===k.HK)||(0,m.kc)().ps_benchmark&&n===k.HK&&!e.orgId)return null;let c=s?new Date(a[n].createdAt):void 0,d=c&&c>e.componentMountedAt,u=t.indexOffsets[n]+1,_=!!e.currentFolderId&&n!==e.folders[e.currentFolderId]?.teamId;return r.createElement(ta,{className:"file_move--teamSection--JHso7",isTeamNew:d,firstFolderFocusedIndex:u,hasFolderSection:l,key:`Team Section ${n}`},r.createElement(tt,{team:s,teamId:n,showTitle:i,isACustomTeam:o,fileNotInTeam:_,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),l&&(t.foldersByTeamId[n]||[]).map((a,i)=>{let l=i+e.indexOffsets[n];return o&&(l+=1),r.createElement(tn,{key:`${a.teamId} ${a.id}`,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:l,focusedFolderIndex:t.focusedIndex,folder:a,isSearchingFolders:!!t.isSearchResult,currentFolderId:e.currentFolderId,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:q.e0.FILE_MOVE_MODAL,onDoubleClick:e.onDoubleClick})}))}),!e.orgId&&r.createElement(eQ,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:q.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:n,teams:i,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch}))}function tn(e){let t=(0,i.wA)(),a=(0,f.n_)(F.mq),n=(r,n)=>{(0,c.sx)("Rename Folder",{trackingContext:e.trackingContextName}),a({folderId:r.id,folderName:n}),t(k.Mn())},o=(t,a)=>{e.onFileMoveContextMenu(a,t)},l=e.folderBeingRenamed===e.folder.id,s=e.focusedFolderIndex===e.index,d=e.folderBeingRenamed?e$:s?"file_move--folderRowWrapperFocusedNew--egTh6 file_move--folderRowWrapper--Qw-C4":e$,{folder:u}=e;return r.createElement("div",{className:d,onMouseDown:()=>{t(k.Dp({indexAt:e.index}))},key:`${u.teamId} ${u.id}`,onContextMenu:e=>o(u,e),onDoubleClick:()=>{l||e.onDoubleClick()}},l?r.createElement("div",{className:eG},r.createElement(v.p,{key:`input ${u.id}`,className:"file_move--renameInput--RBlJ-",placeholderValue:(0,U.CI)(u),submit:e=>n(u,e),cancel:()=>{t(k.Mn())}})):((t,a)=>{let n=e3(t)&&e.isSearchingFolders,i=e.focusedFolderIndex&&e.focusedFolderIndex>-1?a:e.currentFolderId===t.id,o=(0,m.kc)().ps_benchmark&&(0,U.jd)(t)?e1.A:eZ.A;return r.createElement("div",{className:eG},r.createElement("div",{className:ej},r.createElement(T.B,{svg:i?eK.A:o})),r.createElement("span",{className:"file_move--folderName--ouEY3 ellipsis--ellipsis--Tjyfa"},(0,U.CI)(t)),r.createElement("div",{className:ej},n&&r.createElement(T.B,{svg:eJ.A})))})(u,s))}te.displayName="FileMoveSearch";class ti extends r.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(k.JG({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,a=e8(this.props.selectedView);return r.createElement(E.ms,{className:"file_move--fileMoveContextMenu--xs-xb",style:this.props.dropdownShown.data.position},r.createElement(E.c$,{disabled:!t,onClick:this.renameFolder},(0,C.tx)("file_browser.file_move.context_menu_rename")),r.createElement(E.wv,null),r.createElement(E.c$,{href:(0,G.EE)(e.id,e.orgId),target:a},(0,C.tx)("file_browser.file_move.context_menu_show_in_files")))}}ti.displayName="FileMoveDropdown";class to extends r.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return r.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}to.displayName="FileMoveHiddenDiv"},404558:(e,t,a)=>{a.r(t),a.d(t,{MoveDraftToProjectInterstitialModal:()=>h});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(966712),s=a(799569),c=a(946689),d=a(939863),m=a(342103),u=a(662275),_=a(931828),p=a(672517),f=a(488578),g=a(626208),E=a(751299);function h(e){let t=(0,n.wA)(),a=(0,l.kc)().ps_benchmark,i=()=>{t(_.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(u.Lo())};return r.createElement(p.fu,{name:"MoveDraftToProjectInterstitialModal"},r.createElement(f.aF,{title:a?(0,d.t)("file_browser.draft_to_project.title.plan_spaces"):(0,d.t)("file_browser.draft_to_project.title.seat_rename"),titleClassName:g.wN,className:g.KP,size:320,popStack:!0,disableClickOutsideToHide:!0},r.createElement(s.Jn,{className:o()(E.J_,E.BQ),onClick:i}),r.createElement("span",null,a?(0,d.tx)("file_browser.draft_to_project.body.plan_spaces"):(0,d.tx)("file_browser.draft_to_project.body.seat_rename"),r.createElement("br",null)),r.createElement("div",{className:o()(g.v0,g.hF)},r.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts"},r.createElement(c.tM,null,(0,d.tx)("general.learn_more"))),r.createElement(c.vd,{className:g.pL,onClick:()=>{i(),(0,m.hd)(e.file,e.repo,t,e.afterFileMove,e.moveFileModalData,e.bannerToDisplay)}},(0,d.tx)("file_browser.draft_to_project.move")))))}},43325:(e,t,a)=>{a.d(t,{cx:()=>i});var r=a(503457),n=a(898719);a(647400);let i=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(4772),a.e(4683),a.e(6320),a.e(9634),a.e(8259),a.e(6837),a.e(3727),a.e(2026),a.e(6094),a.e(3630),a.e(9257),a.e(1839),a.e(7600),a.e(2794),a.e(7748)]).then(a.bind(a,647400)).then(e=>e.default),{loading:()=>null,error:r.H4.NONE,componentName:"FileBrowserOverlays"})},681268:(e,t,a)=>{a.r(t),a.d(t,{EduUpgradeModal:()=>f});var r=a(411855),n=a(188507),i=a(946689),o=a(939863),l=a(80889),s=a(507877),c=a(662275),d=a(995852),m=a(672517),u=a(594901),_=a(243987),p=a(585878);function f(){let e=(0,u.FC)(),t=(0,n.wA)(),a=r.useCallback(()=>{t(c.Ce())},[t]),f=r.useCallback(e=>{a(),t(d.Vm({teamId:e.id}))},[t,a]),g=r.useCallback(()=>{a(),t(s.Dw({isEduTeam:!0}))},[t,a]),E=r.useMemo(()=>(0,_.Kg)(e),[e]);return r.useLayoutEffect(()=>{0===E.length&&g()},[t,E.length,g]),r.createElement(m.fu,{name:"Edu Team Upgrade Modal"},r.createElement(p.XV,{title:(0,o.t)("edu.upgrade_teams.headline"),onClose:a},r.createElement("div",{className:"edu_upgrade_modal--container--i-0VV"},r.createElement("p",{className:"edu_upgrade_modal--bodyText--BXu7I"},(0,o.tx)("edu.upgrade_teams.body",{link:r.createElement(i.Ph,{className:"edu_upgrade_modal--link--Toy9f",href:"/pricing",target:"_blank",trusted:!0},(0,o.tx)("edu.upgrade_teams.body_link_text"))}),E.length>1&&r.createElement(r.Fragment,null," ",(0,o.tx)("edu.upgrade_teams.body_multiple_teams"))),r.createElement(l.I,{eligibleTeams:E,selectTeam:f,showEditorCount:!1,customUpgradeText:(0,o.t)("general.next")}),r.createElement(i.Ph,{className:"edu_upgrade_modal--createTeamLink--CbJUX edu_upgrade_modal--link--Toy9f",onClick:g,trusted:!0},(0,o.tx)("edu.or_create_a_new_team")))))}},439822:(e,t,a)=>{a.r(t),a.d(t,{DowngradeSurveyModal:()=>O,DowngradeSurveyModalAdmin:()=>D,DowngradeSurveyModalLeaveTeam:()=>M});var r=a(411855),n=a(939863),i=a(898719),o=a(237870);let l="team-admin-confirm-downgrade",s=i.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(4772),a.e(4683),a.e(6320),a.e(9634),a.e(8259),a.e(6837),a.e(3727),a.e(2026),a.e(6094),a.e(3630),a.e(9257),a.e(1839),a.e(7600),a.e(2794),a.e(7748)]).then(a.bind(a,815622)).then(e=>e.ConfirmDowngradeModal),(0,o.Ij)("ConfirmDowngradeModal"));(0,o.qK)(l,s);var c=a(662275),d=a(902957),m=a(188507),u=a(946689),_=a(611978),p=a(585878);function f({id:e,label:t,children:a,onChange:n}){let[i,o]=r.useState(!1);return r.createElement("fieldset",{name:e},r.createElement("div",{className:"survey_option--inputContainer---R-Fh"},r.createElement(u.tB,{id:e,checked:i,onChange:e=>{o(!i),n&&n(e)}}),r.createElement("label",{className:"survey_option--label--NqXEk",htmlFor:e},t)),i&&a&&r.createElement("div",{className:"survey_option--subContainer--Omjmy"},a))}var g=a(943632),E=a(629019),h=a.n(E),v=a(268537),y=a(893281),b=a(158950);function w(e){let[t,a]=r.useState(""),n=e=>{a(e.target.value)};return e.textarea?r.createElement(b.v,{value:t,onChange:n,...e}):r.createElement(u.ks,{id:e.id,className:"survey_text_input--input--Q1W-9",placeholder:e.placeholder,maxLength:100,value:t,onChange:n})}let T="downgrade_survey_modal_component_v2--surveyQuestions--E5X6t",I="downgrade_survey_modal_component_v2--researchContact--qGc3V",C="downgrade_survey_modal_component_v2--hiddenInput--04h5p",x="downgrade_survey_modal_component_v2--radio--xvUsz",N=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function S({id:e,shorthand:t}){return r.createElement("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--CoFln"},r.createElement("p",null,(0,n.tx)(`downgrade_survey.survey_option.too_expensive.${e}`)),r.createElement("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--xhQpy"},t))}let k=[{id:"too_expensive",value:"Too expensive",children:r.createElement(function(){let e="other_currency",[t,a]=r.useState(""),i=e=>{a(e.currentTarget.id)},o=[...N.map(({id:e,shorthand:t})=>r.createElement(v.c$,{id:e,key:e,onClick:i},r.createElement(S,{id:e,shorthand:t}))),r.createElement(v.wv,{key:"separator"}),r.createElement(v.c$,{id:e,onClick:i,key:e},(0,n.tx)("downgrade_survey.survey_option.too_expensive.other_currency"))];return r.createElement("fieldset",null,r.createElement(f,{id:"currency_conversion",label:(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_conversion")},r.createElement("fieldset",{className:h()({"downgrade_survey_modal_component_v2--currencySelector__other--khpqx":t===e})},r.createElement(v.Ve,{label:t.length?(0,n.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:o}),r.createElement("input",{id:"currency",className:C,readOnly:!0,value:t}),t===e&&r.createElement(w,{id:"currency_input",placeholder:(0,n.t)("downgrade_survey.survey_option.too_expensive.specify_currency")}))))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),a=t.find(e=>"currency_conversion"===e.id),r=t.find(e=>"currency"===e.id),n=r?.value,i=t.find(e=>"currency_input"===e.id),o=i?.value||n||void 0;return{currencyConversion:a?.checked,currency:o}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:r.createElement(function(){return r.createElement("fieldset",null,r.createElement("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--HfKNO"},(0,n.tx)("downgrade_survey.survey_option.no_longer_using_figma_products.other_products")),r.createElement(w,{id:"other_products",placeholder:(0,n.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:t?.value||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:r.createElement(function(){let[e,t]=r.useState("");return r.createElement(r.Fragment,null,r.createElement(y.z,{value:e,onChange:e=>t(e)},r.createElement(y.Z,{className:x,value:"Starter plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.starter_plan")),r.createElement(y.Z,{className:x,value:"Organization plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.organization_plan")),r.createElement(y.Z,{className:x,value:"Enterprise plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.enterprise_plan")),r.createElement(y.Z,{className:x,value:"Education plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.education_plan"))),r.createElement("input",{id:"new_plan",className:C,readOnly:!0,value:e}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:t?.value||void 0}}}],L={id:"other",value:"Other",children:r.createElement(function(){return r.createElement(w,{className:"downgrade_survey_modal_component_v2--otherTextArea--pS5MZ",placeholder:(0,n.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},null),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},A=(0,g.k4)(k).concat(L);var R=a(373494),F=a(663237);function P({cancelText:e,onSubmit:t}){let[a,i]=r.useState([]),o=e=>{let{id:t}=e.currentTarget;a.includes(t)?i(a.filter(e=>e!==t)):i([...a,t])},l=(0,m.wA)(),s=(0,_._6)().teamId,d=()=>{l(c.Ce())};return r.createElement(p.XV,{title:(0,n.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:d,dataTestId:"downgrade-survey-modal"},r.createElement("form",{className:"downgrade_survey_modal_component_v2--modalBody--tYceI",onSubmit:e=>{e.preventDefault();let r=Array.from(e.currentTarget.getElementsByClassName(T)[0].getElementsByTagName("fieldset")),n=a.map(e=>{let t=r.find(t=>t.name===e),{value:a,getSubOptions:n}=A.find(t=>t.id===e);return{reason:a,...n&&n(t)}});t({teamId:s,canContact:e.currentTarget.getElementsByClassName(I)[0].getElementsByTagName("input")[0].checked,selectedOptions:n})}},r.createElement("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--9HRcF"},r.createElement("fieldset",{className:T},r.createElement("legend",null,(0,n.tx)("downgrade_survey.what_made_you_cancel_your_plan")),!a.length&&r.createElement("p",{className:F.Q},(0,n.tx)("downgrade_survey.select_one")),A.map(({id:e,children:t})=>r.createElement(f,{id:e,label:(0,n.t)(`downgrade_survey.survey_option.${e}`),key:e,onChange:o},t))),r.createElement("fieldset",{className:I},r.createElement("legend",null,(0,n.tx)("downgrade_survey.research_contact")),r.createElement(f,{id:"research",label:(0,n.t)("downgrade_survey.allow_research_contact")}))),r.createElement("div",{className:"downgrade_survey_modal_component_v2--buttonRow--Y15LH"},r.createElement(u.tM,{className:R.Lu,type:"button",onClick:d},e),r.createElement(u.vd,{type:"submit",disabled:!a.length,className:R.pL,autoFocus:!1},(0,n.tx)("downgrade_survey.continue")))))}function O(e){let t="admin"===e.context?(0,n.t)("downgrade_survey.go_back"):(0,n.t)("downgrade_survey.do_not_leave_team");return r.createElement(P,{onSubmit:t=>{let a=e.modalShown?.data.teamId,r=e.modalShown?.data.billingEndDate;if("admin"===e.context)e.dispatch(c.to({type:l,data:{teamId:a,billingEndDate:r,exitSurveyData:t}}));else if("leave-team"===e.context){let t=e.teams[a];e.dispatch(d.yH({team:t,userInitiated:!0})),e.dispatch(c.Ce())}},cancelText:t})}function D(e){return r.createElement(O,{...e,context:"admin"})}function M(e){return r.createElement(O,{...e,context:"leave-team"})}},726307:(e,t,a)=>{a.r(t),a.d(t,{FOLDER_DELETE_CONFIRM_MODAL:()=>m,FolderBatchAbandonedDraftDeleteConfirmModal:()=>u});var r=a(411855),n=a(188507),i=a(776250),o=a(752553),l=a(881388),s=a(939863),c=a(688083),d=a(488578);let m="folder-delete-confirm-modal";function u({folders:e}){let t=(0,n.wA)(),a=(0,o.n_)(c.U),m=e=>{e.forEach(e=>{(0,i.sx)("Folder Batch Abandoned Draft Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId})}),a({folderIds:e.map(e=>e.id)}).catch(()=>{t(l.s.error((0,s.t)("file_browser.api_folder.error_when_deleting")))})};return r.createElement(d.Rw,{confirmationTitle:(0,s.t)("file_browser.delete_project.title"),destructive:!0,confirmText:(0,s.t)("file_browser.batch_delete_project.generic_confirm_label"),onConfirm:()=>{m(e)}},(0,s.tx)("file_browser.batch_delete_projects.confirm_text_trash_section",{numProjects:e.length}))}},295543:(e,t,a)=>{a.r(t),a.d(t,{FOLDER_DELETE_CONFIRM_MODAL:()=>g,FolderDeleteConfirmModal:()=>E});var r=a(411855),n=a(188507),i=a(776250),o=a(966712),l=a(752553),s=a(901536),c=a(881388),d=a(939863),m=a(76735),u=a(688083),_=a(875847),p=a(850134),f=a(488578);let g="folder-delete-confirm-modal";function E({folder:e}){let t=(0,n.wA)(),a=(0,l.n_)(u.tO),g=e=>{(0,i.sx)("Folder Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId}),a({folderId:e.id}).catch(()=>{t(c.s.error((0,d.t)("file_browser.api_folder.error_when_deleting")))})},E=(0,p.x)(e.id),h=r.createElement("span",{className:s.cx.fontBold.$},(0,_.CI)(e));return r.createElement(f.Rw,{confirmationTitle:(0,d.t)("file_browser.delete_project.title"),destructive:!0,confirmText:"loaded"!==E.status?(0,d.t)("file_browser.delete_project.generic_confirm_label"):1===E.data?(0,d.t)("file_browser.delete_project.one_file_confirm_label"):(0,d.t)("file_browser.delete_project.plural_files_confirm_label",{numFiles:(0,m.t)(E.data)}),onConfirm:()=>{g(e)}},(0,o.kc)().pdr_trashed_section?"loaded"!==E.status?(0,d.tx)("file_browser.delete_project.generic_confirm_text_trash",{folderName:h}):1===E.data?(0,d.tx)("file_browser.delete_project.one_file_confirm_text_trash",{folderName:h}):(0,d.tx)("file_browser.delete_project.plural_files_confirm_text_trash",{folderName:h,numFiles:(0,m.t)(E.data)}):"loaded"!==E.status?(0,d.tx)("file_browser.delete_project.generic_confirm_text",{folderName:h}):1===E.data?(0,d.tx)("file_browser.delete_project.one_file_confirm_text",{folderName:h}):(0,d.tx)("file_browser.delete_project.plural_files_confirm_text",{folderName:h,numFiles:(0,m.t)(E.data)}))}},855994:(e,t,a)=>{a.r(t),a.d(t,{FolderMoveModal:()=>F});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(737947),s=a(915440),c=a(946689),d=a(355819),m=a(163023),u=a(939863),_=a(131750),p=a(662275),f=a(672517),g=a(385111),E=a(688083),h=a(594901),v=a(279453),y=a(623746),b=a(428467),w=a(206193),T=a(851363),I=a(231959),C=a(143678),x=a(585878),N=a(626296);let S="folder_move--iconContainer--nXjIY file_move--iconContainer--SWek6";var k=a(613557),L=a(450147),A=a(126815),R=a(575675);function F(e){let t,a;let i=(0,n.wA)(),o=(0,n.d4)(e=>e.currentUserOrgId),_=(0,n.d4)(e=>null!=o?e.orgById[o]:null),b=(0,s.Rs)(v.AbW,{currentOrgId:o,currentTeamId:null}),S=(0,n.d4)(t=>t.folders[e.folderId]),[L,R]=(0,r.useState)(void 0),[F,D]=(0,r.useState)(void 0),M="loaded"===b.status?{...b.data.currentUser}:null,B=g.h.useTrackingContext({trigger:w.b.FOLDER_MOVE_MODAL}),U={},V=[],H=(0,h.FC)();if(M){let e=[];(M.teamRoles??[]).forEach(t=>{if(t.team?.orgId===o&&!t.team?.deletedAt&&!t.pending){if(t.team?.id===S?.team_id){a=t;return}e.push(t),t.team?.workspace?.id?(U[t.team.workspace?.id]=U[t.team.workspace?.id]??[],U[t.team.workspace?.id].push(t)):t.team&&V.push(t)}});let r=M.baseOrgUser?.workspaceUsers;t=r?.find(e=>e?.isMainWorkspace)?.workspaceId}let W=()=>{i(p.Ce())},j=(e,t)=>{R(e),D(t)},$=(0,r.useCallback)(()=>{if(L&&!F){let e=(0,T.bL)(L?.id,L.orgId);l.Ay.redirect(e,"_blank")}},[L,F]),G=(0,r.useCallback)(e=>{if(!_)return;let t={workspaceId:e??I.O,onSubmitReturnToPrevView:!1};i(p.to({type:N.Uc,data:t}))},[_,i]),Y=e=>r.createElement(r.Fragment,null,e.map(e=>r.createElement(O,{team:e.team,key:e.id,selectedTeamId:L?.id,onSelectTeam:j,permissionsState:H}))),z=e=>r.createElement(O,{team:e.team,key:e.id,selectedTeamId:L?.id,isCurrentTeam:!0,permissionsState:H,onSelectTeam:j});if(!S)return null;let Q=Object.keys(U).length>0,K=L&&a&&a.team.id===L.id;return r.createElement(f.fu,{name:C.e0.FILE_MOVE_MODAL,properties:B},r.createElement(x.XV,{title:(0,u.t)("file_browser.folder_move.modal_header",{folderName:S.name}),fixedTop:!0,minWidth:288,maxWidth:288,onClose:W,truncateTitleText:!0},r.createElement("div",{className:"folder_move--main--TkW9w file_move--main--RCzls"},r.createElement(d.P,{className:"folder_move--teamSectionBody--LACBL file_move--teamSectionBody--YR9Lj"},r.createElement("div",{className:"folder_move--teamSection---S02k file_move--teamSection--JHso7"},Q?(function(e,t,a){let r=t?.team?.workspace?.id??null,n=[r];return a&&a!==r&&e[a]&&n.push(a),Object.keys(e).filter(e=>e!==r&&e!==a).sort((t,a)=>{let r=e[t][0]?.team?.workspace?.name?.toLocaleUpperCase()??"",n=e[a][0]?.team?.workspace?.name?.toLocaleUpperCase()??"";return r<n?-1:r>n?1:0}).forEach(e=>{n.push(e)}),null!==r&&n.push(null),n})(U,a,t).map(e=>{if(null===e){if(V.length>0)return r.createElement(r.Fragment,{key:"other_teams_key"},r.createElement(P,{headerName:(0,u.t)("sidebar.workspaces.other_teams"),onCreateNewTeamClick:G,workspaceId:null}),null!=a&&a.team?.workspace?.id==null&&z(a),Y(V))}else if(U[e]){let t=U[e],n=t?t[0].team?.workspace??null:null;return r.createElement(r.Fragment,{key:e},r.createElement(P,{headerName:n?.name??"",onCreateNewTeamClick:G,workspaceId:n?.id??null}),null!=a&&a.team?.workspace?.id===e&&z(a),Y(t))}}):r.createElement(r.Fragment,null,_&&r.createElement(P,{key:"org_teams_header",headerName:_.name,onCreateNewTeamClick:G,workspaceId:null}),null!=a&&z(a),Y(V))),L&&!F&&r.createElement("div",{className:"folder_move--warningContainer--MXpOB"},r.createElement("div",{className:"folder_move--warningSectionIcon--gOcDL"},r.createElement(m.B,{svg:A.A})),r.createElement("div",null,(0,u.tx)("file_browser.folder_move.move_project_no_edit_access_warning"),r.createElement("div",{className:"folder_move--warningCTALink--f74xo",onClick:$,role:"link",tabIndex:0},(0,u.tx)("file_browser.folder_move.view_team"),r.createElement("div",{className:"folder_move--arrowRightIcon--xIk7X"},r.createElement(m.B,{svg:k.A})))))),r.createElement("div",{className:"folder_move--footer--jcEsZ file_move--footer--Pt8L1"},r.createElement(c.nR,{onClick:W},(0,u.tx)("modal.cancel")),r.createElement(c.vd,{onClick:()=>{null!=L&&S?i((0,E.Nr)({folder:(0,y.Bp)(S),team:L,onSuccess:W})):W()},disabled:void 0===L||!F||!!K},(0,u.tx)("file_browser.folder_move.move_project"))))))}function P(e){let[t,a]=(0,r.useState)(!1);return r.createElement("div",{className:"folder_move--teamsHeaderRow--qZfbl text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseMove:()=>a(!0),onMouseLeave:()=>a(!1)},r.createElement("div",null,e.headerName),t&&r.createElement(_.f,{data_tooltip:(0,u.t)("file_browser.inline_team_creation.button_text"),data_onboarding_key:"new-team-button",innerText:(0,u.t)("file_browser.inline_team_creation.button_text"),onClick:()=>{e.onCreateNewTeamClick(e.workspaceId)}}))}function O(e){let{team:t}=e;if(null==t)return r.createElement(r.Fragment,null);let a=o()(["folder_move--teamTitle--PwZow file_move--teamTitle--ZKSP9 text--fontPos12--YsUAh text--_fontBase--QdLsd",e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id?"folder_move--selectedTeamTitle---C1u4":""]),n=(0,b.canEditTeam)(t.id,e.permissionsState);return r.createElement("div",{className:a,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(t,n)},role:"button",tabIndex:0},r.createElement("div",{className:S},r.createElement(m.B,{svg:e.isCurrentTeam?L.A:R.A})),r.createElement("div",{className:"folder_move--teamTitleRow--6MpKM file_move--teamTitleRow--0tzGB"},r.createElement("div",{className:"folder_move--teamName--fvmi0 file_move--teamName--9fqeI"},t.name)),e.selectedTeamId===t.id&&!n&&r.createElement("div",{className:S},r.createElement(m.B,{svg:A.A})))}},465705:(e,t,a)=>{a.r(t),a.d(t,{FolderPermanentlyDeleteConfirmModal:()=>h});var r=a(411855),n=a(188507),i=a(862350),o=a(951792),l=a(678738),s=a(504440),c=a(776250),d=a(752553),m=a(901536),u=a(881388),_=a(939863),p=a(76735),f=a(688083),g=a(875847),E=a(850134);function h(e){var t;let a=(0,n.wA)(),h=i.hS(e),v=(0,d.n_)(f.Q4),y=(0,E.x)(e.folder.id,!0),b=r.createElement("span",{className:m.cx.fontBold.$},(0,g.CI)(e.folder)),w=(0,_.t)("file_browser.delete_project.delete_project"),T="loaded"!==y.status?(0,_.tx)("file_browser.delete_project.generic_confirm_text_permanently_delete_folder",{folderName:b}):0===(t=y.data)?(0,_.tx)("file_browser.delete_project.zero_file_confirm_text_permanently_delete_folder",{folderName:b}):(0,_.tx)("file_browser.delete_project.plural_files_confirm_text_permanently_delete_folder",{folderName:b,numFiles:(0,p.t)(t)}),I="loaded"===y.status&&0===y.data?(0,_.tx)("file_browser.delete_project.once_deleted_this_project_can_no_longer_be_restored"):(0,_.tx)("file_browser.delete_project.once_deleted_this_project_and_its_files_can_no_longer_be_restored");return r.createElement(o.bL,{manager:h,width:"lg"},r.createElement(l.vo,null,r.createElement(l.Y9,null,r.createElement(l.hE,null,(0,_.tx)("file_browser.trash_project.delete_project_forever"))),r.createElement(l.nB,null,r.createElement("div",{className:m.cx.mb16.$},T),r.createElement("div",null,I)),r.createElement(l.wi,null,r.createElement(l.jk,null,r.createElement(s.$n,{variant:"secondary",onClick:e.onClose},(0,_.tx)("modal.cancel")),r.createElement(s.$n,{variant:"destructive",onClick:()=>{(0,c.sx)("Folder Permanently Delete Confirmation Click",{folderId:e.folder.id,teamId:e.folder.teamId,orgId:e.folderOrgId}),v({folderId:e.folder.id}).catch(()=>{a(u.s.error((0,_.t)("file_browser.api_folder.error_when_permanently_deleting_folder")))}),e.onClose()}},w)))))}},93144:(e,t,a)=>{a.r(t),a.d(t,{FolderTrashConfirmModal:()=>f});var r=a(411855),n=a(188507),i=a(776250),o=a(752553),l=a(901536),s=a(881388),c=a(939863),d=a(76735),m=a(688083),u=a(875847),_=a(850134),p=a(488578);function f({folder:e}){let t=(0,n.wA)(),a=(0,o.n_)(m.Ct),f=e=>{(0,i.sx)("Folder Trash Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId}),a({folderId:e.id}).catch(()=>{t(s.s.error((0,c.t)("file_browser.api_folder.error_when_moving_to_trash")))})},g=(0,_.x)(e.id),E=r.createElement("span",{className:l.cx.fontBold.$},(0,u.CI)(e)),h=r.createElement("span",{className:l.cx.fontBold.$},(0,c.tx)("file_browser.tool_bar.trash")),v="loaded"!==g.status?(0,c.t)("file_browser.trash_project.generic_confirm_label"):(e=>{switch(e){case 0:return(0,c.t)("file_browser.trash_project.generic_confirm_label");case 1:return(0,c.t)("file_browser.trash_project.one_file_confirm_label");default:return(0,c.t)("file_browser.trash_project.plural_files_confirm_label",{numFiles:(0,d.t)(e)})}})(g.data),y="loaded"!==g.status?(0,c.tx)("file_browser.trash_project.generic_confirm_text_trash_folder",{folderName:E}):(e=>{switch(e){case 0:return(0,c.tx)("file_browser.trash_project.zero_file_confirm_text_trash_folder",{folderName:E});case 1:return(0,c.tx)("file_browser.trash_project.one_file_confirm_text_trash_folder",{folderName:E});default:return(0,c.tx)("file_browser.trash_project.plural_files_confirm_text_trash_folder",{folderName:E,numFiles:(0,d.t)(e)})}})(g.data);return r.createElement(p.Rw,{confirmationTitle:(0,c.t)("file_browser.trash_project.move_project_to_trash"),destructive:!0,confirmText:v,onConfirm:()=>{f(e)}},r.createElement("div",{className:l.cx.mb16.$},y),r.createElement("div",null,(0,c.tx)("file_browser.trash_project.description_restore",{trashStyled:h})))}},465850:(e,t,a)=>{a.r(t),a.d(t,{ChangeAnnualPlanModal:()=>k,ChangeAnnualPlanRow:()=>S,ConfirmCancelAnnualPlanModal:()=>L});var r=a(411855),n=a(188507),i=a(966712),o=a(752553),l=a(946689),s=a(881388),c=a(939863),d=a(49891),m=a(662275),u=a(995852),_=a(672517),p=a(756442),f=a(304769),g=a(13513),E=a(720647),h=a(860178),v=a(99506),y=a(820113),b=a(243987),w=a(984968),T=a(135163),I=a(265361),C=a(488578),x=a(135079);function N({currency:e,teamId:t}){let a=g.Oq.exclude([f.ud.DEV_MODE]).dict(t=>({currency:e,billableProductKey:t,tier:T.Ju.PRO,renewalTerm:T.IX.MONTH,unit:T.IX.MONTH})),r=(0,p.ic)(a,{planParentId:t,planType:v.OL.TEAM},p.Fq.ADMIN_SETTINGS),[n]=(0,o.mI)(r);if(null===n.data)throw Error("Price data is null");return n.data}function S(e){return r.createElement(r.Fragment,null,(0,c.tx)("change_annual_plan_modal.number_of_editors.seat_rename",{productType:(0,I.E)((0,E.vc)(e.editorType))}),r.createElement(l.ks,{"data-testid":"change-annual-plan-row-input",type:"number",name:e.editorType,step:1,min:1,max:b.m,value:e.tempNumEditors,onChange:t=>{let a=t.target.value;e.setTempEditorsValue(parseInt(a))}}))}function k(){let e=(0,w.cD)(),t=(0,h.TA)(),a=(0,n.d4)(e=>e.teamBilling.summary),o=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),l=N({currency:a.currency,teamId:e}),p=()=>{try{if(a?.annual_subscription)return a?.annual_subscription||void 0;return}catch(e){return}},g=p(),T=g?.whiteboard_quantity||0,[k,L]=r.useState(T),[A,R]=r.useState(g?.design_quantity||g?.quantity||0),F=(0,n.wA)(),P=(t,a)=>{F(u.MV({teamId:e,annualQuantity:t,annualWhiteboardQuantity:a}))},O=!!g?.trial_end&&!!(0,b.mt)(g.trial_end),D=g?(0,c.t)("change_annual_plan_modal.plan_start_date",{startDate:new Date(g.current_period_end)}):(0,c.t)("change_annual_plan_modal.unknown_start_date"),M=O?(0,c.t)("change_annual_plan_modal.confirmation_header_plan_starting",{startDate:D}):(0,c.t)("change_annual_plan_modal.confirmation_header_plan_started",{startDate:D});return r.createElement(_.fu,{name:"Change Annual Plan Modal",properties:{teamId:e,userId:t??void 0}},r.createElement(C.Rw,{confirmationTitle:M,confirmText:(0,c.t)("change_annual_plan_modal.confirm_text"),onConfirm:()=>{isNaN(A)||isNaN(k)||A<0||k<0||0===A&&0===k?F(s.s.error((0,c.t)("change_annual_plan_modal.invalid_seats_error"))):A+k>b.m?(F(s.s.error(r.createElement("div",null,(0,c.tx)("change_annual_plan_modal.contact_support_to_purchase_more_seats_error",{maxAnnualSubscriptions:b.m,contactSupportLink:r.createElement("a",{href:`mailto:${(0,i.W4)()}`},(0,c.t)("change_annual_plan_modal.contact_support_link"))})))),R(p()?.design_quantity||p()?.quantity||0),L(p()?.whiteboard_quantity||0)):k+A>100?F(m.to({type:d.Mv,data:{numAnnualEditors:A+k,onConfirm:()=>{P(A,k)}}})):F(u.MV({teamId:e,annualQuantity:A,annualWhiteboardQuantity:k}))},onCancel:()=>{F(m.Ce())},dontClose:!0,disableConfirm:o,trackedConfirmationProperties:{teamId:e,userId:t??void 0,monthly_quantity_design:A,monthly_quantity_figjam:k}},r.createElement("br",null),(0,c.tx)("change_annual_plan_modal.change_annual_plan_grace_period.seat_rename"),r.createElement("br",null),r.createElement("br",null),(()=>{let e=a.currency,t=new y.vr(e),n=l[f.ud.DESIGN].amount,i=l[f.ud.FIGJAM].amount;return r.createElement(r.Fragment,null,(0,c.tx)("change_annual_plan_modal.instructions.seat_rename",{monthlyEditorCost:t.formatMoney(n,{showCents:!1}),editorProduct:(0,I.E)(E.Te.DESIGN),monthlyFigjamCost:t.formatMoney(i,{showCents:!1}),figJamProduct:(0,I.E)(E.Te.WHITEBOARD)}))})(),r.createElement("br",null),r.createElement("br",null),r.createElement(S,{editorType:v._Y.DESIGN,tempNumEditors:A,setTempEditorsValue:e=>R(e),dispatch:F}),r.createElement(r.Fragment,null,r.createElement("br",null),r.createElement("br",null),r.createElement(S,{editorType:v._Y.WHITEBOARD,tempNumEditors:k,setTempEditorsValue:e=>L(e),dispatch:F})),r.createElement("br",null),r.createElement("br",null),r.createElement("a",{className:"change_annual_plan_modal--link--n0jw2 blue_link--blueLink--9rlnd",onClick:()=>{F(m.to({type:x.V}))}},O?(0,c.t)("change_annual_plan_modal.remove_annual_plan"):(0,c.t)("change_annual_plan_modal.dont_renew_annual_plan"))))}function L(){let e=(0,w.ol)();if(null===e)throw Error("Team is null");let t=(0,n.d4)(e=>e.teamBilling.summary.currency),a=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),i=N({currency:t,teamId:e.id}),o=(0,n.wA)(),l=new y.vr(t),s=i[f.ud.DESIGN].amount,d=i[f.ud.FIGJAM].amount;return r.createElement(C.Rw,{title:(0,c.t)("change_annual_plan_modal.cancel_annual_plan_header"),confirmText:(0,c.t)("change_annual_plan_modal.confirm_cancel_annual_plan"),cancelText:(0,c.t)("change_annual_plan_modal.nevermind"),onConfirm:()=>{let t=e.id;o(u.MV({teamId:t,annualQuantity:0,annualWhiteboardQuantity:0}))},onCancel:()=>{o(m.to({type:x.X,data:{}}))},dontClose:!0,disableConfirm:a},r.createElement("br",null),r.createElement(r.Fragment,null,(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_text.seat_rename",{monthlyEditorCost:l.formatMoney(s),monthlyFigJamEditorCost:l.formatMoney(d)})),r.createElement("br",null),r.createElement("br",null),(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_subtext"))}},685399:(e,t,a)=>{a.r(t),a.d(t,{TeamChangePaymentModal:()=>w});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(981952),s=a(946689),c=a(493323),d=a(901536),m=a(939863),u=a(662275),_=a(843309),p=a(176824),f=a(707465),g=a(622139),E=a(668526),h=a(585878),v=a(397477),y=a(23937);function b({currency:e,customerInfo:t,defaultCountry:a,estimatedChargeCents:i,isReactivating:p,canSeeBillingAddressExp:g}){let b=p?(0,m.t)("change_payment.success.successfully_reactivated_subscription"):(0,m.t)("change_payment.success.successfully_updated_your_payment_method"),w=(0,n.d4)(e=>(0,f.Np)(e,{view:"teamAdminConsole",teamId:t.teamId,teamAdminConsoleViewTab:E.Iv.SETTINGS})),{createPaymentElement:T,unmountPaymentElement:I,savePayment:C,billingAddress:x,updateBillingAddress:N,nameOnPaymentMethod:S,setNameOnPaymentMethod:k,paymentMethodType:L,error:A}=(0,_.Op)({setupIntentParams:{redirect_url:w,subtotal_estimate:i,success_message:b,currency:e},paymentFlowSource:_.wn.PRO_CHANGE_PAYMENT,customerInfo:t,defaultCountry:a,currency:e,canSeeBillingAddressExp:g,isCheckout:!1}),[R,F]=r.useState(!1),[P,O]=r.useState(!1),[D,M]=r.useState(window.innerHeight),B=(0,n.wA)(),U=A?.code===_.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,V=()=>B(u.Ce());(0,l.P)(({height:e})=>{M(e)});let H=async e=>{e&&e.preventDefault(),O(!0),await C(),O(!1)};return r.createElement(h.XV,{title:g?(0,m.t)("change_payment.update_payment_details"):(0,m.t)("change_payment.enter_payment_method"),onClose:V,maxWidth:465,headerSize:"large"},r.createElement("div",{className:o()({[y.$J]:!R,[y.Un]:U})},r.createElement("form",{onSubmit:H},r.createElement("div",{className:y.KJ,style:{maxHeight:Math.min(D-49-65,652)}},R&&g&&r.createElement("div",{className:d.cx.mb16.$},r.createElement("label",{htmlFor:"updatePaymentDetails",className:d.cx.colorTextSecondary.$},(0,m.tx)("change_payment.update_payment_details_description"))),r.createElement(v.F,{createPaymentElement:T,unmountPaymentElement:I,billingAddress:x,updateBillingAddress:N,nameOnPaymentMethod:S,updateNameOnPaymentMethod:k,paymentMethodType:L,error:A,isCommunityCheckout:!1,paymentElementEventHandlers:{ready:()=>F(!0)},canSeeBillingAddressExp:g,isCheckout:!1})),R&&!U&&r.createElement("div",{className:y.UD},P&&r.createElement(c.kt,{className:y.u1}),r.createElement(s.tM,{onClick:V},(0,m.tx)("change_payment.cancel")),r.createElement(s.vd,{tabIndex:0,type:"submit",disabled:P},(0,m.tx)("change_payment.save")))),U&&r.createElement(s.tM,{onClick:V},(0,m.tx)("change_payment.close_window"))))}function w({currency:e,customerInfo:t,defaultCountry:a,monthlySub:n,annualSub:i,isReactivating:o,canSeeBillingAddressExp:l}){let{estimatedDesignCost:s,estimatedWhiteboardCost:c}=(0,p.Q)({currency:e||"usd"}),d=Math.max(s(n?.design_quantity??0,g.tY.MONTHLY)+c(n?.whiteboard_quantity??0,g.tY.MONTHLY),s(i?.design_quantity??0,g.tY.ANNUAL)+c(i?.whiteboard_quantity??0,g.tY.ANNUAL));return r.createElement(b,{currency:e,customerInfo:t,defaultCountry:a,estimatedChargeCents:d,isReactivating:o,canSeeBillingAddressExp:l})}},1200:(e,t,a)=>{a.r(t),a.d(t,{ChangeVatGstIdModal:()=>v});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(915440),s=a(711525),c=a(946689),d=a(455057),m=a(939863),u=a(662275),_=a(99506),p=a(279453),f=a(585878),g=a(116240),E=a(626208);function h(e,t){return e&&"loaded"===t.status?t.data.org:e||"loaded"!==t.status?null:t.data.team}let v=r.memo(function(e){let t=(0,n.wA)(),{updateVatGstId:a}=e,i=!!e.org?.id,v=(0,l.Rs)(p.Wt6,{orgId:e.org?.id||""},{enabled:i}),y=(0,l.Rs)(p.xS7,{teamId:e.team?.id||""},{enabled:!i}),b=i?v:y,w=h(i,b),T=w?.taxIdVerificationStatus,[I,C]=r.useState(),[x,N]=r.useState(""),[S,k]=r.useState(""),[L,A]=r.useState(!1),[R,F]=r.useState({country:"",state:""}),[P,O]=r.useState(!1);r.useEffect(()=>{if(!P&&"loaded"===b.status){let e=h(i,b),t=e?(0,s.oA)(e.taxInfo):null;N(e?.vatGstId||""),k(t?.regionalVatGstId||""),A(t?.canUpdateRegionalVatGst||!1),F({country:t?.country||"",state:t?.state||""}),O(!0)}},[i,b,P]);let D=()=>{t(u.Ce())};return r.createElement(f.XV,{onClose:D,title:(0,m.t)("change_vat_gst_id.input_id"),minWidth:344,maxWidth:344,fixedTop:!0},I&&r.createElement("div",{className:"change_vat_gst_id_modal--errorBanner--sqxNt","data-testid":"change-vat-gst-id-error"},r.createElement(d._,{color:d.S.ERROR,rounded:!1,text:I})),T===_.kI.VERIFIED&&r.createElement("div",{"data-testid":"change-vat-gst-id-information"},r.createElement(d._,{color:d.S.INFORMATION,rounded:!1,text:(0,m.t)("change_vat_gst_id.tax_id_verification_succeeded")})),T===_.kI.UNVERIFIED&&r.createElement("div",{"data-testid":"change-vat-gst-id-warning"},r.createElement(d._,{color:d.S.WARNING,rounded:!1,text:(0,m.t)("change_vat_gst_id.tax_id_verification_failed")})),r.createElement("div",{className:E.Dy},r.createElement("p",{className:"change_vat_gst_id_modal--description--6gdSL"},(0,m.tx)("change_vat_gst_id.description")),r.createElement("form",{onSubmit:e=>{e.preventDefault(),a(x,e=>C(e),L?S:"").then(e=>{e&&D()})},"data-testid":"change-vat-form"},P&&r.createElement(g.A,{onChange:N,country:R.country,vatId:x,isCommunityCheckout:!1}),L&&r.createElement(g.A,{onChange:k,country:R.country,region:R.state,vatId:S,isCommunityCheckout:!1,variant:"regional"}),r.createElement("div",{className:o()(E.v0,E.hF)},r.createElement(c.vd,{className:E.pL,type:"submit",disabled:!P},(0,m.tx)("change_vat_gst_id.save_id"))))))})},815622:(e,t,a)=>{a.r(t),a.d(t,{ConfirmDowngradeModal:()=>f});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(776250),s=a(946689),c=a(939863),d=a(662275),m=a(995852),u=a(585878),_=a(626208);let p=r.memo(function(e){let t=(0,n.wA)(),{teamId:a,billingEndDate:i,exitSurveyData:p}=e.modalShown.data,f=e.teams[a],g=()=>{t(d.Ce())},E=i?(0,c.tx)("confirm_downgrade.at_the_end_of_your_current_billing_period_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:f.name,billingEndDate:i}):(0,c.tx)("confirm_downgrade.on_your_next_billing_date_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:f.name});return r.createElement(u.XV,{onClose:g,title:(0,c.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0},r.createElement("div",{className:_.Dy},r.createElement("p",null,E),r.createElement("div",{className:o()(_.v0,_.hF)},r.createElement(s.tM,{onClick:g},(0,c.tx)("confirm_downgrade.go_back")),r.createElement(s.qM,{className:_.pL,onClick:()=>{p&&(0,l.sx)("Team Downgrade Survey",{...p,selectedOptions:p.selectedOptions.map(e=>JSON.stringify(e))}),t(d.Ce()),t(m.Wc({teamId:a}))}},(0,c.tx)("confirm_downgrade.finish_cancellation")))))});function f(e){return r.createElement(p,{...e})}},604019:(e,t,a)=>{a.r(t),a.d(t,{ProCostBreakdown:()=>b,ProCostBreakdownModal:()=>w});var r=a(411855),n=a(188507),i=a(752553),o=a(939863),l=a(662275),s=a(756442),c=a(304769),d=a(13513),m=a(99506),u=a(820113),_=a(984968),p=a(135163),f=a(585878);let g="cost_breakdown--row--6-9Kd",E="cost_breakdown--primary--miID8",h="cost_breakdown--secondary---4QGG",v="cost_breakdown--currency--gqS1S";function y(e){let t=new u.vr(e.currency),a=t.formatMoney(e.whiteboardCostAnnual),n=t.formatMoney(e.whiteboardCostMonthly),i=(0,o.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsMonthly}),l=(0,o.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsAnnual}),s=(0,o.t)("org_admin_settings.cost_breakdown.12_months");return r.createElement(r.Fragment,null,e.whiteboardSeatsAnnual>0&&r.createElement("div",{className:g,"data-testid":"cost-breakdown-row-figjam-annual"},r.createElement("div",{className:E},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_annual_annual_fig_jam_editor_seats.seat_rename",{whiteboardSeatsAnnual:e.whiteboardSeatsAnnual})),r.createElement("span",{className:v},a)),r.createElement("div",{className:h},(0,o.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_triple",{cost:t.formatMoney(e.annualMonthlyAmount),seats:l,numMonths:s}))),e.whiteboardSeatsMonthly>0&&r.createElement("div",{className:g,"data-testid":"cost-breakdown-row-figjam-monthly"},r.createElement("div",{className:E},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_monthly_monthly_fig_jam_editor_seats.seat_rename",{whiteboardSeatsMonthly:e.whiteboardSeatsMonthly})),r.createElement("span",{className:v},n)),r.createElement("div",{className:h},(0,o.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_double",{cost:t.formatMoney(e.monthlyAmount),seats:i}))))}function b(e){let t=e.currency,a=new u.vr(t),n=e.nDesignEditorsMonthly,i=e.nDesignEditorsAnnual,l=e.nWhiteboardEditorsMonthly,s=e.nWhiteboardEditorsAnnual,c=e.nFigjamEditors,d=e.whiteboardCotermUpgrades,m=d?.amount||0,_=a.formatMoney(m),p=e.designCotermUpgrades,f=12*e.annualMonthlyDesignAmount*e.nDesignEditorsAnnual,b=e.monthlyDesignAmount*e.nDesignEditorsMonthly,w=f+b,T=a.formatMoney(f),I=a.formatMoney(b),C=p?.amount||0,x=a.formatMoney(C),N=12*e.annualMonthlyFigjamAmount*s,S=e.monthlyFigjamAmount*l,k=N+S,L=a.formatMoney(w+k+C+m),A=(0,o.t)("org_admin_settings.cost_breakdown.seats",{seats:n}),R=(0,o.t)("org_admin_settings.cost_breakdown.seats",{seats:i}),F=(0,o.t)("org_admin_settings.cost_breakdown.12_months");return r.createElement("div",{className:"cost_breakdown--container--wwGb0"},i>0&&r.createElement("div",{className:g,"data-testid":"cost-breakdown-row-design-annual"},r.createElement("div",{className:E},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.design_seats_annual_annual_design_editor_seats.seat_rename",{designSeatsAnnual:i})),r.createElement("span",{className:v},T)),r.createElement("div",{className:h},(0,o.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_triple",{cost:a.formatMoney(e.annualMonthlyDesignAmount),seats:R,numMonths:F}))),n>0&&r.createElement("div",{className:g,"data-testid":"cost-breakdown-row-design-monthly"},r.createElement("div",{className:E},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.design_seats_monthly_monthly_design_editor_seats.seat_rename",{designSeatsMonthly:n})),r.createElement("span",{className:v},I)),r.createElement("div",{className:h},(0,o.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_double",{cost:a.formatMoney(e.monthlyDesignAmount),seats:A}))),r.createElement(y,{whiteboardSeatsMonthly:l,whiteboardSeatsAnnual:s,whiteboardCostMonthly:S,whiteboardCostAnnual:N,figjamSeats:c,currency:t,annualMonthlyAmount:e.annualMonthlyFigjamAmount,monthlyAmount:e.monthlyFigjamAmount}),p&&p.quantity>0&&p.amount>0&&r.createElement("div",{className:g},r.createElement("div",{className:E},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.design_seats_monthly_cotermed_design_editor_seats.seat_rename",{seatsCotermed:p.quantity})),r.createElement("span",{className:v},x))),d&&d.quantity>0&&d.amount>0&&r.createElement("div",{className:g},r.createElement("div",{className:E},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_monthly_cotermed_whiteboard_editor_seats.seat_rename",{seatsCotermed:d.quantity})),r.createElement("span",{className:v},_))),r.createElement("div",{className:"cost_breakdown--divider--GRAn-"}),r.createElement("div",{className:"cost_breakdown--total--a6sZV"},r.createElement("div",null,(0,o.tx)("org_admin_settings.cost_breakdown.total")),r.createElement("div",{className:v},L)))}function w(e){let t=(0,n.wA)(),a=(0,_.cD)(),o=d.Oq.exclude([c.ud.DEV_MODE]).dict(t=>({currency:e.currency,billableProductKey:t,tier:p.Ju.PRO,renewalTerm:p.IX.MONTH,unit:p.IX.MONTH})),u=d.Oq.exclude([c.ud.DEV_MODE]).dict(t=>({currency:e.currency,billableProductKey:t,tier:p.Ju.PRO,renewalTerm:p.IX.YEAR,unit:p.IX.MONTH})),[g,E]=(0,i.mI)((0,s.ic)(o,{planParentId:a,planType:m.OL.TEAM},s.Fq.ADMIN_SETTINGS),(0,s.ic)(u,{planParentId:a,planType:m.OL.TEAM},s.Fq.ADMIN_SETTINGS));if(null===g.data||null===E.data)throw Error("Price data is null");let h=g.data[c.ud.DESIGN].amount,v=g.data[c.ud.FIGJAM].amount,y=E.data[c.ud.DESIGN].amount,w=E.data[c.ud.FIGJAM].amount;return r.createElement(f.XV,{onClose:()=>t(l.Ce()),title:e.title,minWidth:341,maxWidth:341},r.createElement(b,{currency:e.currency,nDesignEditorsAnnual:e.nDesignEditorsAnnual,nDesignEditorsMonthly:e.nDesignEditorsMonthly,nFigjamEditors:e.nFigjamEditors,nWhiteboardEditorsAnnual:e.nWhiteboardEditorsAnnual,nWhiteboardEditorsMonthly:e.nWhiteboardEditorsMonthly,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades,monthlyDesignAmount:h,monthlyFigjamAmount:v,annualMonthlyDesignAmount:y,annualMonthlyFigjamAmount:w}))}},648139:(e,t,a)=>{a.r(t),a.d(t,{TeamPermissionsModal:()=>ek});var r=a(411855),n=a(188507),i=a(729064),o=a(67151),l=a(776250),s=a(133537),c=a(498750),d=a(915440),m=a(742808),u=a(493323),_=a(939863),p=a(824520),f=a(761273),g=a(662275),E=a(672517),h=a(594901),v=a(860178),y=a(99506),b=a(279453),w=a(540019),T=a(643067),I=a(243987),C=a(147206),x=a(297536),N=a(428467),S=a(416618),k=a(389643),L=a(206193),A=a(668860),R=a(501256),F=a(764299),P=a(585878),O=a(24791),D=a(268787),M=a(800535),B=a(479842),U=a(944175),V=a(421063),H=a(880618),W=a(794094),j=a(163023),$=a(928491),G=a(881816),Y=a(561916),z=a(816985),Q=a(553551),K=a(761382),q=a(68188);function Z(e){let t=e.canAdmin,a=r.createElement(j.B,{className:z.wk,svg:K.A});e.sharingAudienceControl===y.PQ.ORG_EDIT||e.sharingAudienceControl===y.PQ.ORG_VIEW?a=r.createElement("div",{className:z.AA},r.createElement(j.B,{svg:q.A})):(e.sharingAudienceControl===y.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===y.PQ.WORKSPACE_VIEW)&&(a=r.createElement("div",{className:z.AA},e.workspace&&r.createElement($.z6,{entity:e.workspace,size:24})));let n=e.sharingAudienceControl===y.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable,i=n?z.Fl:z.Jt;return r.createElement("div",{className:t?i:z.zn,onClick:t?()=>e.changeModalView(1):void 0,role:"button","data-onboarding-key":G.F,tabIndex:0},a,r.createElement("div",{className:z.$S},r.createElement("div",null,e.sharingAudienceControl&&(0,Y.ET)(e.sharingAudienceControl,e.org,e.workspace),n&&r.createElement("div",{className:z.JZ},(0,_.t)("team_creation.anyone_can_find_this_team"))),e.org&&r.createElement("div",{className:z.j7,"data-onboarding-key":G.F},e.sharingAudienceControl&&(0,Y.mi)(e.sharingAudienceControl),t&&r.createElement(j.B,{svg:Q.A,className:z.$w}),t&&r.createElement(G.j,null))))}var X=a(504440),J=a(187134),ee=a(196367),et=a(75395),ea=a(538082),er=a(297666),en=a(799569),ei=a(268537),eo=a(946689),el=a(738269),es=a(331363),ec=a(336599),ed=a(937890),em=a(498606),eu=a(237870),e_=a(298543),ep=a(488578);let ef="team_join_link_permissions--loadedViewWrapper--LjAIr";var eg=a(289298);let eE=(0,E.tf)(X.$n),eh=(0,er.s)((e,t,a)=>e(es.do({teamId:t,level:a}))),ev=(0,n.Ng)((e,t)=>({teamJoinLinks:e.teamJoinLinks,loadingState:e.loadingState,canAdmin:(0,N.hasAdminRoleAccessOnTeam)(t.teamId,e),canEdit:(0,N.hasEditorRoleAccessOnTeam)(t.teamId,e)}),null,(e,t,a)=>({isInLoadingState:function(e,t,a){let r=!(0,ec.VP)(t,(0,ed.OL)(e))&&!(0,ec.aF)(t,(0,ed.OL)(e))&&!a;return(0,ec.VP)(t,(0,ed.OL)(e))||(0,ec.VP)(t,es.ui.loadingKeyForPayload({teamId:e}))||(0,ec.VP)(t,(0,ed._M)(e))||r}(a.teamId,e.loadingState,e.teamJoinLinks),...e,...a,...t}))(function(e){let{dispatch:t,teamId:a,initialInviteLevel:n,canAdmin:i,canEdit:o}=e,[l,s]=(0,r.useState)(n);if((0,r.useEffect)(()=>(eh(t,a,n),()=>{t(es.F1(null))}),[t,a,n]),!e.isInLoadingState&&!e.teamJoinLinks||!i&&e.teamJoinLinks?.disabled)return null;let c=o&&!!e.teamJoinLinks?.url;return r.createElement(r.Fragment,null,r.createElement("div",{style:c?{justifyContent:"space-between"}:{justifyContent:"flex-start",marginTop:"8px"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL"},r.createElement("span",{className:"team_join_link_permissions--inviteHeader--80xpy"},(0,_.tx)("team_join_links.invite_link")),c&&r.createElement(ey,{dropdownShown:e.dropdownShown,resetInviteLinks:()=>{t(g.$O({type:eT,data:{resetLink:()=>{t(es.Nw({teamId:a,level:l,shouldShowVisualBell:!0}))}}}))},disableInviteLinks:()=>t(es.ui({teamId:a})),loading:e.isInLoadingState,canAdmin:i})),e.isInLoadingState||e.teamJoinLinks?.url?r.createElement(eb,{dropdownShown:e.dropdownShown,setLevel:e=>{l!==e&&(s(e),t(es.do({teamId:a,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>s(l)})))},currentLevel:l,url:e.isInLoadingState?void 0:e.teamJoinLinks?.url,inviteLevels:o?[A.e6.VIEWER,A.e6.EDITOR]:[A.e6.VIEWER],teamId:e.teamId}):r.createElement(ew,{turnOnInviteLinks:()=>t(es.Nw({teamId:a,level:l}))}))});function ey(e){let t=(0,n.wA)(),a="team-link-settings-dropdown",i=r.createRef(),o=()=>e.dropdownShown?.type===a;return r.createElement(J.o,{eventListeners:["onMouseDown"]},r.createElement("div",{ref:i},r.createElement(ee.d,{toggled:o(),disabled:e.loading,"aria-label":(0,_.t)("team_join_links.team_invite_link_settings"),onClick:()=>{let e=i.current?.getBoundingClientRect();o()?t(el.oB()):e&&t(el.j7({type:a,data:{targetRect:e}}))},htmlAttributes:{"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,_.t)("team_join_links.team_invite_link_settings")}},r.createElement(ea.P,null))),o()&&r.createElement(e_.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0},r.createElement(ei.c$,{onClick:e.resetInviteLinks},(0,_.tx)("team_join_links.reset_invite_links")),e.canAdmin&&r.createElement(ei.c$,{onClick:e.disableInviteLinks},(0,_.tx)("team_join_links.turn_off_invite_links"))))}function eb(e){let t=(0,n.wA)(),a="join-link-permission-level-dropdown",i=e.currentLevel===A.e6.VIEWER?"-32px":"-61px";return r.createElement("div",{className:ef},r.createElement("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB"},r.createElement("span",{className:"team_join_link_permissions--urlSection--fh6VF"},!e.url&&r.createElement(u.kt,null),e.url&&r.createElement("span",{className:"team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa"},e.url)),r.createElement("div",null,r.createElement(et.E,{onClick:r=>{r.stopPropagation(),e.url&&(e.dropdownShown?t(el.oB()):t(el.j7({type:a})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS"},r.createElement("span",null,(0,C.C1)(e.currentLevel)),r.createElement("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak"},r.createElement(j.B,{svg:eg.A}))),e.dropdownShown&&e.dropdownShown.type===a&&r.createElement(ei.ms,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:i}},e.inviteLevels.map((t,a)=>r.createElement(ei.MM,{key:a,checked:t===e.currentLevel,onClick:()=>e.setLevel(t)},(0,C.C1)(t)))))),r.createElement(X.IK,{onClick:()=>{e.url&&t(es.LN({teamId:e.teamId,url:e.url,source:es.Kq.TEAM_PERMISSIONS_MODAL}))},disabled:!e.url},(0,_.tx)("team_join_links.copy_link")))}function ew(e){return r.createElement("div",{className:ef},(0,_.tx)("team_join_links.share_a_secret_link_people_can_use_to_join_your_team")," ",r.createElement(eo.Us,{onClick:e.turnOnInviteLinks,trusted:!0},(0,_.tx)("team_join_links.turn_on_invite_links")))}let eT="RESET_LINKS_CONFIRMATION_MODAL";(0,eu.Ju)(function(e){let t=(0,n.wA)();return r.createElement(ep.aF,{className:"team_join_link_permissions--confirmationModal--iwmpk",size:288},r.createElement("div",{className:"team_join_link_permissions--titleAndCloseButton--5XqxG"},r.createElement(en.s_,{dispatch:t}),r.createElement("div",{className:"team_join_link_permissions--confirmationModalTitle--Htxwx"},r.createElement("span",null,(0,_.tx)("team_join_links.reset_invite_links")))),r.createElement("p",{className:"team_join_link_permissions--confirmationModalBody--qUqac"},(0,_.tx)("team_join_links.modal_description")),r.createElement("div",{className:"team_join_link_permissions--confirmationModalButtonContainer--rsNVu"},r.createElement(eE,{variant:"secondary",onClick:()=>t(g.Lo())},(0,_.tx)("team_join_links.cancel")),r.createElement(eE,{variant:"destructive",onClick:()=>{e.resetLink(),t(g.Lo())}},(0,_.tx)("team_join_links.reset_links"))))},eT);var eI=a(839957),eC=a(1700),ex=a(305312);let eN={domains:[],isFetching:!1,fetchedAt:null},eS=r.memo(function({roles:e,virtualItems:t,totalSize:a,user:n,parentOrg:i,permissionState:o,team:l,teamOrgDomains:s,canMakeAdmin:c}){let d=r.useMemo(()=>({team:l,type:y.vt.TEAM}),[l]);return r.createElement("div",{style:{height:`${a}px`,position:"relative"}},t.map(t=>{let a=t.index,m=e[a];return r.createElement(eI.O,{key:`role-row-${a}`,role:m,user:n,currentUserOrgId:i?.id??null,isOwnerOfResource:(0,N.isResourceOwner)(n.id,l.id,y.vt.TEAM,o.roles),isOrgUser:!!m.org_user,currentOrg:i,resourceName:l.name,resource:d,canEditRole:(0,N.canEditTeamRole)(m,o),canMakeAdmin:c,readOnlyOverrideWarningMessage:null,orgDomains:s,virtualRowItem:t})}))});function ek({teamId:e,initialInviteLevel:t,prepopulateEmail:a,initialView:j}){let $,G=(0,n.wA)(),Y=(0,v.Pc)(),z=(0,n.d4)(e=>e.autocomplete),Q=(0,n.d4)(e=>e.contacts),K=(0,n.d4)(e=>e.dropdownShown),q=(0,h.FC)(),X=w.M4.Team.useValue(e).data,J=(0,d.Rs)(b.GyZ,{teamId:e}),ee=(0,d.Rs)(b.H1b,{teamId:e});(0,m.I)("loaded"===J.status&&"loaded"===ee.status,e=>{let t=ee.data?.team?.roles?.length??0,a="unknown";a=t<=100?"small":t<=300?"medium":"large",(0,l.sx)("share_modal_latency",{latency_ms:e,modal_type:"team",is_outlier:e>500,role_size:a},{forwardToDatadog:!0})});let et=(0,r.useMemo)(()=>(0,x.X)(J),[J]),ea=(0,r.useMemo)(()=>(0,x.SN)(ee),[ee]),er=et&&et.org,en=et&&et.teamSharingSettings,ei=et&&et.orgUser,eo=er?er.id:null,el=et&&et.workspace,es=er&&er.org_domains?er.org_domains:eN,ec=r.useMemo(()=>ea?.sort((e,t)=>e.pending===t.pending?eC.E4(e,Q).toLocaleLowerCase()<eC.E4(t,Q).toLocaleLowerCase()?-1:1:e.pending?1:-1)??[],[Q,ea]),ed=et&&et.pendingTeamRoleRequests?et.pendingTeamRoleRequests:[];(0,r.useEffect)(()=>{G(f.um())},[G]);let em=e=>t||(!(0,I.w5)(X)&&e?A.e6.EDITOR:A.e6.VIEWER),[eu,e_]=(0,r.useState)(()=>em((0,N.canEditTeam)(e,q))),ep=(0,r.useCallback)(e=>(0,x.yI)(e,Q.usersByEmail[e]||e,er,es,Y.email),[Q.usersByEmail,es,Y.email,er]);(0,r.useEffect)(()=>{if(a){let e=ep(a);G(p.hZ({tokens:[e],inputValue:"",errorMessage:""}))}},[a,ep,G]);let ef=e=>{e_(e)},eg=e=>(0,x.t9)(e,er,es),eE=t=>{let a=(0,R.Z)(t);G((0,S.rq)({emails:a,resourceType:y.vt.TEAM,resourceIdOrKey:e,level:eu,emailsToExclude:(0,k.bp)(Q.usersByEmail,Y,ec),onSuccess:({invites:e,over_editor_limit:t})=>{if(eu>=A.e6.EDITOR&&t){let t=(0,N.getResourceTeamId)(e[0],q),a=t&&{...q.teams[t],canEdit:(0,N.canEditTeam)(t,q),canAdmin:(0,N.canAdminTeam)(t,q)};G(g.to({type:O.oE,data:{team:a,invitesSent:e.length,editorType:null,upsellSource:L.b.ADD_EDITOR}}));return}},source:"team_share_modal",orgName:er?er.name:void 0}))},eh=e=>{if(er&&er.domain_capture&&es&&es.domains.length>0){let t=(0,R.Z)(e).filter(e=>(0,s.xf)(e)&&!(0,T.H_)(es.domains,e));if(er?.invite_whitelist_guest_invite_setting==null&&t.length>0){G(g.to({type:B.F,data:{emails:t,onConfirm:()=>{eE(e)},popStack:!0,orgName:er.name}}));return}}eE(e)},ey=()=>{G(g.Ce()),G(p.cL())},eb=e=>{e.keyCode!==c.Uz.ESCAPE&&e.stopPropagation()},ew=(0,N.canEditTeam)(e,q),eT=(0,N.canViewTeam)(e,q),eI=(0,N.canAdminTeam)(e,q),[ek,eL]=r.useState(j||0),eA=()=>0===ek?r.createElement("div",{className:ex.DA},r.createElement("p",null,(0,_.tx)("team_view.team_permissions_modal.share_this_team"))):r.createElement(V.w,{title:(0,_.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>eL(0)}),eR=!!X&&!X.org_id,{sharingSuggestions:eF,sharingSuggestionIdsToExclude:eP,sharingSuggestionEmailsToExclude:eO}=(0,H.$)({orgId:eo,teamId:e,contacts:Q.usersByEmail,roles:ec,user:Y,autocompleteTokens:z.tokens}),eD=r.useCallback(()=>36,[]),eM=r.useRef(null),eB=(0,i.z)({size:ec.length,parentRef:eM,estimateSize:eD,overscan:10,paddingStart:0});return $=X?0===ek?(()=>{if(!et)return r.createElement("div",{className:ex.Lq},r.createElement(u.qc,null));let t=[];return eI&&t.push(A.e6.ADMIN),ew&&t.push(A.e6.EDITOR),eT&&t.push(A.e6.VIEWER),(0,o.KF)(t.length>0,"there should be at least one role (the user's own)"),r.createElement(r.Fragment,null,r.createElement("div",{key:"container",className:ex.SS,onKeyDown:eb},eR&&r.createElement(r.Fragment,null,r.createElement(ev,{teamId:e,dropdownShown:K,initialInviteLevel:em(ew)}),r.createElement("div",{className:ex.Vq},(0,_.tx)("team_view.team_permissions_modal.invite_by_email"))),!!et?.canAdmin&&r.createElement(U.$i,{teamId:e,teamRoleRequests:ed,teamRoles:ec}),(0,M.r)(Y)?r.createElement(M.X,{resourceType:"team"}):r.createElement(r.Fragment,null,r.createElement("div",{className:ex.Zk},r.createElement(F.e,{autocomplete:z,buttonText:(0,_.t)("team_view.team_permissions_modal.invite"),dispatch:G,dropdownKey:"permissions-invite-dropdown",dropdownShown:K,hideDropdownOnEmpty:!0,inviteLevel:eu,getSelectText:C.C1,onInviteLevelChange:ef,options:t,onSubmit:eh,searchResultToken:eg,fetchAsyncSearchResults:t=>(0,k.Wj)(t,Q.usersByEmail,Y,ec,eo,e,null,ei?.permission===y._D.GUEST),validateToken:ep,TokenComponent:D.g,SearchResultComponent:D.o,joinLinkShown:eR,shouldAutoFocus:!eR,onHideModal:ey,placeholderText:(0,_.t)("team_creation.add_a_name_or_email")})),r.createElement(H.t,{suggestions:eF??void 0,autocomplete:z,searchResultToken:eg,resourceType:"team",resourceId:e,idsToExclude:eP??void 0,emailsToExclude:eO??void 0})),er&&r.createElement("div",{className:ex.st,ref:eM},r.createElement("div",{className:ex.d3},r.createElement("div",{className:ex.eF},(0,_.t)("file_permissions_modal.who_has_access")),r.createElement(Z,{team:X,workspace:el,org:er,changeModalView:eL,sharingAudienceControl:en?.sharingAudienceControl,isTeamOrgBrowsable:en?.orgBrowsable,canAdmin:!!et?.canAdmin}),r.createElement(eS,{roles:ec,virtualItems:eB.virtualItems,totalSize:eB.totalSize,user:Y,parentOrg:er,permissionState:q,team:X,teamOrgDomains:es,canMakeAdmin:!!et?.canAdmin})))))})():er?en&&r.createElement(W.nH,{team:X,workspace:el||void 0,org:er,teamSharingSettings:en,hideModal:ey,goBack:()=>eL(0)}):r.createElement(r.Fragment,null):r.createElement(u.qc,null),r.createElement(E.fu,{name:"Share Modal",properties:{resourceType:y.vt.TEAM,resourceId:e}},r.createElement(P.XV,{title:r.createElement(r.Fragment,null,eA()),maxWidth:eR?484:x.k4,fixedTop:!0,onClose:ey},$))}},937106:(e,t,a)=>{a.r(t),a.d(t,{TeamRenameModal:()=>c});var r=a(411855),n=a(188507),i=a(939863),o=a(964258),l=a(851363),s=a(353265);function c({team:e}){let t=(0,n.wA)();return r.createElement(s.c,{initialName:e.name,maxLength:l.qg,placeholder:(0,i.t)("resource_rename_modal.team.placeholder"),submitText:(0,i.t)("resource_rename_modal.team.submit"),onRename:a=>t((0,o.IA)({team:e,name:a}))})}},475676:(e,t,a)=>{let r;a.r(t),a.d(t,{FileBrowserView:()=>Nz});var n,i,o,l=a(411855),s=a(188507),c=a(627776),d=a(517333),m=a(737947),u=a(320063),_=a(358145),p=a(966712),f=a(752553),g=a(860601),E=a(563706),h=a(647899),v=a(69267),y=a(884243),b=a(238879),w=a(966420),T=a(371740),I=a(274990),C=a(243763),x=a(67151),N=a(858977),S=a(901536),k=a(939863),L=a(809840),A=a(210049),R=a(300187),F=a(243058),P=a(498750),O=a(192437),D=a(687918),M=a(629019),B=a.n(M),U=a(402838),V=a(943632),H=a(448169),W=a(459826),j=a(163023),$=a(881388),G=a(635412),Y=a(948118),z=a(90898),Q=a(919114),K=a(738269),q=a(507877),Z=a(198123),X=a(93536),J=a(688083),ee=a(875847),et=a(318812),ea=a(611978),er=a(164249);let en="folder_link--folderLink--6GjCZ sidebar--folder--r4rFQ sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd";var ei=a(853705);function eo(e){let t=(0,s.d4)(e=>e.teams),a=(0,s.d4)(e=>e.roles),r=(0,ea._6)(),n=(0,et.Um)(),i=l.useRef(null),o=(0,s.wA)(),c=(0,s.d4)(t=>t.dragState.type===er.R.Folder&&t.dragState.data?.id===e.folder.id),[d,m]=l.useState(!1),[u,_]=l.useState(!1),p=(0,f.n_)(J.mq),g=()=>!e.folder.teamId&&e.folder.path,E=(e,t)=>{t.stopPropagation(),t.preventDefault();let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};o(K.j7({type:z.B,data:{folder:{...e,isSubscribed:!0,description:e.description},targetRect:a}}))},h=t=>{let{folder:a}=e;if(t.isFigFiles()){m(!1);let r=t.getData();return!!r&&(o(Z.z({files:r,folder:a,team:e.team})),!0)}if(t.isRepos()){m(!1);let r=t.getReposData();return!!r&&(o(Z.z({files:r.files,repos:r.repos,folder:a,team:e.team})),!0)}return!1},v=(e,t)=>{p({folderId:e.id,folderName:t}),o(K.aK({folderId:e.id}))},y=e.folder;if(e.renamingNavFolderWithId===y.id)return l.createElement(Y.Z,{useSpacer:!0,text:l.createElement("div",{key:`rename-input-${y.id}`,className:en},l.createElement(W.p,{className:"folder_link--newFolderInput--ejjd- input--input--IPk3x sidebar--sectionInput--xZUCk sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa",placeholderValue:y.path,submit:e=>{v(y,e)},cancel:()=>{let t=e.folder;o(K.aK({folderId:t.id}))}}))});let b=(0,ee.CI)(y),w=e.disambiguationFolders?(0,ee.pr)(y,e.disambiguationFolders,t,a):void 0,T=u||c,I=en,C=(0,z.H)(n),x="folder"===r.view&&r.folderId===y.id;C&&C.id===y.id?I="folder_link--contextSelectedFolderLink--awSqK folder_link--folderLink--6GjCZ sidebar--folder--r4rFQ sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd":d&&(I="folder_link--folderLinkDropTarget---yg82 sidebar--dropTarget--Z-yI1 folder_link--folderLink--6GjCZ sidebar--folder--r4rFQ sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd");let N=`(${w})`;return l.createElement(l.Fragment,null,l.createElement(H.Y,{className:I,title:b.length>28?b:void 0,draggable:!0,isDragTarget:e=>{let t=new X.le(e);return t.isFigFiles()||t.isRepos()},onTargetDragEnter:e=>{g()||m(!0)},onTargetDragLeave:e=>{g()||m(!1)},onTargetDrop:e=>{if(g()){o($.s.error((0,k.t)("file_browser.error_on_move_to_personal_project")));return}h(new X.le(e))},onDragStart:t=>{let a=e.folder;t.dataTransfer.effectAllowed="move";let r=new X.le(t.dataTransfer);r.setArbitraryData(a),i.current&&r.setDragImage(i.current),o(Q.v({type:er.R.Folder,data:a})),t.stopPropagation()},onDragEnd:e=>{o(Q.T())},onMouseOver:()=>{_(!0)},onMouseLeave:()=>{_(!1)},onMouseDown:t=>{let a=e.folder;t.metaKey||t.ctrlKey||0!==t.button||(o(q.gN(a.id)),o(K.Oe({clickedResourceType:"folder",resourceIdOrKey:a.id})))},onContextMenu:e=>E(y,e)},l.createElement("div",{className:"folder_link--tileBorder--THtGC"}),l.createElement(Y.Z,{showGrabber:T,isSelected:x,icon:e.isSharedProject?l.createElement(j.B,{className:"folder_link--icon--sQkbC sidebar--icon--wMzUY",svg:ei.A}):void 0,useSpacer:!0,text:l.createElement("span",{className:"folder_link--folderNameCustomSections--XN5kQ sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa"},b,w&&l.createElement("span",{className:"folder_link--nameDisambiguator---WkOt"},N)),badge:l.createElement(G.h,{folder:e.folder,isUserDraftFolder:!1,isContainerHovered:u})})),l.createElement("div",{className:"folder_link--dragImage--8Q9KD",ref:e=>{i.current=e}}))}var el=a(776250),es=a(650322),ec=a(281381),ed=a(67294),em=a(134279),eu=a(205857),e_=a(796933),ep=a(296447),ef=a(374626),eg=a(101505),eE=a(456104),eh=a(582947),ev=a(397065),ey=a(340514),eb=a(493364),ew=a(463546),eT=a(539665);let eI="seen_team_admin_moved_unassigned_drafts_onboarding",eC=(0,eh.r1)(eI);function ex(){let e=(0,ef.md)(eC),{show:t,isShowing:a,complete:r}=(0,eE.e)({overlay:ew.tZO,priority:ev.N.DEFAULT_MODAL},[e]);return(0,u.h)(()=>{t({canShow:e=>!e})}),l.createElement(ey.rq,{clickOutsideToHide:!0,arrowPosition:eb.F_.LEFT_TITLE,isShowing:a,targetKey:eH,trackingContextName:eT.o8,title:(0,k.tx)("team_admin.onboarding.unassigned_drafts.title"),description:(0,k.tx)("team_admin.onboarding.unassigned_drafts.description"),primaryCta:{label:(0,k.tx)("general.got_it"),type:"button",onClick:r,ctaTrackingDescriptor:eg.c.DONE},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:eg.c.LEARN_MORE},onClose:r,userFlagOnShow:eI,shouldCenterArrow:eb.EL.FALLBACK})}var eN=a(396147),eS=a(731706),ek=a(243987),eL=a(428467),eA=a(668526),eR=a(498606),eF=a(227795),eP=a(182550),eO=a(342691),eD=a(896474),eM=a(349410);function eB(e){let t,a;return(0,eM.Cv)()()?(t=l.createElement("div",{className:S.cx.h24.w24.$},l.createElement(eP.I,null)),a=l.createElement(eU,{badge:e.badge})):(t=l.createElement(eD.In,{icon:"settings-16"}),a=e.badge),l.createElement(Y.Z,{rowClassName:"go_to_admin_row--goToAdminRow--OPVDe",icon:t,text:l.createElement("div",{className:S.cx.pr36.$,"data-onboarding-key":e.dataOnboardingKey},l.createElement(L.E,{truncate:!0},(0,k.tx)("sidebar.admin_dashboard"))),isSelected:e.isSelected,onClick:e.onClick,badge:a,dataTestId:e.dataTestId})}function eU(e){return l.createElement(l.Fragment,null,l.createElement("div",{className:"go_to_admin_row--badgeContainer--U08cW"},e.badge),l.createElement("div",{className:"go_to_admin_row--iconContainer--tEzjQ"},l.createElement(eO.a,null)))}var eV=a(131043);let eH="PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY";function eW(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.teams)[e.team.id],r=l.useCallback(r=>{r.stopPropagation(),t(K.$T({view:"teamAdminConsole",teamId:e.team.id,isProTeam:a?.pro_team,teamAdminConsoleViewTab:a?.pro_team?eA.Iv.DASHBOARD:eA.Iv.MEMBERS})),(0,el.sx)("Admin Console Opened",{trackingContext:e.trackingContextName,entryPoint:"sidebar"})},[t,e.team,e.trackingContextName,a?.pro_team]);return l.createElement(eF.Me,{svg:eV.A,onClick:r,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("sidebar.admin_console"),className:"admin_console_button--button--O4Rxd addition_button--button--X9H6b"})}function ej(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentTeamId),r=(0,s.d4)(e=>e.teams),n=(0,s.d4)(eL.getPermissionsState);if(!a)return null;let i=r[a];if(!(0,eL.hasAdminRoleAccessOnTeam)(a,n)||!i||!(0,ek.w5)(i))return null;let o=e.selectedView&&"teamAdminConsole"===e.selectedView.view,c=l.createElement(eS.e9,{planType:eN.ps.TEAM,planId:a,isSelected:o,isDataLoaded:!0,isOrgAdmin:!1});return l.createElement(l.Fragment,null,l.createElement(eB,{badge:i?.pro_team?c:void 0,isSelected:o,dataTestId:"admin-settings-link",dataOnboardingKey:eH,onClick:()=>{t(K.$T({view:"teamAdminConsole",teamId:a,isProTeam:i.pro_team,teamAdminConsoleViewTab:i.pro_team?eA.Iv.DASHBOARD:eA.Iv.MEMBERS})),t(K.Oe({clickedResourceType:"teamAdminSettings",resourceIdOrKey:i.id}))}}),l.createElement(ex,null))}var e$=a(365879),eG=a(132186),eY=a(662275),ez=a(672517),eQ=a(385111),eK=a(742809),eq=a(723245),eZ=a(964258),eX=a(694687),eJ=a(594901),e0=a(7e3),e1=a(860178),e2=a(99506),e4=a(147206),e8=a(746869),e3=a(389643),e5=a(206193),e9=a(731078),e6=a(668860),e7=a(143678),te=a(266431);function tt(){return l.createElement(ec.Ex,{color:ec.zE.INFORMATIONAL,text:(0,k.t)("team_list.pro_trial"),className:"pro_trials_badge--proTrialsBadge--HmAFD team_link--freeBadge--ynTW7 team_link--badge--Ou6oy"})}var ta=a(454542),tr=a(123948);let tn="team_link--lockedBadge--rfbIf team_link--badge--Ou6oy",ti="team_link--badgeButton--NRkT9",to="team_link--teamWarningIcon--eC3Yz";function tl(e){let t;let a=(0,s.wA)(),r=(0,e1.iZ)(),n=(0,ea._6)(),i=(0,et.Um)(),o=(0,eX.dq)(),c=(0,eJ.FC)(),d=(0,s.d4)(e=>e.teams),m=(0,s.d4)(e=>e.teamRoleRequests),u=(0,s.d4)(e=>e.avatarEditorState),_=(0,s.d4)(e=>e.renamingNavTeamWithId),[p,f]=l.useState(!1),g=e.team,E=function(e,t){if(e&&e.type===e_.RQ&&e.data.teamId in t)return t[e.data.teamId]}(i,d),h=n&&"team"===n.view&&n.teamId===g.id&&_!==g.id;E&&E.id===g.id&&(t="team_link--contextSelectedTeam--Q2cQV team_link--team--qXgRE sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd");let v=(0,eL.hasAdminRoleAccessOnTeam)(g.id,c),y=(0,eL.hasEditorRoleAccessOnTeam)(g.id,c),b=(0,eL.canEditTeam)(g.id,c),w=_===g.id,T=(()=>{let t=d[e.team.id];return!!(t?.restrictions_list?.includes(e2.P4.FILES_LIMITED_LEGACY)||t?.restrictions_list?.includes(e2.P4.WHITEBOARD_FILES_LIMITED_BETA))})(),I=(0,ek.oc)(g.id,c),C=!w&&!(0,e4.R$)(r,o)&&p&&!(T||I),x=!w&&v&&(0,ek.XX)(e.team)&&!e.team.orgId,N={showReminder:!1,showAccessRestricted:!1};return c.user&&(N=(0,es.GU)(c.userEduGracePeriods,(0,es.cn)(c.user),g.id,!!g.studentTeamAt)),l.createElement("div",{onContextMenu:t=>{t.stopPropagation(),t.preventDefault(),e.team&&(0,e3.xN)(e.team.id,{dispatch:a});let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};a(K.j7({type:e_.RQ,data:{teamId:e.team.id,targetRect:r}}))},onMouseOver:()=>{f(!0)},onMouseLeave:()=>{f(!1)},"data-onboarding-key":e.onboardingKey},l.createElement(Y.Z,{rowClassName:t,onClick:t=>{let r=e.team;a(q.dm(r.id)),a(K.Oe({clickedResourceType:"team",resourceIdOrKey:r.id}))},showGrabber:!1,isSelected:h,icon:l.createElement("div",{className:S.cx.h16.w16.flex.itemsCenter.justifyCenter.$},l.createElement(ed.nl,{size:{imgSize:ed.Pf.SMALL,fallbackSize:ed.Pf.XSMALL},fallbackDisplay:em.U.HIDDEN,team:{...e.team,imgUrl:e.team.imgUrl||void 0}})),text:l.createElement("div",{className:S.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},w?l.createElement(W.p,{className:"team_link--teamNameInput--ZUj8d input--input--IPk3x",placeholderValue:g.name,submit:t=>{a((0,eZ.IA)({team:e.team,name:t})),a(K.tw({teamId:e.team.id}))},cancel:()=>{a(K.tw({teamId:e.team.id}))}}):l.createElement(L.E,{truncate:!0},g.name),l.createElement(ts,{team:g,dispatch:a,permissionsState:c,selectedView:n,shouldShowFileLimitBadge:T,eduVerificationNeeded:N})),badge:l.createElement(l.Fragment,null,C&&l.createElement(e$.I,{team:e.team,trackingContextName:e7.e0.FILE_BROWSER}),x&&l.createElement(eW,{team:e.team,trackingContextName:e7.e0.FILE_BROWSER}))}),!(0,eq.D6)(o)&&E&&E.id===g.id&&l.createElement(eG.W,{team:{...E,canEdit:b,canEditTeamContents:y},onRenameClick:e=>{a(K.m({teamId:e.id}))},onChangeTeamIconClick:()=>{a((0,eK.o)({team:{...e.team,imgUrl:e.team.imgUrl||void 0}}))},teamRoleRequests:m}),v&&l.createElement("span",{className:"team_link--hiddenEditableAvatar--IO5YA"},l.createElement(te.ER,{entity:{...g,imgUrl:g.imgUrl||void 0},entityType:e9.ck.TEAM,avatarEditorState:u,size:14,dispatch:a})))}function ts(e){let[t,a]=l.useState(!1),r=l.useRef(),n=(0,e0.TN)(e.team.id);if(e.shouldShowFileLimitBadge)return l.createElement(ep.YR,{className:to,dataTooltipType:eR.Ib.TEXT,dataTooltip:(0,k.t)("team_list.your_team_is_over_the_starter_plan_s_file_limit"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50});let i=e.permissionsState,o=(0,eL.getRolesForUserAndTeam)(e.team.id,i),s=(0,eL.hasMinRole)(o,e6.e6.EDITOR);if(i.user&&(e.eduVerificationNeeded?.showReminder||e.eduVerificationNeeded?.showAccessRestricted)&&s){let t=l.createElement(ep.YR,{className:to,dataTooltipType:eR.Ib.TEXT,dataTooltip:(0,k.t)("team_list.verify_that_youre_a_student_or_educator"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50});return e.eduVerificationNeeded?.showReminder&&(t=l.createElement(ep.vW,{className:to,dataTooltipType:eR.Ib.TEXT,dataTooltip:(0,k.t)("team_list.verify_that_youre_a_student_or_educator"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50})),t}let c=i.user?.id,d=t=>{e.dispatch((0,eY.to)({type:eu.V,data:{teamId:e.team.id,upsellSource:t}}))};if((0,ek.oc)(e.team.id,e.permissionsState)){if(e.team.studentTeamAt&&(0,p.kc)().edu_onboarding_grace_period)return null;let t=e8.ng.canSeeProTrialExpiryUx(n);return(0,eL.hasEditorRoleAccessOnTeam)(e.team.id,i)?t?l.createElement(ez.fu,{name:ec._Y.PRO_TRIAL_EXPIRED,properties:{userId:c,teamId:e.team.id,...e8.ng.getTrackingProperties()}},l.createElement(ez.$z,{type:"button",onClick:()=>d(e5.b.PRO_TRIAL_UPSELL_MODAL),className:ti,trackingProperties:e8.ng.getTrackingProperties("Badge Clicked")},l.createElement("span",{"data-tooltip-type":eR.Ib.SPECIAL,"data-tooltip":ta.d,"data-tooltip-show-right":!0,"data-tooltip-max-width":128,"data-tooltip-timeout-delay":50},l.createElement(ec.Ex,{color:ec.zE.WARNING,text:(0,k.t)("team_list.pro_trial_expired"),className:tn})))):l.createElement(ez.fu,{name:ec._Y.LOCKED,properties:{userId:c,teamId:e.team.id}},l.createElement(ez.$z,{type:"button",onClick:()=>d(e5.b.LOCKED_TEAM_BADGE),className:ti,trackingProperties:{text:"Badge Clicked"}},l.createElement(ec.Ex,{color:ec.zE.WARNING,text:(0,k.t)("team_list.locked"),className:tn}))):t?l.createElement(ez.fu,{name:ec._Y.PRO_TRIAL_EXPIRED,properties:{userId:c,teamId:e.team.id,...e8.ng.getTrackingProperties()}},l.createElement(ec.Ex,{color:ec.zE.WARNING,text:(0,k.t)("team_list.pro_trial_expired"),className:tn})):l.createElement(ec.Ex,{color:ec.zE.WARNING,text:(0,k.t)("team_list.locked"),className:"team_link--badge--Ou6oy"})}if(n&&e8.ng.canSeeProTrialUx(n))return l.createElement(ez.fu,{name:ec._Y.PRO_TRIAL,properties:{userId:c,teamId:e.team.id,...e8.ng.getTrackingProperties()}},l.createElement(ez.$z,{type:"button",onClick:()=>d(e5.b.PRO_TRIAL_UPSELL_MODAL),className:ti,trackingProperties:e8.ng.getTrackingProperties("Badge Clicked")},l.createElement("span",{"data-tooltip-type":eR.Ib.SPECIAL,"data-tooltip":tr.V,"data-tooltip-pro-trials-days-left":n.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50},l.createElement(tt,null))));if(!(0,ek.XX)(e.team)&&(0,eL.hasEditorRoleAccessOnTeam)(e.team.id,i)){let n={monetization_surface:eQ.h.MonetizationSurface.FILE_BROWSER,monetization_trigger:e5.b.STARTER_TEAM_BADGE};return l.createElement("button",{onClick:t=>{t.stopPropagation(),e.dispatch(q.dm(e.team.id)),d(e5.b.STARTER_TEAM_BADGE),(0,el.sx)("Starter Team Badge Clicked",{userId:c,teamId:e.team.id,...n})},onMouseEnter:()=>{t||(r.current=setTimeout(()=>{(0,el.sx)("Starter Team Badge Viewed",{userId:c,teamId:e.team.id,...n}),a(!0)},1e3))},onMouseLeave:()=>{clearTimeout(r.current)},className:ti},l.createElement(ec.Ex,{color:ec.zE.INFORMATIONAL,text:(0,k.t)("team_list.free"),className:"team_link--freeBadge--ynTW7 team_link--badge--Ou6oy"}))}return null}var tc=a(7915),td=a(27087),tm=a(980820);let tu=(0,tm.nF)((e,t)=>{let a=e.getState().user?.id,r=e.getState().currentUserOrgId;if(t.userInitiated){let n=td.Ay.put(`/api/file_browser_preferences/section/${t.prefs.section_type}`,{...t.prefs,org_id:r}).catch(t=>{e.dispatch($.s.error(t.data?.message||"An error occurred.")),console.error(t)});t.prefs.id?tc.WB()?.optimisticallyUpdate({FileBrowserSectionPreferences:{[t.prefs.id]:{orderedFolderIds:t.prefs.ordered_folder_ids,sectionType:t.prefs.section_type,teamId:"team"===t.prefs.section_type?t.prefs.team_id:null,orgId:r}}},n):null!=a&&tc.WB()?.optimisticallyCreate({FileBrowserSectionPreferences:{"optimistic-id":{userId:a,orderedFolderIds:t.prefs.ordered_folder_ids||null,sectionType:t.prefs.section_type,teamId:"team"===t.prefs.section_type?t.prefs.team_id:null,updatedAt:new Date,createdAt:new Date,orgId:r}}},n)}}),t_={USER_FOLDERS:"user_folders",USER_DRAFTS:"user_drafts",TEAM:"team"},tp="nav_section--folderSeparatorBefore--RgAUv";function tf(e,t,a){let{projects:r,sidebarData:n}=a,i=n?.fileBrowserSectionPreferences||[],o=[];for(let a of i)if("team"===a.sectionType){if("team"===e&&a.teamId===(t||null)){o=a.orderedFolderIds||[];break}}else e===a.sectionType&&(o=a.orderedFolderIds||[]);return r.sort((e,t)=>{let a=o.indexOf(e.id),r=o.indexOf(t.id);return a<r?-1:r<a?1:0}),r}function tg(e,t,a,r,n,i,o,l){let s=tv(r,a),c=e.sidebarData?.fileBrowserSectionPreferences?.filter(e=>e.sectionType===n&&("team"!==n||e.teamId===i?.id)),d=c&&c.length>0?c[0].id:void 0;s===n&&(n!==t_.TEAM||r.teamId===i?.id)?tE(e,t,n,i?.id,r.id,o,l,d):i&&th(e,t,r,n,i,o,l,d)}let tE=(e,t,a,r,n,i,o,l)=>{let s=tf(a,r,e).map(e=>e.id),c=(0,V.Pe)(s,n,i,o);c!==s&&t(tu({prefs:a===t_.TEAM?{id:l,section_type:a,team_id:r,ordered_folder_ids:c}:{id:l,section_type:a,ordered_folder_ids:c},userInitiated:!0}))},th=(e,t,a,r,n,i,o,l)=>{if(!n)return;t((0,J.Nr)({folder:a,team:n}));let s=tf(r,n.id,e).map(e=>e.id),c=null==i?-1:s.indexOf(i);return c<0?c=o?0:s.length:o||(c+=1),s.splice(c,0,a.id),t(tu({prefs:r===t_.TEAM?{id:l,section_type:r,team_id:n.id,ordered_folder_ids:s}:{id:l,section_type:r,ordered_folder_ids:s},userInitiated:!0})),!0},tv=(e,t)=>e.teamId&&e.teamId in t.roles.byTeamId?t_.TEAM:e.id===t.user?.drafts_folder_id?t_.USER_DRAFTS:t_.USER_FOLDERS;function ty(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),r=(0,eJ.FC)(),n=(0,e1.iZ)(),i=(0,eX.dq)(),o=(0,s.d4)(e=>e.renamingNavFolderWithId),[c,d]=l.useState(null),[m,u]=l.useState(!1),_=()=>{if(e.isEnterpriseSidenavEnabled&&a.data?.licenseGroupId&&a.data.licenseGroupId!==e.licenseGroup?.id)return!1;if(a.type===er.R.Folder){let t=a.data,i=tv(t,r);return!!(i===t_.USER_FOLDERS&&(0,ek.S$)(t,e.team,n))||!!i&&e.acceptDropsFrom.has(i)}return!1},p=e=>{a.type===er.R.Folder&&d(e)},f=e=>{u(e.upper)},g=e=>{d(t=>t===e?null:t)},E=n=>{tg(e,t,r,a.data,e.sectionType,e.team,n,m),d(null)},h=tf(e.sectionType,e.team?.id,e),v=(0,eq.D6)(i)?"nav_section--folderSeparatorOffCustomSections--Z4VcU nav_section--sectionTextCustomSections--Jz4II sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOff--auqlH nav_section--sectionText--oYnQA sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa",y=(0,eq.D6)(i)?"nav_section--folderSeparatorOnCustomSections--2EgRi nav_section--folderSeparatorOffCustomSections--Z4VcU nav_section--sectionTextCustomSections--Jz4II sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOn--CIaoN nav_section--folderSeparatorOff--auqlH nav_section--sectionText--oYnQA sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa";return l.createElement("div",{className:0===h.length?"nav_section--orderedFoldersEmpty--7AgI4 nav_section--orderedFolders--3ZY9c":"nav_section--orderedFolders--3ZY9c"},l.createElement("div",{className:tp},l.createElement("div",{className:e.showPrependIndicator||0===h.length&&e.showAppendIndicator?y:v})),h.length>0&&h.map(t=>l.createElement(H.Y,{key:t.id,isDragTarget:_,onTargetDragEnter:()=>p(t.id),onTargetDragQuadrantUpdate:f,onTargetDragLeave:()=>g(t.id),onTargetDrop:()=>E(t.id),style:{position:"relative"}},l.createElement("div",{className:tp},l.createElement("div",{className:c===t.id&&m?y:v})),l.createElement(eo,{key:`folder-${t.id}`,folder:t,team:e.team,disambiguationFolders:e.sectionType===t_.USER_FOLDERS?h:void 0,renamingNavFolderWithId:o,isSharedProject:e.sectionType===t_.USER_FOLDERS}))),l.createElement("div",{className:"nav_section--folderSeparatorAfter--V0NpT"},l.createElement("div",{className:e.showAppendIndicator&&h.length>0?y:v})))}function tb(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),r=(0,eJ.FC)(),n=(0,e1.iZ)(),[i,o]=l.useState(!1),[c,d]=l.useState(!1);return l.createElement(H.Y,{isDragTarget:()=>{if(e.isEnterpriseSidenavEnabled&&a.data?.licenseGroupId&&a.data.licenseGroupId!==e.licenseGroup?.id)return!1;if(a.type===er.R.Folder){let t=a.data,i=tv(t,r);return!!(i===t_.USER_FOLDERS&&(0,ek.S$)(t,e.team,n))||!!i&&e.acceptDropsFrom.has(i)}return!1},onTargetDragEnter:()=>{a.type===er.R.Folder&&o(!0)},onTargetDragQuadrantUpdate:e=>{d(e.upper)},onTargetDragLeave:()=>{o(!1)},onTargetDrop:()=>{a.type===er.R.Folder&&e.team&&tg(e,t,r,a.data,e.sectionType,e.team,null,c),o(!1)}},l.createElement("div",{className:"nav_section--section--CCwMs sidebar--section--COZVK"},e.sectionType===t_.USER_FOLDERS&&l.createElement(l.Fragment,null,l.createElement(ty,{showPrependIndicator:i&&c,showAppendIndicator:i&&!c,...e})),e.sectionType===t_.TEAM&&l.createElement(l.Fragment,null,l.createElement(tl,{team:e.team,projects:e.projects,onboardingKey:e.onboardingKey}),l.createElement(ty,{showPrependIndicator:i&&c,showAppendIndicator:i&&!c,...e}))))}function tw(e){let t=e.projectsByTeam[tb.USER_FOLDERS]||[];return l.createElement(tb,{sectionType:t_.USER_FOLDERS,team:null,projects:t,acceptDropsFrom:new Set([t_.USER_FOLDERS]),sidebarData:e.sidebarData})}function tT(e){let t=e.team.id,a=e.projectsByTeam[t]||[];return l.createElement(tb,{sectionType:t_.TEAM,acceptDropsFrom:new Set([t_.TEAM]),projects:a,onboardingKey:e.onboardingKey,team:e.team,sidebarData:e.sidebarData,licenseGroup:e.licenseGroup})}tb.USER_FOLDERS="USER_FOLDERS",tb.USER_DRAFTS="USER_DRAFTS";var tI=a(564780),tC=a(225868),tx=a(270056),tN=a(988022),tS=a(488983),tk=a(417908),tL=a(643067),tA=a(392340),tR=a(832568),tF=a(297666),tP=a(711525),tO=a(946689),tD=a(351275),tM=a(493323),tB=a(355819),tU=a(428322),tV=a(501114),tH=a(181912),tW=a(151109),tj=a(596607);let t$="seen_org_admin_moved_unassigned_drafts_onboarding",tG=(0,tH.A)("2024-10-15").startOf("day"),tY=(0,eh.r1)(t$);function tz(){let e=(0,ef.md)(tY),{show:t,isShowing:a,complete:r}=(0,eE.e)({overlay:ew.rv,priority:ev.N.DEFAULT_MODAL},[e]),n=(0,s.d4)(e=>(0,tj.xw)(e)),i=n?.created_at,o=!!i&&(0,tH.A)(i).isSameOrAfter(tG);return(0,u.h)(()=>{t({canShow:e=>!(e||o)})}),l.createElement(ey.rq,{clickOutsideToHide:!0,arrowPosition:eb.F_.LEFT_TITLE,isShowing:a,targetKey:tW.sm,trackingContextName:tW.o8,title:(0,k.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.title"),description:(0,k.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.body"),primaryCta:{label:(0,k.tx)("general.got_it"),type:"button",onClick:r,ctaTrackingDescriptor:eg.c.DONE},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:eg.c.LEARN_MORE},onClose:r,userFlagOnShow:t$,shouldCenterArrow:eb.EL.FALLBACK})}var tQ=a(647400),tK=a(309798),tq=a(984968),tZ=a(489291),tX=a(626296),tJ=a(397417),t0=a(444173),t1=a(51924);function t2(e){let t=(0,s.d4)(e=>e.teams),a=(0,s.d4)(e=>e.roles.byTeamId),r=(0,s.d4)(e=>e.user),n=(0,tK.f)("team_creation_speed_bump_dismissed"),i=(0,h.I7)("starter_team_loophole_experiment_m0"),o=(0,h.I7)("starter_team_loophole_experiment_m1");return l.createElement("div",{className:"new_team_link--createNewTeamLink--ESx5o","data-onboarding-key":tQ.CREATE_TEAM_ONBOARDING_KEY},l.createElement(t8,{currentOrgId:e.currentOrgId,onClick:()=>{if(e.currentOrgId)e.dispatch(eY.to({type:tX.Uc,data:{}}));else{let l=()=>{e.dispatch(q.Dw({}))};r?.id&&!n&&(0,tq.Ct)(r.id,Object.values(t),a)&&!(0,eM.e5)({userId:r.id,teams:Object.values(t),rolesByTeamId:a,getM0Config:i.getConfig,getM1Config:o.getConfig})?e.dispatch(eY.to({type:tJ.FK,data:{user:r,startTeamCreation:l,editorType:null}})):l()}},onMouseEnter:e.onMouseEnter,dimmed:e.disabled??!1,"data-tooltip-type":e.tooltipText?eR.Ib.TEXT:void 0,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,disabled:e.disabled},(0,k.tx)("sidebar.create_new_team")))}function t4(e){let t=(0,s.wA)();return l.createElement("div",{className:"new_team_link--teamsListEmptyState--jFJWC sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(j.B,{className:"new_team_link--icon--UYAD3 sidebar--icon--wMzUY",svg:t1.A}),l.createElement("div",{className:e.org&&(0,eq.D6)(e.org.id)?"new_team_link--teamsListEmptyStateContentCustomSections--gJW6m sidebar--sectionContentCustomSections--wI9mZ":"new_team_link--teamsListEmptyStateContent--80VyB sidebar--sectionContent--NHX7b"},(0,k.tx)("sidebar.your_teams_and_favorited_projects_will_appear_here"),e.org?.id&&!e.isOrgGuest&&l.createElement("a",{className:"new_team_link--blueLink--HG5xD blue_link--blueLink--9rlnd",onClick:()=>{e.org&&t(K.$T({view:"org",orgId:e.org.id,orgViewTab:tZ.X.HOME}))}},(0,k.tx)("sidebar.browse_org",{orgName:e.org.name}))))}let t8=(0,ez.tf)(function(e){let{currentOrgId:t,children:a,onClick:r,dimmed:n,disabled:i,...o}=e;return l.createElement("div",{className:i?"new_team_link--navLinkDisabled--nWmFJ new_team_link--_navLink--rQ9f- sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd":n?"new_team_link--navLinkDimmed--SNDWb new_team_link--_navLink--rQ9f- sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd":"new_team_link--navLink--wO1bP new_team_link--_navLink--rQ9f- sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:i?void 0:r,...o},l.createElement(Y.Z,{icon:l.createElement(j.B,{"data-onboarding-key":"new-team-icon",className:S.cx.colorIcon.$,svg:t0.A}),text:l.createElement(l.Fragment,null,a)}))});function t3(){let e=(0,s.wA)(),t=(0,ea.z3)();return l.createElement(Y.Z,{onClick:()=>{e(K.$T({view:"recentsAndSharing"})),e(K.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentsAndSharing"===t,icon:l.createElement(eD.In,{icon:"recent-16"}),text:l.createElement(L.E,{truncate:!0},(0,k.tx)("sidebar.recents"))})}var t5=a(54552),t9=a(931828),t6=a(6949),t7=a(837502),ae=a(397844),at=a(207286),aa=a(578585),ar=a(801387),an=a(753757),ai=a(698812),ao=a(227544),al=a(421234),as=a(860529),ac=a(186828),ad=a(155367),am=a(352898);function au(e){let t=(0,s.wA)(),a=e.orgUser.permission===e2._D.ADMIN,r=(0,ai.RG)(),n=(0,ai.MX)(),{groupsUserIsAdminOf:i}=(0,ai.EQ)(n,e.orgUser.user_id,!a),o=(0,at.Xf)(e.org.id),c="loaded"===o.status?o.data?.invoices??[]:void 0;l.useEffect(()=>{t(aa.Jt({forceRefetch:!1}))},[t,e.org.id]);let{groupsToReview:d}=(0,ai.Cz)(i,c),m=i[0]?.id,u=e.org.bigma_enabled&&r&&!!m,_=(0,ar.NJ)(e.org.id).data??[],p=e.org.bigma_enabled&&_.length>0,f=(0,al.of)(),g=(0,eN.ZY)({isIntendedAudience:e.org.bigma_enabled&&!a});if(!(a||u||p))return null;let E=function(e){switch(e.view){case"orgAdminSettings":case"billingGroupDashboard":return!0;case"licenseGroup":return e.subView===ac.GN.ADMIN;case"workspace":return e.subView===am.V0.ADMIN;default:return!1}}(e.selectedView),h=l.createElement(eS.Mn,{org:e.org,orgUser:e.orgUser,selectedView:e.selectedView,isSelected:E});return l.createElement(eB,{badge:h,onClick:()=>{let e=c&&(0,ao.hX)(c);if(a){let e=ad.J7.DASHBOARD;t(K.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),t(K.Oe({clickedResourceType:"orgAdminSettings"}))}else u?g?t(K.$T({view:"billingGroupDashboard",selectedTab:as.D.REQUESTS})):(t(K.$T({view:"licenseGroup",subView:ac.GN.ADMIN,licenseGroupId:e&&d.length>0?d[0].id:m,selectedTab:(0,an.g)(e&&d.length>0?ac.RM.MEMBERS:ac.Uu[0])})),t(K.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):p&&(t(K.$T({view:"workspace",subView:am.V0.ADMIN,workspaceId:_[0].id,selectedTab:f()})),t(K.Oe({clickedResourceType:"workspaceAdminSettings"})))},dataTestId:"admin-settings-link",dataOnboardingKey:tW.sm,isSelected:E})}function a_(e){let t=(0,s.d4)(e=>e.currentTeamId),a=(0,s.wA)();return t?l.createElement(Y.Z,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{a(q.dm(t)),a(K.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:l.createElement(eD.In,{icon:"grid-32"}),text:l.createElement(L.E,{truncate:!0},(0,k.tx)("sidebar.all_projects"))}):null}var ap=a(928491);function af(e){let t=(0,s.wA)(),a=(0,ea._6)(),r="workspace"===a.view&&a.workspaceId===e.workspace.id&&a.subView===am.V0.DIRECTORY;return l.createElement(Y.Z,{isSelected:r,onClick:()=>{t(K.$T({view:"workspace",workspaceId:e.workspace.id,selectedTab:am.dN.TEAMS,subView:am.V0.DIRECTORY})),t(K.Oe({clickedResourceType:"workspace",resourceIdOrKey:e.workspace.id}))},icon:l.createElement(ap.z6,{entity:e.workspace,size:16}),text:l.createElement(L.E,{truncate:!0},e.workspace.name),"data-onboarding-key":e.dataOnboardingKey})}var ag=a(723239);let aE="seen_sidebar_workspace_link_onboarding",ah="sidebar_workspace_link_onboarding";function av(){let e=(0,eh.r1)(aE),t=(0,ef.md)(e),a=(0,ef.md)(ag.Fy),{show:r,isShowing:n,complete:i}=(0,eE.e)({overlay:ew.Tp6,priority:ev.N.DEFAULT_MODAL},[t,a]);return(0,u.h)(()=>{r({canShow:(e,t)=>!e&&t})}),l.createElement(ey.rq,{isShowing:n,trackingContextName:"sidebar-workspace-link-onboarding",targetKey:ah,title:(0,k.tx)("sidebar.workspaces.onboarding_title"),description:(0,k.tx)("sidebar.workspaces.onboarding_description"),emphasized:!0,primaryCta:{label:(0,k.tx)("general.done"),ctaTrackingDescriptor:eg.c.DONE,type:"button",onClick:i},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/7576392133527-Guide-to-workspaces",ctaTrackingDescriptor:eg.c.LEARN_MORE},userFlagOnShow:aE,onClose:i,arrowPosition:eb.F_.LEFT_TITLE,clickOutsideToHide:!0,disableHighlight:!0})}var ay=a(119735),ab=a(556261),aw=a(56099);let aT="sidebar--section--COZVK",aI="sidebar--loading--AITp2",aC="sidebar--divider--sHsz4";function ax({userStateLoaded:e,sidebarData:t}){let a=(0,ab.mp)({component:"AssignedWorkspaceLink",migrationGroup:aw.L.GROUP_4}),r=(0,ay.J_)();if(!a||!r())return null;if(!e)return l.createElement("div",{className:aI},l.createElement(tM.kt,null));let n=t?.baseOrgUser?.permission===e2._D.GUEST,i=t?.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspace;return!i||n?null:l.createElement(l.Fragment,null,l.createElement(av,null),l.createElement(af,{workspace:i,dataOnboardingKey:ah}))}var aN=a(576996),aS=a(485858),ak=a(47506),aL=a(858212),aA=a(237870),aR=a(488578);let aF=(0,aA.Ju)(function(e){let t=(0,s.wA)(),a=l.createElement("span",{className:S.cx.fontBold.$},e.sectionName);return l.createElement(aR.Rw,{onConfirm:()=>{t(t5.de({sidebarSectionId:e.sectionId}))},confirmationTitle:(0,k.t)("sidebar.delete_section"),titleClass:"confirm_section_delete_modal--title--8Haoy text--fontPos11--2LvXf text--_fontBase--QdLsd",confirmText:(0,k.t)("sidebar.delete"),destructive:!0,autoFocusCta:!1},l.createElement("p",{className:"confirm_section_delete_modal--content--BToo-"},(0,k.tx)("sidebar.if_you_delete_section_the_section",{item:e.count>1?(0,k.t)("sidebar.items"):(0,k.t)("sidebar.item"),section:a,count:e.count,pronoun:e.count>1?(0,k.t)("sidebar.them"):(0,k.t)("sidebar.it")})))},"CONFIRM_SECTION_DELETE_MODAL",aA.ZU.YES);var aP=a(728587);let aO="custom-section-header-context-menu";function aD(){let e=(0,s.d4)(e=>e.dropdownShown);return e&&e?.type===aO?e:null}function aM(e){let t=(0,s.wA)(),a=aD();if(null==a)return l.createElement(l.Fragment,null);let r=()=>{0===a.data.favoritesCount?t(t5.de({sidebarSectionId:a.data.customSection.id})):t((0,eY.to)({type:aF,data:{sectionId:a.data.customSection.id,sectionName:a.data.customSection.name,count:a.data.favoritesCount}}))},n=()=>{e.setRenamingSectionId(a.data.customSection.id)},i=[{displayText:(0,k.t)("sidebar.rename_section"),callback:()=>n()},{displayText:(0,k.t)("sidebar.delete_section"),callback:()=>r()}];return l.createElement(aP.j,{depth:0,items:i,lean:"right",leanPadding:0,dispatch:t,minWidth:162,parentRect:a.data.targetRect,onSelectItem:(e,a)=>{e.callback&&e.callback("",null,t)},showPoint:!a.data.isFromRightClick,hidePointWhenContentOffScreen:!0})}let aB="favorited_section--emojiIcon--pDnB-",aU="favorited_section--favoriteStar--2R5nb",aV="favorited_section--isDragTarget--dQd5-",aH="favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",aW="favorited_section--previewContainerNoDelay--buvES favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",aj="favorited_section--favoriteClickTarget--Z9eur",a$="favorited_section--thumbnailContainer--C4PE-",aG="favorited_section--lowerContainer--9gDfQ",aY="favorited_section--lowerPartTitles--44fhW",az="favorited_section--title--bWf4x ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",aQ="favorited_section--editorTypeIndicator--OmyvY",aK="favorited_section--svgContainer--vwRae",aq="favorited_section--icon--E7nFx";function aZ(e){let t=(0,s.wA)(),a=(0,s.d4)(tL.wA);if(!a)return null;let r=l.createElement("span",{role:"link",tabIndex:0,onClick:()=>{t(K.$T({view:"org",orgId:a.id,orgViewTab:tZ.X.HOME}))},className:"favorited_section--browseOrgLink--BvX0-"},(0,k.tx)("sidebar.browse_org_custom_sections"));return l.createElement("div",{className:"favorited_section--customSectionsEmptyStateContent--Z6jKH"},(0,k.tx)("sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"),r)}function aX(e){return l.createElement("div",{className:"favorited_section--customSectionsEmptyState--JcvfB favorited_section--customSectionsEmptyStateContent--Z6jKH"},l.createElement(aZ,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}))}var aJ=a(722138),a0=a(392592),a1=a(786013),a2=a(823810),a4=a(391388),a8=a(286098),a3=a(970516),a5=a(944682),a9=a(889399),a6=a(782656),a7=a(128751),re=a(355513),rt=a(67085),ra=a(477782),rr=a(499743),rn=a(132135),ri=a(892542),ro=a(623746),rl=a(540019),rs=a(451e3),rc=a(851363),rd=a(378356),rm=a(692356),ru=a(714728),r_=(e=>(e.FAVORITED_PROTOTYPE_CONTEXT_MENU="favorited-prototype-context-menu",e.FAVORITED_FILE_CONTEXT_MENU="favorited-file-context-menu",e.FAVORITED_PROJECT_CONTEXT_MENU="favorited-project-context-menu",e.FAVORITED_TEAM_CONTEXT_MENU="favorited-team-context-menu",e.FAVORITED_WORKSPACE_CONTEXT_MENU="favorited-workspace-context-menu",e))(r_||{});let rp="sidebar context menu";function rf(e,t,a,r){if(t.stopPropagation(),t.preventDefault(),"file"in e&&e.file){let t=e.file;a(a5.yJ({file:{key:t.key,team_id:t.teamId,file_repo_id:t.fileRepoId,folder_id:t.folderId}}));let r=(0,a8.QJ)(e);r&&a(a6.bE({repo:r}))}a(K.j7({type:r,data:{resource:{...e},targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}}))}let rg=(e,t,a,r={})=>e?[{displayText:t?t():"",callback:a,...r}]:[],rE=[{displayText:"",separator:!0}];function rh({dropdownShown:e}){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.selectedView),r=(0,s.d4)(e=>e.user?.personal_drafts_folder_id),n=(0,rr.p)(),i=(0,p.kc)().ps_benchmark,o="favorited-project-context-menu"===e.type?e.data.resource.project?.id:e.data.resource?.file?.folderId,m=e.data.resource,u=i&&!!r&&m?.file?.folderId===r,_=(a1.C7b.CAN_VIEW===a1.C7b.CAN_VIEW?function(e){let t=(0,eJ.FC)();return(0,l.useMemo)(()=>a4.Qw.loaded((0,eL.canViewFolder_DEPRECATED)(e,t)),[e,t])}(o):a4.Qw.loaded(!1)).unwrapOr(!1),f=!u&&_,g="favorited-prototype-context-menu"===e.type,E=(0,a2.As)(m?.file?.key??""),h=l.useMemo(()=>"favorited-file-context-menu"===e.type&&!!E.unwrapOr(null)?.canDelete,[e.type,E]),v=[...rg(!0,()=>(0,k.t)("tile.dropdown.open"),()=>{(0,aJ.DF)("open"),"favorited-file-context-menu"===e.type?((0,aJ.LP)(m.file.key,e2.bk.FILE,m.sidebarSectionId,rp,m.file.editorType),(0,re.Tq)(t,{key:m.file.key,editor_type:m.file.editorType})):"favorited-prototype-context-menu"===e.type?((0,aJ.LP)(m.prototype.fileKey,e2.bk.PROTOTYPE,m.sidebarSectionId,rp,"design"),(0,eq.FS)(t,m)):"favorited-project-context-menu"===e.type&&(t(q.kg({clickedResourceType:"folder",resourceIdOrKey:m.project.id})),(0,re.U8)(m.project.id,t))}),...rg(!d.eD&&!(0,c.ce)(),()=>(0,k.t)("tile.dropdown.open_new_tab"),()=>{if("favorited-file-context-menu"===e.type)(0,re.nz)((0,rn.jN)({...m,allowDefaulting:!0}),m.file.key,a,t),(0,aJ.LP)(m.file.key,e2.bk.FILE,m.sidebarSectionId,rp,m.file.editorType),(0,aJ.DF)("open_in_new_tab");else if("favorited-prototype-context-menu"===e.type){let e=m.prototype.url;(0,re.D4)(e,m.prototype.fileKey,m.prototype.file.pageId,a),(0,aJ.LP)(m.prototype.fileKey,e2.bk.PROTOTYPE,m.sidebarSectionId,rp,"design"),(0,aJ.DF)("open_in_new_tab")}else"favorited-project-context-menu"===e.type&&(t(q.kg({clickedResourceType:"folder",resourceIdOrKey:m.project.id})),(0,re.Wq)((0,rs.EE)(m.project.id,m.project.org_id??null),t),(0,aJ.LP)(m.project.id,e2.bk.FOLDER,m.sidebarSectionId,rp,"design"))}),...rE,...rg(!0,()=>(0,k.t)("tile.dropdown.copy_link"),()=>{(0,aJ.DF)("copy_link"),"favorited-file-context-menu"===e.type?t(a5.S({fileKey:m.file.key,url:(0,rn.jN)({file:m.file,attributionContext:(0,ri.b)(n,ri.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:ri.d.FAVORITED_FILE_CONTEXT_MENU})):"favorited-prototype-context-menu"===e.type?t(a3.S({url:m.prototype.url})):"favorited-project-context-menu"===e.type&&t(a3.S({url:(0,rs.EE)(m.project.id,m.project.org_id??null)}))}),...rg(!g&&!u,()=>(0,k.t)("sidebar.share"),()=>{(0,aJ.DF)("share"),"favorited-file-context-menu"===e.type?t((0,eY.to)({type:rm.g_,data:{fileKey:m.file.key,source:rt.nk.fileBrowserFavoritedContextMenu}})):"favorited-project-context-menu"===e.type&&t((0,eY.to)({type:ru.W,data:{folderId:m.project.id}}))}),...rg(f,()=>(0,k.t)("tile.dropdown.show_in_project"),()=>{if((0,aJ.DF)("show_in_project"),"favorited-file-context-menu"===e.type&&e.data.resource.file?.folderId!=null){if(t(K.$T({view:"folder",folderId:e.data.resource.file.folderId})),t(a7.an()),e.data.resource.file.repo){let a=(0,a8.QJ)(e.data.resource);null!=a&&t(a7.y$({type:rd.F.REPOS,tiles:[{type:ra.nb.REPO,repo:a,branches:[],selectedBranchKey:""}]}))}else t(a7.y$({type:rd.F.FILES,tiles:[{type:ra.nb.FILE,file:e.data.resource.file}]}))}},{disabled:!f}),...rE,...rg(!g,()=>(0,k.t)("tile.favoriting.remove_from_favorites"),()=>{"favorited-prototype-context-menu"===e.type&&m.prototype?t(t5.X7({prototype:{file_key:m.prototype.fileKey,page_id:m.prototype.pageId},entrypoint:"sidebar",favoriteId:m.id})):"favorited-file-context-menu"===e.type&&m.file?t(t5.qP({file:{key:m.file.key,editor_type:m.file.editorType.toString()??void 0},entrypoint:"sidebar",favoriteId:m.id})):"favorited-project-context-menu"===e.type&&m.project&&t(tx.ZJ({folderId:m.resourceId,folderName:m.project.path,teamId:m.project.teamId,isSubscribed:!1}))}),...rE,...rg(!g&&!u,()=>(0,k.t)("sidebar.delete"),()=>{if((0,aJ.DF)("delete"),"favorited-file-context-menu"===e.type){let e=E.unwrapOr(null)?.canDelete?{[m.file.key]:m.file}:{};t(a9.U1({filesByKey:e}))}},{disabled:!h})];return l.createElement(aP.j,{items:v,parentRect:e.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function rv(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.selectedView),r=(0,rr.p)(),n=e.favoritedFile.file,i=rl.M4.useFile(n?.key).data,o=n?.project?.canView,m=(0,s.d4)(e=>e.dropdownShown);if(null==m||null==n)return null;let u="favorited-file-context-menu"===m.type,_=[...rg(!0,()=>(0,k.t)("tile.dropdown.open"),()=>{(0,aJ.DF)("open"),(0,aJ.LP)(n.key,e2.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,rp,n.editorType??void 0),(0,re.Tq)(t,{key:n.key,editor_type:n.editorType})}),...rg(!d.eD&&!(0,c.ce)(),()=>(0,k.t)("tile.dropdown.open_new_tab"),()=>{(0,re.nz)((0,rn.jN)({file:n,allowDefaulting:!0}),n.key,a,t),(0,aJ.LP)(n.key,e2.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,rp,n.editorType),(0,aJ.DF)("open_in_new_tab")}),...rE,...e.organizeFavoriteOptions,...rE,...rg(!0,()=>(0,k.t)("file_browser.copy_link"),()=>{t(a5.S({fileKey:n.key,url:(0,rn.jN)({file:n,attributionContext:(0,ri.b)(r,ri.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:ri.d.FAVORITED_FILE_CONTEXT_MENU})),t(K.oB())}),...rg(!0,()=>(0,k.t)("sidebar.share"),()=>{(0,aJ.DF)("share"),t((0,eY.to)({type:rm.g_,data:{fileKey:n.key,source:rt.nk.fileBrowserFavoritedContextMenu}}))}),...rg(!0,()=>(0,k.t)("tile.dropdown.show_in_project"),()=>{if((0,aJ.DF)("show_in_project"),t(K.$T({view:"folder",folderId:e.folderId})),t(a7.an()),n.fileRepoId){let a=(0,a8.QJ)(e.favoritedFile);null!=a&&t(a7.y$({type:rd.F.REPOS,tiles:[{type:ra.nb.REPO,repo:a,branches:[],selectedBranchKey:""}]}))}else{if(!i)return;t(a7.y$({type:rd.F.FILES,tiles:[{type:ra.nb.FILE,file:i}]}))}},{disabled:!(u&&o)})];return l.createElement(aP.j,{items:_,parentRect:m.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function ry(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...rE,...rg(!0,()=>(0,k.t)("file_browser.copy_link_to_team"),()=>{let a=(0,rc.bL)(e.teamId,e.orgId);t(a3.S({url:a})),t(K.oB())})];return l.createElement(aP.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function rb(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...rE,...rg(null!==e.orgId,()=>(0,k.t)("file_browser.copy_link_to_workspace"),()=>{if(null!==e.orgId){let a=(0,al.fO)(e.workspaceId,e.orgId);t(a3.S({url:a}))}t(K.oB())})];return l.createElement(aP.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function rw(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...rE,...rg(!0,()=>(0,k.t)("file_browser.copy_link_to_project"),()=>{let a=(0,rs.EE)(e.projectId,e.orgId);t(a3.S({url:a})),t(K.oB())})];return l.createElement(aP.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function rT(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...rE,...rg(!0,()=>(0,k.t)("file_browser.copy_link"),()=>{let a=(0,ro._3)(e.prototype.fileKey,e.prototype.file?.name,e.prototype.pageId);t(a3.S({url:a})),t(K.oB())})];return l.createElement(aP.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}var rI=a(597192),rC=a(575675);function rx(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,s.d4)(e=>e.currentTeamId),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=e.favorite.team,o=(0,eJ.FC)(),c=(0,s.d4)(e=>e.dropdownShown),d=(0,s.d4)(e=>e.avatarEditorState),u=l.useMemo(()=>c&&c.type===r_.FAVORITED_TEAM_CONTEXT_MENU&&c.data.teamId===i?.id,[c,i?.id]),_=l.useCallback((e,a)=>{(0,aJ.LP)(a.team?.id,e2.bk.TEAM,a.sidebarSectionId??void 0,aJ.vg);let r=(0,rc.bL)(a.resourceId,a.orgId);(0,P.oJ)(e)?(m.Ay.redirect(r,"_blank"),e.stopPropagation()):(t(q.dm(a.resourceId)),e.preventDefault())},[t]),p=l.useCallback(e=>{if(!i)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(K.j7({type:r_.FAVORITED_TEAM_CONTEXT_MENU,data:{teamId:i.id,targetRect:a}}))},[t,i]);if(!a||null===i)return l.createElement(l.Fragment,null);let f=(0,eL.canAdminTeam)(i.id,o),g=(0,rI.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e2.bk.TEAM,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{let n={entrypoint:"sidebar",sectionId:r,team:{id:i.id},favoriteId:e.favorite.id,resourceType:e2.bk.TEAM};a?t(t5.V1(n)):t(t5.ox(n))}});return l.createElement(l.Fragment,null,l.createElement(Y.Z,{isSelected:e.isSelected,rowClassName:aj,onClick:t=>_(t,e.favorite),showGrabber:e.showGrabber,onContextMenu:p,icon:i.imgUrl?l.createElement("div",{className:S.cx.colorIcon.$},l.createElement(ed.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:ed.Pf.SMALL,fallbackSize:ed.Pf.SMALL},fallbackDisplay:em.U.HIDDEN,team:{...i,imgUrl:i.imgUrl},fallbackSvg:rC.A})):l.createElement(eD.In,{icon:"team-16"}),text:l.createElement(L.E,{truncate:!0},i.name)}),u&&l.createElement(ry,{teamId:i.id,orgId:i.orgId,organizeFavoriteOptions:g}),f&&l.createElement("span",{className:"favorited_section--hiddenEditableAvatar--MuzYX"},l.createElement(te.ER,{entity:{...i,imgUrl:i.imgUrl||void 0},entityType:e9.ck.TEAM,avatarEditorState:d,size:14,dispatch:t})))}var rN=a(62342),rS=a(331737),rk=a(538464),rL=a(487342),rA=a(112235),rR=a(738754);function rF(e){switch(e.iconType){case rN.y1.DESIGN:case rN.y1.DESIGN_AND_DEV_MODE:case rN.y1.SLIDES:case rN.y1.SLIDES_TEMPLATE:return l.createElement(rN.oS,{type:e.iconType,size:rN.LE.SMALL});case rN.y1.SITES:return l.createElement(eD.In,{icon:"file-design-16-file-type"});case rN.y1.WHITEBOARD:return l.createElement(eD.In,{icon:"file-figjam-16-file-type"});case rN.y1.DEV_MODE:case rN.y1.DEV_MODE_SELECTED:case rN.y1.PROTOTYPE:case rN.y1.PUBLISHED:return l.createElement(rN.oS,{type:e.iconType,size:rN.LE.SMALL});case rN.y1.TEMPLATE:return l.createElement(eD.In,{icon:"file-team-template-16-file-type"});case rN.y1.REPO:return l.createElement(eD.In,{icon:"file-design-branch-16-file-type"});case rN.y1.COOPER:return l.createElement(rR.w,{inverted:!0});default:(0,x.xb)(e.iconType)}}let rP=e=>l.createElement("div",{className:aB},e);function rO(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,s.d4)(e=>e.currentTeamId),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=(0,s.d4)(e=>e.dropdownShown),o=e.favorite.file,c=rl.M4.useFile(o?.key).data,d=(0,rA.N)(),u=null!==a,_=(0,p.kc)().ps_benchmark&&r,f=l.useMemo(()=>i&&i.type===r_.FAVORITED_FILE_CONTEXT_MENU&&i.data.fileKey===o?.key,[i,o]),g=l.useMemo(()=>i&&i.type===aO,[i]),E=l.useCallback(e=>{if(!o)return;c||t(a5.yJ({file:{key:o.key,team_id:o.teamId,file_repo_id:o.fileRepoId,folder_id:o.folderId}})),e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(K.j7({type:r_.FAVORITED_FILE_CONTEXT_MENU,data:{fileKey:o.key,targetRect:a}}))},[t,o,c]);if(null===o)return l.createElement(l.Fragment,null);let h=(0,rn.jN)({file:o,allowDefaulting:!0}),v=(e,a)=>{(0,aJ.LP)(a.file?.key,e2.bk.FILE,a.sidebarSectionId??void 0,aJ.vg,a.file?.editorType??void 0),(0,P.oJ)(e)?(t(q.UN({fileKey:a.file?.key??"",entrypoint:aJ.vg})),e.stopPropagation()):e.preventDefault(),a.file&&(m.Ay.redirect(h,"_blank"),t(q.UN({fileKey:a.file.key,entrypoint:aJ.vg})))},y=()=>{null!==o&&t(t5.qP({file:{key:o.key,editor_type:o.editorType??e2._Y.DESIGN},repoId:o.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id}))},b=(0,rI.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e2.bk.FILE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{if(a&&c){let a={entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id,resourceType:e2.bk.FILE};t(t5.V1(a))}else a||null===o||y()}}),w=o?.name,T=(0,rL.AE)(w),I=e.favorite.file?d(e.favorite.file):rN.y1.DESIGN,C=T?rP(T):l.createElement(rF,{iconType:I}),x=T?(0,rL.Nn)(w,T):w,N=e.favorite.file?.project?.path,S=(0,ee.S)(N),A=S?az:"favorited_section--titleWithoutSubtitle--BXdOW ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd";return l.createElement(l.Fragment,null,l.createElement(Y.Z,{isSelected:e.isSelected,rowClassName:aj,showGrabber:e.showGrabber,onContextMenu:u||_?E:a=>{rf(e.favorite,a,t,r_.FAVORITED_FILE_CONTEXT_MENU)},onClick:t=>v(t,e.favorite),icon:C,text:""!==x?l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!1},x):l.createElement(L.E,{truncate:!0},(0,k.tx)(e.favorite.file?.editorType==="whiteboard"?"sidebar.fig_jam_file":e.favorite.file?.editorType==="slides"?"sidebar.slides_file":"sidebar.design_file")),badge:e.isHover&&!(u||_)?l.createElement("div",{className:aU},l.createElement(rk.r,{favoriteType:e2.bk.FILE,resourceId:e.favorite.resourceId,size:rk.m.MEDIUM,setFavorite:y,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!f&&!g&&l.createElement("div",{className:e.showPreviewDelay?aH:aW,style:{transform:`translateY(${-e.previewYOffset}px)`}},l.createElement("div",{className:a$},l.createElement(rS.NM,{file:o,noBorder:!0})),l.createElement("div",{className:aG},l.createElement(rN.oS,{svgOptions:{id:"sidebar-thumbnail"},className:aQ,type:I}),l.createElement("div",{className:aY},l.createElement("div",{className:A},e.favorite.file?.name),S&&l.createElement("div",{className:"favorited_section--subtitle--sQ1zI ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},S)))),(u||_)&&f&&o?.folderId&&l.createElement(rv,{favoritedFile:e.favorite,folderId:o.folderId,organizeFavoriteOptions:b}))}var rD=a(619942);let rM=e=>l.createElement("div",{className:aB},e);function rB(e){let t=(0,s.wA)(),a=e.favorite.project,r=(0,s.d4)(e=>e.currentTeamId),n=(0,s.d4)(e=>e.currentUserOrgId),i=(0,s.d4)(e=>e.favorites.collapsedCustomSections),o=(0,aL.S)(),c=(0,s.d4)(e=>e.dropdownShown),d=l.useMemo(()=>c&&c.type===r_.FAVORITED_PROJECT_CONTEXT_MENU&&c.data.projectId===a?.id,[c,a]),m=l.useCallback(e=>{if(!a)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(K.j7({type:r_.FAVORITED_PROJECT_CONTEXT_MENU,data:{projectId:a.id,targetRect:r}}))},[t,a]),u=(0,rD.E)(),_=l.useCallback((e,a)=>{(0,aJ.LP)(a.project?.id,e2.bk.FOLDER,a.sidebarSectionId??void 0,aJ.vg),(0,p.kc)().enable_open_projects_in_new_tab?u(a.resourceId,e):t(q.gN(a.resourceId))},[u,t]);if(!o||null==a)return null;let f=(0,rI.o)({dispatch:t,currentOrgId:n,currentTeamId:r,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e2.bk.FOLDER,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,n)=>{let i={entrypoint:"sidebar",sectionId:n,folder:a,favoriteId:e.favorite.id};r?t(t5.Mv(i)):t(t5.jv(i))}}),g=(0,rL.AE)(a.path),E=g?(0,rL.Nn)(a.path,g):a.path;return l.createElement(l.Fragment,null,l.createElement(Y.Z,{rowClassName:aj,onContextMenu:m,isSelected:e.isSelected,onClick:t=>_(t,e.favorite),icon:g?l.createElement("div",null,rM(g)):l.createElement(eD.In,{icon:"folder-16"}),showGrabber:e.showGrabber,text:l.createElement(L.E,{truncate:!0},E),isFavoritesToMove:e.isFavoritesToMove}),d&&l.createElement(rw,{projectId:a.id,orgId:a.orgId,organizeFavoriteOptions:f}))}var rU=a(261902),rV=a(320733),rH=a(869381);function rW({thumbnailUrl:e,isLocked:t,...a}){return t?l.createElement(rU.N,{thumbnailType:rH.F.PROTOTYPE,...a}):l.createElement(rV.V,{thumbnailUrl:e,thumbnailType:rH.F.PROTOTYPE,...a})}let rj=l.createElement(rN.oS,{type:rN.y1.PROTOTYPE,size:rN.LE.SMALL});function r$(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentTeamId),r=(0,s.d4)(e=>e.currentUserOrgId),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=(0,s.d4)(e=>e.dropdownShown),o=l.useMemo(()=>i&&i.type===r_.FAVORITED_PROTOTYPE_CONTEXT_MENU&&i.data.resource.prototype.id===e.favorite.prototype?.id,[i,e.favorite.prototype]),c=l.useMemo(()=>i&&i.type===aO,[i]),d=(0,aL.S)();if(null===e.favorite.prototype)return l.createElement(l.Fragment,null);let u=(0,ro._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId),_=(e,t)=>{if((0,aJ.LP)(t.prototype?.fileKey,e2.bk.PROTOTYPE,t.sidebarSectionId??void 0,aJ.vg),(0,P.oJ)(e)){e.stopPropagation();return}e.preventDefault(),m.Ay.redirect(u,"_blank")},p=(a,r)=>{a||null===e.favorite.prototype||t(t5.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:r}))},f=(0,rI.o)({dispatch:t,currentOrgId:r,currentTeamId:a,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e2.bk.PROTOTYPE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{if(a){let a={entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id,resourceType:e2.bk.PROTOTYPE};t(t5.V1(a))}else p(!1,e.favorite.id)}});return l.createElement(l.Fragment,null,l.createElement(Y.Z,{isSelected:e.isSelected,rowClassName:aj,onContextMenu:a=>{rf(e.favorite,a,t,r_.FAVORITED_PROTOTYPE_CONTEXT_MENU)},showGrabber:e.showGrabber,onClick:t=>_(t,e.favorite),icon:rj,text:l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!1},e.favorite.prototype.file?.name),badge:e.isHover&&!d?l.createElement("div",{className:aU},l.createElement(rk.r,{favoriteType:e2.bk.PROTOTYPE,resourceId:e.favorite.resourceId,size:rk.m.MEDIUM,setFavorite:p,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!o&&!c&&l.createElement("div",{className:e.showPreviewDelay?aH:aW,style:{transform:`translateY(${-e.previewYOffset}px)`}},l.createElement("div",{className:a$},l.createElement(rW,{isLocked:!!e.favorite.prototype.file?.hasProtoLinkPassword&&e.favorite.prototype.file?.hasProtoLinkPassword,thumbnailUrl:e.favorite.prototype.thumbnailUrl,noBorder:!0})),l.createElement("div",{className:aG},l.createElement(rN.oS,{type:rN.y1.PROTOTYPE,className:aQ}),l.createElement("div",{className:aY},l.createElement("div",{className:az},e.favorite.prototype.file?.name)))),d&&o&&e.favorite.prototype&&l.createElement(rT,{prototype:e.favorite.prototype,organizeFavoriteOptions:f}))}var rG=a(9821);function rY(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,s.d4)(e=>e.currentTeamId),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=(0,s.d4)(e=>e.dropdownShown),o=e.favorite.workspace,c=l.useMemo(()=>i&&i.type===r_.FAVORITED_WORKSPACE_CONTEXT_MENU&&i.data.workspaceId===o?.id,[i,o?.id]),d=l.useCallback((e,a)=>{let r=a.workspace;(0,aJ.LP)(r?.id,e2.bk.WORKSPACE,a.sidebarSectionId??void 0,aJ.vg),r&&t(K.$T({view:"workspace",subView:am.V0.DIRECTORY,workspaceId:r.id,selectedTab:am.dN.TEAMS}))},[t]),m=l.useCallback(e=>{if(!o)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(K.j7({type:r_.FAVORITED_WORKSPACE_CONTEXT_MENU,data:{workspaceId:o.id,targetRect:a}}))},[t,o]);if(!a||null===o)return l.createElement(l.Fragment,null);let u=(0,rI.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e2.bk.WORKSPACE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{let n={workspace:{id:o.id,name:o.name??"",imgUrl:e.favorite.workspace?.imgUrl??null},entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id};a?t(t5.ZW(n)):t(t5.if(n))}}),_=e.favorite.workspace?l.createElement(ap.z6,{entity:e.favorite.workspace,size:16}):l.createElement(j.B,{svg:rG.A,className:S.cx.colorIcon.$});return l.createElement(l.Fragment,null,l.createElement(Y.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,rowClassName:aj,onClick:t=>d(t,e.favorite),onContextMenu:m,icon:_,text:l.createElement(L.E,{truncate:!0}," ",o.name)}),c&&l.createElement(rb,{workspaceId:o.id,orgId:e.favorite.orgId,organizeFavoriteOptions:u}))}var rz=a(408409);let rQ=(e,t)=>{let a=e.cloneNode(!0),r=document.createElement("div");return r.className="favorited_generic_row--favorite--vFcy4 favorited_generic_row--_favorite--jiaJX sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(r.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),t&&(a.classList.add(t),a.classList.add(S.cx.colorText.$)),r.appendChild(a),document.body.appendChild(r),r};function rK(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),[r,n]=l.useState(!1),i=e.favorite.resourceType,o=(0,ea._6)(),[c,d]=l.useState(!1),m=e.rearrangeDragState?.draggedOverFavoriteId===e.favorite.resource.id&&!c,[u,_]=l.useState(!1),p=l.useRef(null),f=(0,aL.S)(),g=r&&!f,E=e.isSelected||(()=>{switch(i){case e2.bk.FOLDER:return"folder"===o.view&&o.folderId===e.favorite.resource.resourceId;case e2.bk.TEAM:return"team"===o.view&&o.teamId===e.favorite.resource.resourceId;case e2.bk.WORKSPACE:return"workspace"===o.view&&o.subView===am.V0.DIRECTORY&&o.workspaceId===e.favorite.resource.resourceId;default:return!1}})();return l.createElement("div",{className:m?e.rearrangeDragState?.dropBefore?"favorited_generic_row--dropBefore--xZvBN sidebar--dropBefore--wZDYO":e.rearrangeDragState?.dropInto?"favorited_generic_row--dropInto--VKuX5":"favorited_generic_row--dropAfter--a64Ax sidebar--dropAfter--JEX7d":void 0},l.createElement(H.Y,{key:e.favorite.resource.resourceId,isDragTarget:e=>{let t=new X.le(e);return d(t.isFile()),a.type!==er.R.SidebarSection&&!t.isFile()},onTargetDragEnter:(t,r)=>{let n=new X.le(t),i=!1;(a.type===er.R.Favorite||n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())&&((n.isFigFiles()||n.isRepos()||n.isTiles())&&(i=e.favorite.resourceType===e2.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:i?r.upperQuarter:r.upper,dropInto:i&&r.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),_(i))},onTargetDragLeave:t=>{let r=new X.le(t);(a.type===er.R.Favorite||r.isFigFiles()||r.isRepos()||r.isPrototypes()||r.isTiles()&&m)&&(e.clearRearrangeDragState(e.favorite.resource.id),_(!1))},onTargetDrop:r=>{let n=new X.le(r);if(e.rearrangeDragState?.dropInto&&e.favorite.resourceType===e2.bk.FOLDER&&e.favorite.resource.project)(0,rz.A)(t,e.favorite.resource.project,e.favorite.resource.project.team,n),t(Q.T());else if(n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())e.onSetResourceFavoriteDragDrop(r);else if(a.type===er.R.Favorite&&m){let r=a.data;e.reorderOrInsertFavorite(r.resource.id,r.resourceType),t(Q.T())}e.clearRearrangeDragState(e.favorite.resource.id),_(!1)},onTargetDragQuadrantUpdate:t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:u?t.upperQuarter:t.upper,dropInto:u&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},draggable:!1},l.createElement("div",{onMouseEnter:()=>{e.preventHoverStyle||n(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),n(!1)},onDragStart:a=>{a.dataTransfer.effectAllowed="move";let r=new X.le(a.dataTransfer);r.setArbitraryData(e.favorite.resource.id);let n=a.currentTarget.firstElementChild;if(null===n)return;let i=n.getBoundingClientRect(),o=a.clientX-i.left,l=a.clientY-i.top;p.current=rQ(n,"favorited_generic_row--draggable--QinZd"),r.setDragImage(p.current,o,l),t(Q.v({type:er.R.Favorite,data:e.favorite}))},onDragEnd:a=>{p.current&&p.current.remove(),t(Q.T()),e.clearRearrangeDragState(e.favorite.resource.id),_(!1)},draggable:!e.isFavoritesToMove},(()=>{switch(i){case e2.bk.FILE:return l.createElement(rO,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case e2.bk.PROTOTYPE:return l.createElement(r$,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case e2.bk.FOLDER:return l.createElement(rB,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case e2.bk.TEAM:return l.createElement(rx,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});case e2.bk.WORKSPACE:return l.createElement(rY,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});default:(0,x.xb)(i)}})())))}var rq=a(949207),rZ=a(432023),rX=a(604771),rJ=a(501191);function r0(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentTeamId),r=function(){let e=(0,s.d4)(e=>e.dropdownShown),t=(0,s.d4)(e=>e.currentUserOrgId),a=(0,s.d4)(e=>e.currentTeamId),r=(0,p.kc)().ps_benchmark&&a;return!e||e?.type!=="favorited-file-context-menu"&&e?.type!=="favorited-prototype-context-menu"||t||r?null:e}(),n=(0,eX.sZ)(),i=n?.id??null,o=(0,eq.sb)(e.favorites,e.order),c=(0,ea._6)(),[d,m]=l.useState(!1),u=(0,s.d4)(e=>e.favorites.movingResource),f=(0,aL.S)(),g=(0,s.d4)(e=>e.favorites.collapsedCustomSections),E=f&&e.section?!g.has(e.section?.id):!g.has("favorited"),[h,v]=l.useState(!1),[y,b]=l.useState(),[w,T]=l.useState(),I=(0,s.d4)(e=>e.dragState),C=(0,_.ZC)(I);l.useEffect(()=>{I.type===er.R.None&&C&&C.type!==er.R.None&&T(void 0)},[I,C]),l.useEffect(()=>{!e.isCurrentHoveredSection&&I.type===er.R.SidebarSection&&w&&T(void 0)},[e.isCurrentHoveredSection,w,I]);let[x,N]=l.useState(void 0),[L,A]=l.useState(!0),R=l.useRef(null),F=aD();l.useEffect(()=>{x===w?.draggedOverFavoriteId&&T(void 0),N(void 0)},[w,T,x,N]);let P=l.useCallback(a=>{e.section?.id&&(a.dataTransfer.effectAllowed="move",new X.le(a.dataTransfer).setArbitraryData(e.section.id),t(Q.v({type:er.R.SidebarSection,data:e.section.id})))},[t,e.section]),O=l.useCallback(()=>{(0,aJ.xs)(!E);let a=new Set(g);f&&e.section?(ae.Fp({type:"topLevel",id:"custom",orgId:i,sectionId:e.section?.id},!E),E?a.add(e.section.id):a.delete(e.section.id)):(ae.Fp({type:"topLevel",id:"favorited",orgId:i},!E),E?a.add("favorited"):a.delete("favorited")),t(t5.U6({collapsedCustomSections:a}))},[E,i,e.section,g,f,t]),D=(a,r)=>{let n;let i=o.map(e=>e.resource.id);if(!w?.draggedOverFavoriteId)return i;let l=-1!==i.indexOf(a);if(l)n=(0,V.Pe)(i,a,w.draggedOverFavoriteId,w.dropBefore);else{let e=i.indexOf(w.draggedOverFavoriteId);w.dropBefore||(e+=1),n=[...i.slice(0,e),a,...i.slice(e)]}if((0,aJ.hp)(),b(a),e.section?.id){l?t(t5.vg({sectionId:e.section.id,orderedFavoriteIds:n})):t(t5.V1({favoriteId:a,sectionId:e.section.id,resourceType:r,orderedFavoriteIds:n}));return}l||t(t5.V1({favoriteId:a,sectionId:void 0,resourceType:r})),t(tC.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:n,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},M=l.useCallback(e=>{e.stopPropagation(),y&&b(void 0)},[y]),U=l.useCallback(()=>{A(!0)},[]),$=l.useCallback(e=>{let t=new X.le(e);return m(t.isFile()),t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},[]),G=r=>{let n=new X.le(r),l=[],s=[],d=[];if(v(!1),n.isFigFiles()){if(!(l=n.getData()))return!1}else if(n.isPrototypes()){if(!(d=n.getData()))return!1}else if(n.isRepos()){let e=n.getReposData();if(!e)return!1;s=e.repos}else if(n.isTiles()){let e=n.getTilesData();if(!e)return!1;l=e.files,s=e.repos,d=e.prototypes}l=l.filter(e=>!e.is_favorited),s=s.filter(e=>!e.is_favorited),d=d.filter(e=>!e.is_favorited);let m=o.map(e=>e.resource.id),u=l.length+s.length+d.length,_=(0,eq.kK)(i);if(u+o.length>_)return t(a0.F.enqueue({message:(0,k.t)("tile.favoriting.max_favorites",{maxFavorites:_})})),!1;let p=null;return w&&(p=m.indexOf(w.draggedOverFavoriteId)+(w.dropBefore?0:1)),t(t5.N9({files:l,repos:s,prototypes:d,orgId:i,teamId:a,selectedView:c.view,entrypoint:"sidebar",insertAtIndex:p,orderedFavorites:m,sectionId:e.section?.id,fileBrowserPrefs:e.fileBrowserPreferences})),!0},Y=l.useCallback(()=>{v(!0)},[]),z=l.useCallback(()=>{v(!1)},[]),q=B()([S.cx.relative.$,"favorited_section--showsCaret--vjo7-",h||w?.draggedOverSectionId&&e.section&&!d&&w.draggedOverSectionId===e.section.id?aV:""]),Z=f?e.section?.name===""||e.section?.name===void 0?(0,k.tx)("sidebar.starred"):e.section.name:(0,k.tx)("sidebar.favorite_files"),J=F?.data?.customSection?.id===e.section?.id,ee=e.isCreatingNewSection||e.isRenaming,et=B()({"favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa":!0,"favorited_section--actionButtonsVisibleOnHover--AOJ8E":!ee,"favorited_section--actionButtonsVisible--Ey4QI":J&&!ee}),en=e.section?.name===void 0?(0,k.t)("sidebar.new_section"):(0,eq.R3)(e.section)?(0,k.t)("sidebar.starred"):e.section.name;return l.createElement(H.Y,{className:q,isDragTarget:$,draggable:!1,onTargetDrop:G,onTargetDragEnter:Y,onTargetDragLeave:z},l.createElement("div",null,l.createElement("div",{draggable:!0,onDragStart:P,className:et,onClick:O,onContextMenu:a=>{a.stopPropagation(),a.preventDefault();let r={top:a.clientY,right:a.clientX,bottom:a.clientY,left:a.clientX,width:1,height:1};t(K.j7({type:aO,data:{customSection:e.section,favoritesCount:o.length,isFromRightClick:!0,targetRect:r}}))},role:"button",tabIndex:0},l.createElement(j.B,{className:f?"favorited_section--expandCaretCustomSections--SUjwA":"favorited_section--expandCaret--LgAK5 sidebar--expandCaret--eXGWm",svg:E?rq.A:rZ.A}),l.createElement("div",{className:"favorited_section--sectionName--PrU2k ellipsis--ellipsis--Tjyfa","data-onboarding-key":1===e.allSections.length?null:"FAVORITES_ONBOARDING_KEY"},e.isRenaming?l.createElement(W.p,{className:"favorited_section--input--8x-Vh",placeholderValue:en,submit:a=>{e.isCreatingNewSection?(u?t(t5.yH({name:a,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:u})):t(t5.YI({name:a,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(t(t5.vg({sectionId:e.section.id,name:a.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),u&&t(t5.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}):Z),i&&l.createElement("div",{className:"favorited_section--actionButtons--VZ6Er"},l.createElement("div",{role:"button",tabIndex:0,className:aK,"data-tooltip-max-width":200,ref:R,onClick:a=>{F?t(K.oB()):R.current&&t(K.j7({type:aO,data:{targetRect:R.current.getBoundingClientRect(),customSection:e.section,favoritesCount:o.length}})),a.stopPropagation(),a.preventDefault()},onContextMenu:e=>e.stopPropagation()},l.createElement(j.B,{svg:rX.A,className:aq})),l.createElement(r1,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})))),l.createElement("div",{className:E?void 0:S.cx.hidden.$},(()=>{if(0===o.length){let t=1===e.allSections.length&&(0,eq.R3)(e.allSections[0]);return f||e.isCreatingNewSection?f&&t&&!e.isCreatingNewSection?l.createElement(aZ,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}):l.createElement(l.Fragment,null):l.createElement(r2,{setNewCustomSectionIndex:e.setNewCustomSectionIndex})}return l.createElement("div",{onMouseMove:M,onMouseLeave:U},o.map(t=>{let a=y===t.resource.id||t.resource.resourceId===r?.data?.resource.resourceId;return l.createElement(rK,{key:t.resource.resourceId,favorite:t,isSelected:a,onSetResourceFavoriteDragDrop:G,reorderOrInsertFavorite:D,clearRearrangeDragState:N,updateRearrangeDragState:T,rearrangeDragState:w,previewYOffset:e.previewYOffset,showPreviewDelay:L,setShowPreviewDelay:A,sections:e.allSections,preventHoverStyle:void 0!==y})}),r&&l.createElement(rh,{dropdownShown:r}))})()))}function r1(e){return l.createElement("div",{role:"button",tabIndex:0,className:aK,"data-tooltip-max-width":200,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("favorited_resources.create_a_new_section_tooltip"),onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},onContextMenu:e=>e.stopPropagation()},l.createElement(j.B,{svg:rJ.A,className:aq}))}function r2(e){return l.createElement("div",{className:"favorited_section--favoritedSectionEmptyState--Xhxgt sidebar--emptySection--SKfhv sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("sidebar.to_favorite_files_you_use_often"))}function r4(e){let t=(0,eq.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces);return l.createElement(r0,{favorites:t,order:e.fileBrowserPreferences?.orderedFavoritedResourceIds??void 0,fileBrowserPreferences:e.fileBrowserPreferences,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,allSections:e.userSidebarSections??[],sectionIndex:0,previewYOffset:e.previewYOffset})}function r8(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),r=(0,s.d4)(e=>e.favorites.newCustomSectionIndex),n=(0,s.d4)(e=>e.favorites.favoritesCount),i=(0,eq.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[o,c]=l.useState(),[d,m]=l.useState(),[u,_]=l.useState(!1),p=(0,aL.S)(),f=l.useMemo(()=>(0,eq.t$)(e.userSidebarSections??[],e.fileBrowserPreferences?.orderedSidebarSections??void 0),[e.userSidebarSections,e.fileBrowserPreferences?.orderedSidebarSections]);l.useMemo(()=>{n&&n<15&&i.length>=15&&(0,ak.YQ)({id:tQ.FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT}),t(t5.lF({favoritesCount:i.length}))},[n,i.length,t]);let g={},E=[];i.forEach(e=>{e.resource.sidebarSectionId?g[e.resource.sidebarSectionId]?g[e.resource.sidebarSectionId].push(e):g[e.resource.sidebarSectionId]=[e]:E.push(e)});let h=l.useCallback(()=>a.type===er.R.Favorite||a.type===er.R.SidebarSection,[a]),v=l.useCallback(e=>{a.type===er.R.SidebarSection&&_(e.upper)},[a]),y=l.useCallback(()=>{let r="starred"===o?void 0:o;if(a.type===er.R.Favorite){let e=a.data;t(t5.V1({favoriteId:e.resource.id,sectionId:r,resourceType:e.resourceType}))}else if(a.type===er.R.SidebarSection&&r){let n=f.map(e=>e.id)??[],i=(0,V.Pe)(n,a.data,r,u);t(tC.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:i},userInitiated:!0}))}_(!1),c(void 0),t(Q.T())},[o,t,a,u,f,e.fileBrowserPreferences]),b=l.useCallback(e=>()=>{c(e)},[]),w=l.useCallback(()=>{c(void 0)},[]),T=l.useCallback(e=>{t(t5.pS({newCustomSectionIndex:e}))},[t]);if(0===f.length&&p&&void 0===r)return l.createElement(aX,{setNewCustomSectionIndex:T});let I=l.createElement("div",{className:S.cx.mb8.$},l.createElement(r0,{favorites:[],order:[],allSections:f,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:!0,setRenamingSectionId:m,sectionIndex:r||0,isCreatingNewSection:!0,setNewCustomSectionIndex:T,fileBrowserPreferences:e.fileBrowserPreferences,previewYOffset:e.previewYOffset}));return l.createElement("div",{className:S.cx.mt8.$},0===r&&I,f.map((t,n)=>{let i=a.type===er.R.Favorite?aV:u?"favorited_section--dropBefore--6poyi sidebar--dropBefore--wZDYO":"favorited_section--dropAfter--7G6L7 sidebar--dropAfter--JEX7d",s=B()([o===t.id?i:"",S.cx.mb8.$]);return l.createElement("div",{key:t.id},l.createElement(H.Y,{className:s,isDragTarget:h,draggable:!1,onTargetDragQuadrantUpdate:v,onTargetDrop:y,onTargetDragEnter:b(t.id),onTargetDragLeave:w},l.createElement(r0,{favorites:g[t.id]??[],sectionIndex:n,section:t,allSections:f,order:t.orderedFavoritedResourceIds??[],isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:d===t.id,setRenamingSectionId:m,setNewCustomSectionIndex:T,previewYOffset:e.previewYOffset,isCurrentHoveredSection:o===t.id})),r===n+1&&I)}),p&&l.createElement(aM,{setRenamingSectionId:m}))}var r3=a(768137),r5=a(372038),r9=a(660656),r6=a(838329),r7=a(585878),ne=a(533600);let nt=(0,aA.Ju)(function(e){let[t,a]=(0,l.useState)(null),r=(0,s.wA)(),n=(0,r5.Gs)(),i=(0,e1.TA)(),o=(0,s.d4)(e=>e.teamUserByTeamId),c=(0,s.d4)(e=>i?e.authedUsers.byId[i]?.plans?.filter(e=>!e.is_org):null),d=(0,k.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),m=()=>r(eY.Ce()),u={};i&&(0,r6._)(o,i).forEach(e=>{e.drafts_folder_id&&(u[e.team_id]=e.drafts_folder_id)});let _=(e,t)=>{t&&r(r9.C({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return l.createElement(r7.XV,{title:d,fixedTop:!0,minWidth:480,maxWidth:480,onClose:m,truncateTitleText:!0},l.createElement("div",{className:"move_favorites_modal--modalBody---Rdx2"},c&&l.createElement(tB.P,{width:480},l.createElement("div",{className:S.cx.pl8.pr8.$},c.map(e=>l.createElement(na,{key:e.plan_id,planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:t?.plan_id===e.plan_id,onSelect:()=>a(t?.plan_id===e.plan_id?null:e)})))),l.createElement("div",{className:"move_favorites_modal--footer--ERUeX"},l.createElement(tO.nR,{onClick:m},(0,k.tx)("modal.cancel")),l.createElement(tO.vd,{disabled:!t,onClick:()=>{let a=t?.is_org?null:t?.plan_id,i=e.favorites.reduce((e,t)=>t.resourceType===e2.bk.FILE&&t.resource.file?.key?{...e,[t.resource.file?.key]:!0}:e,{}),o={},l=n.filter(e=>{let t=!!i[e.key];return t&&(o[e.key]=!0),t}),s=e.favorites.filter(e=>!(e.resourceType===e2.bk.FILE&&e.resource.file?.key)||!o[e.resource.file?.key]).map(e=>e.resource.id);r(t5.Ic({favoriteIds:s,teamId:a})),a&&_(l,u[a]),m()}},(0,k.t)("modal.confirm")))))},"MoveFavoritesModal");function na(e){return l.createElement("button",{"data-testid":`${e.name}-button`,className:B()("move_favorites_modal--teamRow--qNRGf",e.checked?S.cx.colorBgSelected.$:""),onClick:e.onSelect},l.createElement("div",{className:"move_favorites_modal--iconContainer--oDATP"},e.checked?l.createElement(j.B,{className:S.cx.colorIcon.$,svg:ne.A}):l.createElement(ed.nl,{size:ed.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:em.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})),l.createElement("div",{className:"move_favorites_modal--teamName--pVqcu ellipsis--ellipsis--Tjyfa"},l.createElement("span",{className:"move_favorites_modal--destinationHeading--mwxLX"},e.name)))}var nr=a(842232);let nn="favorited_drafts_to_move";function ni(e){let t=(0,s.wA)(),[a,r]=l.useState(!0),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=e.teamUser?.planlessFavoritedFiles?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFilesKeySet.has(t.resourceId)),o=e.teamUser?.planlessFavoritedPrototypes?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedPrototypesIdSet.has(t.resourceId)),c=e.teamUser?.planlessFavoritedProjects?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFoldersIdSet.has(t.resourceId)),d=(0,eq.ds)(i,o,c),m=!n.has(nn),u=l.useCallback(()=>{ae.Fp({type:"topLevel",id:nn,orgId:null},!m),m?n.add(nn):n.delete(nn),t(t5.U6({collapsedCustomSections:n}))},[m,n,t]),_=l.useCallback(()=>{t(t5.vr({favoriteIds:d.map(e=>e.id)}))},[t,d]);if(0===d.length)return l.createElement(l.Fragment,null);let p=d.map(t=>l.createElement(rK,{key:t.resource.resourceId,favorite:t,isSelected:!1,onSetResourceFavoriteDragDrop:g.lQ,reorderOrInsertFavorite:g.lQ,updateRearrangeDragState:g.lQ,clearRearrangeDragState:g.lQ,rearrangeDragState:void 0,previewYOffset:e.previewYOffset,showPreviewDelay:a,setShowPreviewDelay:r,sections:[],preventHoverStyle:!1,isFavoritesToMove:!0}));return l.createElement(l.Fragment,null,l.createElement("div",{className:"favorited_section--divider--o9WjE favorited_section--divider--o9WjE"}),l.createElement("div",{className:B()("favorited_section--moveFavoritesContainer--qp39R",S.cx.pt4.pb4.ml8.mr8.mb8.$)},l.createElement("div",{className:B()(S.cx.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--2RB9p favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa")},l.createElement("div",{onClick:u,className:S.cx.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0},l.createElement(j.B,{className:B()(S.cx.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--pl1Hf"),svg:m?rq.A:rZ.A}),(0,k.tx)("sidebar.move_these_starred_items"),l.createElement(j.B,{svg:nr.A,className:B()("favorited_section--helpIcon--vfl5Y",S.cx.flex.itemsBaseline.ml4.$),"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})),m?null:l.createElement(ec.Ex,{text:d.length>99?"99+":`${d.length}`,color:ec.zE.DEFAULT,className:S.cx.mr8.colorText.colorBgSelectedSecondary.$})),m?l.createElement("div",{className:"favorited_section--favoritesToMoveContentContainer--xYv6p"},p,l.createElement("div",{className:S.cx.flex.justifyBetween.m8.h24.$},l.createElement(r3.$$,{className:"favorited_section--favoritesToMoveActionButtons--FUt77",onClick:()=>{t(eY.to({type:nt,data:{favorites:d}}))}},(0,k.tx)("file_browser.planless_favorites.add_to_sidebar")),l.createElement(r3.nR,{className:"favorited_section--unstarAllButton--Rhy3- favorited_section--favoritesToMoveActionButtons--FUt77",onClick:_},(0,k.tx)("file_browser.planless_favorites.unstar_all")))):null))}function no(e){let t=(0,s.d4)(e=>e.currentTeamId),a=(0,s.wA)();return t?l.createElement(Y.Z,{isSelected:e.selectedView&&"limitedTeamSharedProjects"===e.selectedView.view,onClick:()=>{a(q.eP()),a(K.Oe({clickedResourceType:"limitedTeamSharedProjects"}))},icon:l.createElement(eD.In,{icon:"grid-32"}),text:l.createElement(L.E,{truncate:!0},(0,k.tx)("sidebar.all_shared_projects"))}):null}var nl=a(11861);function ns(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),r=(0,eX.dq)(),[n,i]=l.useState(null),[o,c]=l.useState(!1),d=l.useRef(null),m=(r,n)=>{a.type!==er.R.Team&&console.error("Expected Team");let i=a.data;if(!i)return;let o=i.id,l=n.upper,s=(0,tq.n$)(e.sidebarData?.teamRoles?.map(e=>e.team)?.filter(e=>!!e)||[],e.sidebarData?.fileBrowserPreferences?.orderedTeamIds||[]),c=(0,V.Pe)(s,o,r,l),d=e.sidebarData?.fileBrowserPreferences?.orderedFavoritedResourceIds;c!==s&&t(tC.yJ({prefs:{id:e.sidebarData?.fileBrowserPreferences?.id||"optimistic-id",orderedTeamIds:c,orderedFavoritedResourceIds:d,orderedLicenseGroupIds:e.sidebarData?.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},u=(e,a)=>{a.dataTransfer.effectAllowed="move";let r=new X.le(a.dataTransfer);r.setArbitraryData(e),d.current&&r.setDragImage(d.current),t(Q.v({type:er.R.Team,data:e})),a.stopPropagation()},_=()=>{t(Q.T())},p=()=>(!(e.isEnterpriseSidenavEnabled&&a.data?.licenseGroupId)||a.data.licenseGroupId===e.licenseGroup?.id)&&a.type===er.R.Team,f=e=>{a.type===er.R.Team&&i(e)},g=e=>{c(e.upper)},E=e=>{i(t=>t===e?null:t)},h=(e,t)=>{m(e,t),i(null)},v=1!==e.orderedTeams.length;return l.createElement(l.Fragment,null,l.createElement("div",null,e.orderedTeams.map((t,a)=>l.createElement(H.Y,{key:t.id,className:n===t.id?o?"sidebar--dropBefore--wZDYO":"sidebar--dropAfter--JEX7d":"",isDragTarget:p,onTargetDragEnter:()=>f(t.id),onTargetDragQuadrantUpdate:g,onTargetDragLeave:()=>E(t.id),onTargetDrop:(e,a)=>h(t.id,a),draggable:v,onDragStart:e=>u(t,e),onDragEnd:_},l.createElement(tT,{key:t.id,team:t,sidebarData:e.sidebarData,projectsByTeam:e.projectsByTeam,onboardingKey:0===a?tQ.TEAM_FILES_ONBOARDING_KEY:void 0,licenseGroup:e.licenseGroup}))),l.createElement("div",{className:"sidebar--dragImage--HwlFW",ref:d})),!(0,eq.D6)(r)&&e.contextSelectedFolder&&l.createElement(nl.p,{folder:e.contextSelectedFolder,onRenameClick:e.onFolderRenameClick}))}function nc(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,s.d4)(t=>e?t.orgById[e]:null),a=(0,ar.c4)(e).data??!1;return t&&e?a?(0,k.t)("sidebar.browse.all_workspaces"):(0,k.t)("sidebar.browse.all_teams"):null}function nd(){let e=nc();return l.createElement(l.Fragment,null,e)}var nm=a(499893);function nu(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.currentUserOrgId),a=(0,s.d4)(e=>e.selectedView),r=(0,aL.S)(),n=(0,s.d4)(e=>t?e.orgById[t]:null),i="org"===a.view&&a.orgId===t,o=nc();return n&&t&&o?l.createElement(Y.Z,{isSelected:i,onClick:()=>{e(K.$T({view:"org",orgId:t,orgViewTab:tZ.X.HOME})),e(K.Oe({clickedResourceType:"org",resourceIdOrKey:t}))},icon:l.createElement(j.B,{className:S.cx.colorIcon.$,svg:r?rG.A:nm.A}),text:l.createElement(L.E,{truncate:!0},o)}):null}var n_=a(807749),np=a(414507),nf=a(915440),ng=a(408462),nE=a(279453),nh=a(74592),nv=a(799569);function ny(){return l.createElement("div",{className:"base_upgrade_section--divider--k-uOp sidebar--divider--sHsz4"})}function nb(e){return l.createElement(ez.fu,{name:e.trackingContext,properties:e.trackingProperties},l.createElement("div",{className:e.demure?"base_upgrade_section--contentMindful--eOyhd base_upgrade_section--content--95XrT":"base_upgrade_section--content--95XrT"},e.onDismiss&&l.createElement(nv.Jn,{className:"base_upgrade_section--closeButton--cbjWt",onClick:e.onDismiss}),e.header&&l.createElement("div",{className:S.cx.wFull.if(e.demure,S.cx.font13.lh24,S.cx.mb12).$},e.header,!e.demure&&l.createElement(ny,null)),e.svg&&l.createElement(j.B,{className:`base_upgrade_section--icon--B3S9V ${e.svgStyles??""}`,svg:e.svg}),e.countDownDaysLeft&&l.createElement("div",{className:"base_upgrade_section--countdownTicker--6YLVt"},l.createElement(L.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})),l.createElement("div",{className:e.demure?"base_upgrade_section--textContainerMindful--CttjJ":"base_upgrade_section--textContainer--ObHaO"},e.titleText&&l.createElement("p",{className:"base_upgrade_section--title--MLhT1"},e.titleText),l.createElement("p",null,e.bodyText)),l.createElement(tO.vd,{className:"base_upgrade_section--ctaButton--B1ywj",onClick:e.onClickCTA,dataTestId:e.ctaDataTestId,disabled:e.disabled,trackingProperties:e.ctaTrackingProperties},e.ctaText)))}let nw="upgrade_section--upgradeTextEmphasized--aQCr9";var nT=a(491095),nI=a(247866),nC=(e=>(e[e.UPGRADE=0]="UPGRADE",e[e.CREATE=1]="CREATE",e))(nC||{});function nx(e){let t=(0,s.wA)(),a=l.createElement("span",{className:nw},(0,k.t)("edu.sidebar_section.verified"));return l.createElement(nb,{trackingContext:0===e.type?"Edu Upgrade Section":"Edu Create Section",svg:nT.A,bodyText:l.createElement(l.Fragment,null,a," ",0===e.type?(0,k.t)("edu.sidebar_section.upgrade"):(0,k.t)("edu.sidebar_section.create_team")),ctaText:0===e.type?(0,k.t)("edu.choose_team"):(0,k.t)("edu.create_free_team"),onClickCTA:0===e.type?()=>{t((0,eY.to)({type:ng.q}))}:()=>{t(q.Dw({isEduTeam:!0}))},onDismiss:()=>{t(t9.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function nN({daysLeft:e}){let t=(0,s.wA)(),a=(0,nf.Rs)(nE.UpR,{},{enabled:!(0,p.kc)().edu_bootcamps_reverification}),r=(0,eM.H5)(),n=!!(0,tK.f)("edu_hide_verification");if((0,p.kc)().edu_bootcamps_reverification||(n=(a.data?.currentUser?.schoolType?.status===tP.tT.Loaded?a.data.currentUser.schoolType.data:null)===nh.h6.BOOTCAMP_OR_ONLINE&&r()),e<0)return null;let i=()=>{t((0,eY.to)({type:eu.V,data:{upsellSource:e5.b.EDU_UPGRADE_SECTION}}))},o=l.createElement(tO.eM,{onClick:()=>m.Ay.redirect("/education/apply",E.Ay.isIpadNative?void 0:"_blank")},(0,k.tx)("edu.sidebar_section.verify_your_education_status"));return e>0?l.createElement(nb,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:(0,k.tx)("edu.sidebar_section.education_plan_expires_in_days",{daysLeft:e}),bodyText:n?(0,k.tx)("edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"):(0,k.tx)("edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",{verify:o}),ctaText:(0,k.tx)("upgrade.upgrade_to_professional"),onClickCTA:i}):l.createElement(nb,{trackingContext:"Universal Upgrade Section Education Plan Expired",svg:nI.A,titleText:(0,k.tx)("edu.sidebar_section.education_plan_expired"),bodyText:n?(0,k.tx)("edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"):(0,k.tx)("edu.sidebar_section.to_keep_editing_upgrade_your_team",{verify:o}),ctaText:(0,k.tx)("upgrade.upgrade_to_professional"),onClickCTA:i})}var nS=a(138020),nk=a(760824),nL=a(845213);let nA="dismissed_limited_team_space_uub";function nR(e){let t=(0,s.wA)(),[a,r]=l.useState(!1),n=(0,nf.Rs)(nE.qOl,{teamId:e.team.id}),i=(0,e1.iZ)(),o="loaded"===n.status&&(0,nS.oA)(n.data?.teamRoleRequest),c=!!o&&"pending"===o.status,d=!!o&&"approved"===o.status,m=!!o&&"denied"===o.status;if(l.useEffect(()=>{c&&r(!0)},[c]),"loaded"!==n.status||d||m)return null;let u=async()=>{try{await nL.$.requestTeamRole({teamId:e.team.id}),t(a0.F.enqueue({message:(0,k.t)("view_permissions.request_sent"),type:"request-team-membership"})),(0,tN.uE)("limited_team_plan_request_upgrade_clicked",{user:i},{teamId:e.team.id}),r(!0)}catch(e){t($.s.error("Failed to request team role",e))}};return l.createElement(nb,{trackingContext:"Limited Team Space Dismissable Upgrade Section",trackingProperties:{teamId:e.team.id},disabled:c||a,header:(0,k.tx)("upgrade.limited_access_in_this_team"),bodyText:(0,k.tx)("upgrade.to_get_unlimited_files_must_be_member",{currentTeamName:e.team.name}),ctaText:a?(0,k.tx)("upgrade.access_requested"):(0,k.tx)("upgrade.request_full_access"),onClickCTA:u,ctaTrackingProperties:{},onDismiss:()=>{t(nk.bE({all_team_flags:[{team_id:e.team.id,flags:{[nA]:!0}}]}))},demure:"very"})}var nF=a(898211),nP=a(724838),nO=a(990546);function nD({orgUpsellEligibility:e}){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.userFlags),r=e===nP.VY.SINGLE_TEAM?(0,k.tx)("upgrade.access_cross_team_design_libraries_sso_and_more"):(0,k.tx)("upgrade.centralize_your_teams_and_share_design_libraries"),n=`${e===nP.VY.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`;return l.createElement(nb,{trackingContext:n,svg:nO.A,bodyText:r,ctaText:(0,k.tx)("upgrade.view_plans"),onClickCTA:()=>{e===nP.VY.SINGLE_TEAM&&t((0,eY.to)({type:nF.HS,data:{upsellSource:e5.b.ORG_UPGRADE_SECTION}})),e===nP.VY.MULTIPLE_TEAMS&&t((0,eY.to)({type:nF.u3,data:{upsellSource:e5.b.ORG_UPGRADE_SECTION}}))},onDismiss:()=>t((0,nP.CJ)(a)),ctaDataTestId:"org-upgrade-cta"})}var nM=a(317372),nB=a(942244);let nU="dismissed_paid_free_space_uub";function nV(e){let t=(0,s.wA)(),a=(0,ef.md)(nM.A),r=eQ.h.useTrackingContext({trigger:e5.b.UNIVERSAL_UPGRADE_SECTION}),n=l.createElement(tO.eM,{onClick:()=>{t(K.j7({type:nB.ER,data:{targetRect:a}}))},trackingProperties:{trackingDescriptor:eg.c.WORK_IN_ONE_OF_YOUR_PAID_TEAMS}},(0,k.tx)("upgrade.work_in_one_of_your_paid_teams")),i=(0,k.tx)("upgrade.to_get_unlimited_files_and_features_link_switch_teams_or_upgrade_this_team_s_plan",{linkSwitchTeams:n});return l.createElement(nb,{trackingContext:"Paid Free Space Dismissible Upgrade Section",trackingProperties:{teamId:e.team.id,...r},header:(0,k.tx)("upgrade.this_team_is_on_a_free_plan"),bodyText:i,ctaText:(0,k.tx)("upgrade.view_all_plans"),onClickCTA:()=>{t((0,eY.to)({type:eu.V,data:{upsellSource:e5.b.UNIVERSAL_UPGRADE_SECTION}}))},ctaTrackingProperties:{trackingDescriptor:eg.c.VIEW_ALL_PLANS},onDismiss:()=>{t(nk.bE({all_team_flags:[{team_id:e.team.id,flags:{[nU]:!0}}]}))},demure:"very"})}var nH=a(175290),nW=a(378459);let nj="pro_trials_upgrade_section--divider--0tBoX sidebar--divider--sHsz4";var n$=a(707990);function nG(){let e=(0,s.wA)();return l.createElement(nb,{trackingContext:"Universal Upgrade Section Pro Trial Entry",trackingProperties:e8.ng.getTrackingProperties(),svg:n$.A,titleText:l.createElement(L.E,null,(0,k.tx)("upgrade.free_professional_team_trial")),bodyText:l.createElement(L.E,null,(0,k.tx)("upgrade.enjoy_our_best_design_features_for_14_days")),ctaText:l.createElement(L.E,null,(0,k.tx)("upgrade.try_the_professional_plan")),onClickCTA:()=>e((0,eY.to)({type:nW.m})),ctaDataTestId:"redesigned-upgrade-button-pro-trial-entry-upgrade",ctaTrackingProperties:e8.ng.getTrackingProperties("Try the Professional Plan"),svgStyles:"pro_trials_upgrade_section--sparkleIcon--ybCKo"})}function nY({team:e}){return l.createElement(nH.Y,{spacing:8,dataTestId:"team-info"},l.createElement(ed.nl,{size:ed.Pf.SMALL,team:e,fallbackDisplay:em.U.HIDDEN,shape:"ROUNDED_SQUARE"}),l.createElement(L.E,{children:e.name,fontWeight:"medium",fontSize:11,truncate:"end"}))}function nz({daysLeft:e,trialTeam:t,onClickCTA:a}){var r;let n=l.createElement(tO.eM,{onClick:a,dataTestId:"pro_trial_inline_upgrade",trackingProperties:e8.ng.getTrackingProperties()},(0,k.tx)("upgrade.pro_trial_inline_upgrade_cta"));return l.createElement(ez.fu,{name:"Universal Upgrade Section Pro Trial Countdown",properties:e8.ng.getTrackingProperties()},l.createElement("div",{className:nj}),l.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeSection--E-f1E"},l.createElement("div",{className:"pro_trials_upgrade_section--countdownInfo--sN5Pd"},l.createElement(nY,{team:t})),l.createElement("div",{className:nj}),l.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysTicker--rDpWO"},l.createElement(L.E,{children:e,color:e<=2?"danger":"default",fontWeight:"medium",fontSize:24})),l.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysLeftText--a-ppM"},l.createElement(L.E,{color:e<=2?"danger":"default",fontWeight:"medium",fontSize:13},(0,k.tx)("upgrade.days_left_in_trial",{days:e}))),l.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeText--ho-7F"},l.createElement(L.E,{children:(r=e)>=14?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.this_counter_will_help_you_keep_track",{upgrade:n})):r>=10?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.if_you_are_enjoying_your_trial",{upgrade:n})):r>=4?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.try_out_these_features")):r>=2?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.you_will_miss_these_files")):r>=1?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.just_a_memory")):null})),e<=9&&l.createElement(tO.vd,{className:"pro_trials_upgrade_section--redesignedUpgradeButton--SP1nz",onClick:a,dataTestId:"redesigned-upgrade-button-pro-trial-countdown-upgrade",trackingProperties:e8.ng.getTrackingProperties()},l.createElement(L.E,null,(0,k.tx)("upgrade.upgrade_to_professional")))))}function nQ(e){return l.createElement(nb,{trackingContext:"Universal Upgrade Section Pro Trial Expired",trackingProperties:e8.ng.getTrackingProperties(),titleText:l.createElement(L.E,null,(0,k.tx)("upgrade.currently_on_starter_plan")),bodyText:l.createElement(L.E,null,(0,k.tx)("upgrade.your_trial_has_ended")),ctaText:l.createElement(L.E,null,(0,k.tx)("upgrade")),onClickCTA:e.onClickCTA,ctaDataTestId:"redesigned-upgrade-button-pro-trial-expired-upgrade",ctaTrackingProperties:e8.ng.getTrackingProperties(),header:l.createElement(nY,{team:e.team})})}function nK(e){let t=(0,s.wA)(),{ongoingUpgradableTrials:a,expiredUpgradableTrials:r}=e,n=(0,s.d4)(e=>e.teams),i=e=>{t((0,eY.to)({type:eu.V,data:{teamId:e,upsellSource:e5.b.PRO_TRIAL_UPSELL_MODAL}}))};return r.length>0?l.createElement(nQ,{team:n[r[0].teamId],onClickCTA:()=>i(r[0].teamId)}):a.length>0?l.createElement(nz,{trialTeam:n[a[0].teamId],daysLeft:a[0].daysLeft,onClickCTA:()=>i(a[0].teamId)}):null}var nq=(e=>(e.PRO_TRIALS_ENTRY="Pro Trials Entry",e.PRO_TRIALS_UPGRADE="Pro Trials Upgrade",e.LIMITED_TEAM_SPACE="Limited Team Space",e.EDU_EXPIRY="EDU Expiry",e.EDU_UPGRADE="EDU Upgrade",e.ORG_UPGRADE="Org Upgrade",e.PAID_FREE_SPACE="Paid Free Space",e.UNIVERSAL="Universal",e))(nq||{}),nZ=(e=>(e.BETWEEN_CONTENT="between_content",e.AFTER_CONTENT="after_content",e.IN_FOOTER="in_footer",e))(nZ||{});function nX({onTeam:e,hitFileLimit:t}){let a=(0,s.wA)(),r=eQ.h.useTrackingContext({trigger:e5.b.UNIVERSAL_UPGRADE_SECTION}),n=t?l.createElement(l.Fragment,null,l.createElement("span",{className:nw},(0,k.tx)("upgrade.running_out_of_files_in_your_free_team"))," ",(0,k.tx)("upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits")):(0,k.tx)("upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features");return l.createElement(nb,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t,...r},svg:nO.A,bodyText:n,ctaText:(0,k.tx)("upgrade.view_plans"),ctaTrackingProperties:{trackingDescriptor:eg.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{a((0,eY.to)({type:eu.V,data:{upsellSource:e5.b.UNIVERSAL_UPGRADE_SECTION}}))}})}var nJ=a(794272),n0=a(205548),n1=a(38580),n2=a(529928),n4=a(693223);let n8=(0,n1.eU)(e=>{let t=e(n4.m),a=e(n3),r=(0,p.kc)().ps_benchmark;if(!a)return!1;let n=[e2.P4.FILES_LIMITED,e2.P4.FILES_LIMITED_LEGACY,e2.P4.WHITEBOARD_FILES_LIMITED,e2.P4.WHITEBOARD_FILES_LIMITED_BETA,e2.P4.SLIDE_FILES_LIMITED,e2.P4.SLIDE_FILES_LIMITED_BETA].some(e=>a?.restrictions_list?.includes(e));return r?n:Object.values(t).some(e=>[e2.P4.FILES_LIMITED,e2.P4.FILES_LIMITED_LEGACY,e2.P4.WHITEBOARD_FILES_LIMITED,e2.P4.WHITEBOARD_FILES_LIMITED_BETA,e2.P4.SLIDE_FILES_LIMITED,e2.P4.SLIDE_FILES_LIMITED_BETA].some(t=>e.restrictions_list&&e.restrictions_list.includes(t)))}),n3=(0,n2.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});function n5(){return l.createElement(O.tH,{boundaryKey:"SidebarUpgradeSection",fallback:O.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:np.FigmaTeam.MONETIZATION_UPGRADES}},l.createElement(n9,null))}function n9(){let e=n7();return null===e?null:l.createElement(n6,{...e})}function n6(e){switch(e.type){case nq.PRO_TRIALS_ENTRY:return l.createElement(nG,null);case nq.PRO_TRIALS_UPGRADE:return l.createElement(nK,{ongoingUpgradableTrials:e.props.ongoingUpgradableTrials,expiredUpgradableTrials:e.props.expiredUpgradableTrials});case nq.EDU_EXPIRY:return l.createElement(nN,{daysLeft:e.props.daysLeft});case nq.EDU_UPGRADE:return l.createElement(nx,{type:e.props.type});case nq.ORG_UPGRADE:return l.createElement(nD,{orgUpsellEligibility:e.props.orgUpsellEligibility});case nq.PAID_FREE_SPACE:return l.createElement(nV,{team:e.props.team});case nq.LIMITED_TEAM_SPACE:return l.createElement(nR,{team:e.props.team});case nq.UNIVERSAL:default:return l.createElement(nX,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function n7(){let e=function(){let e=(0,eJ.FC)(),t=(0,e1.TA)(),a=(0,tK.f)(e8.Jy),r=(0,e0.xX)(),n=(0,s.d4)(e=>e.userTeamFlags),i=(0,ab.mp)({component:"useProTrialsUpgradeSectionProps",migrationGroup:aw.L.GROUP_4});if(e8.ng.uxEnabled()&&!i){let{ongoingTrials:i,expiredTrials:o}=e8.ng.getUpgradableProTrials(n,e),l=o.filter(e8.ng.canSeeProTrialExpiryUx);if(i.length>0||l.length>0)return{type:nq.PRO_TRIALS_UPGRADE,props:{ongoingUpgradableTrials:i,expiredUpgradableTrials:l}};if(a&&r.length>0&&e8.ng.isUserInVariant(t))return{type:nq.PRO_TRIALS_ENTRY}}return null}(),t=function(){let e=(0,e1.iZ)(),t=(0,tq.ol)(),a=(0,eJ.FC)(),r=(0,nf.Rs)(nE.UpR,{}),n=r.data?.currentUser?.eduPeriodEnd,i=(0,s.d4)(e=>e.userFlags),o=(0,ab.mp)({component:"useEduUpgradeSectionProps",migrationGroup:aw.L.GROUP_4});if(!e||"loaded"!==r.status)return null;let l=(0,es.x$)(n,(0,es.cn)(e)),c=l>0&&l!==1/0&&(0,es.cn)(e)&&t?.student_team_state===rc.kU.STUDENT_TEAM_CURRENT,d=0===l&&t?.student_team_state===rc.kU.STUDENT_TEAM_EXPIRED&&(0,ek.oc)(t.id,a);if((0,p.kc)().edu_offboarding_experience&&(c||d))return{type:nq.EDU_EXPIRY,props:{daysLeft:l}};if(!i.dismissed_edu_sidebar&&(0,es.cn)(e)&&!o){let e=(0,ek.Kg)(a).length>0;return{type:nq.EDU_UPGRADE,props:{type:e?nC.UPGRADE:nC.CREATE}}}return null}(),a=function(){let e=(0,e1.iZ)(),t=0===Object.keys((0,s.d4)(e=>e.orgById)).length,a=(0,s.d4)(e=>e.teams),r=(0,tq.ol)(),n=(0,ef.md)(n8),i=!Object.values(a).some(e=>null!==e.subscription||e.student_team_at),o=!!(0,p.kc)().ps_benchmark,l=(0,ef.md)(ag.Lm),c=(0,nf.Rs)(nE.kQI,{id:r?.id??""},{enabled:!!r&&o}),d=(0,tR.vt)(),m=(0,eM.Yz)();if(!e||o&&!r||o&&("loaded"!==c.status||!c.data.team?.hasPermission||"loaded"!==l.status||!l.data))return null;let u=r&&o&&!(0,es.cn)(e)&&!(0,ek.w5)(a[r.id])&&!m(d);return!o&&t&&!(0,es.cn)(e)&&i||u?{type:nq.UNIVERSAL,props:{onTeam:Object.keys(a).length>0,hitFileLimit:n}}:null}(),r=function(){let e=(0,eJ.FC)(),t=(0,s.d4)(e=>e.userFlags),a=(0,nJ.R)(e=>({orgUsersByOrgId:e.orgUsersByOrgId,user:e.user,userFlags:e.userFlags,teams:e.teams,currentTeamId:e.currentTeamId})),r=(0,nP.hF)(a,e),n=(0,nP.j)(t);return r===nP.VY.NONE||n?null:{type:nq.ORG_UPGRADE,props:{orgUpsellEligibility:r}}}(),n=function(){let e=(0,e1.iZ)(),t=(0,s.d4)(e=>e.teams),a=(0,tq.ol)(),r=!!(0,p.kc)().ps_benchmark,n=(0,ef.md)(ag.Lm),i=(0,s.d4)(e=>e.userTeamFlags),o=(0,nf.Rs)(nE.kQI,{id:a?.id??""},{enabled:!!a&&r}),l=(0,eM.Mi)();return!e||!a||!r||"loaded"!==n.status||n.data||(0,es.cn)(e)||(0,ek.w5)(t[a.id])||"loaded"!==o.status||!o.data.team?.hasPermission||!l()?null:(0,n0.gY)(i,nU,a.id,7776e6)?null:{type:nq.PAID_FREE_SPACE,props:{team:a},overrideLocation:nZ.IN_FOOTER}}(),i=function(){let e=(0,e1.iZ)(),t=(0,tq.ol)(),a=(0,tk.d)(),r=(0,s.d4)(e=>e.userTeamFlags);return e&&t&&a?(0,n0.gY)(r,nA,t.id,7776e6)?null:{type:nq.LIMITED_TEAM_SPACE,props:{team:t},overrideLocation:nZ.IN_FOOTER}:null}();return null!==e?e:null!==i?i:null!==t?t:null!==a?a:null!==r?r:null!==n?n:null}var ie=a(913270),it=a(195907);function ia(){let e=(0,s.wA)(),t=()=>{(0,el.sx)("community_browser_sidebar_action_clicked"),e(K.$T({view:"communityHub",subView:"searchAndBrowse",data:(0,ie.Gu)()}))};return l.createElement(ez.L0,{trackingEventName:"community_browser_sidebar_action_clicked",className:B()(S.cx.flex.flexRow.itemsCenter.gap12.h48.pl16.pr16.colorText.cursorDefault.$,"explore_community_button--hoverColor--mDUIs"),"data-onboarding-key":it.vM,onClick:e=>{e.preventDefault(),e.stopPropagation(),t()}},l.createElement(eD.In,{icon:"community-16"}),l.createElement(L.E,null,(0,k.tx)("sidebar.explore_community")))}function ir(e){return l.createElement("div",{className:S.cx.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,S.cx.bt1.colorBorder.bSolid).$},e.shouldShowUUBInFooter&&l.createElement("div",{className:S.cx.pb10.pt12.$},l.createElement(n5,null)),l.createElement(ia,null))}var ii=a(396040),io=a(765612);function il(e){return l.createElement("div",{className:S.cx.colorBg.if(e.hasBottomBorder,S.cx.bb1.colorBorder.bSolid).$},l.createElement(io.Xg,null),l.createElement(ii.Zn,null))}var is=a(900581),ic=a(278362);function id(e){let t=(0,s.wA)(),a=(0,ea._6)(),r=(0,s.d4)(e=>e.currentUserOrgId),n=(0,aL.S)(),i=(0,s.d4)(e=>e.teamFeedBellStates),o=!!(r&&i[r]),c="teamFeed"===a.view;return l.createElement(Y.Z,{onClick:()=>{t(K.$T({view:"teamFeed"})),t(K.Oe({clickedResourceType:"teamFeed"}))},isSelected:c,icon:l.createElement(j.B,{className:S.cx.colorIcon.$,svg:n?ic.A:is.A}),text:l.createElement("span",{className:"team_feed_page_link--sectionNameCustomSections--dPwog sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa"},l.createElement("div",{className:"team_feed_page_link--sectionNameCustomSectionsLeft--MLMFK"},(0,k.tx)("fig_feed.feed"),o&&l.createElement("div",{className:"team_feed_page_link--redDot--t6QPY red_dot--baseRedDot--pgZV7"})))})}function im({selectedView:e,teamFolderId:t,teamFolderName:a}){let r=(0,s.wA)();return t&&a?l.createElement(Y.Z,{isSelected:e&&"folder"===e.view&&e.folderId===t,onClick:()=>{r(q.gN(t)),r(K.Oe({clickedResourceType:"folder"}))},icon:l.createElement(eD.In,{icon:"folder-32"}),text:l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!1},a),"data-onboarding-key":e_.Jo}):null}(0,eh.r1)("seen_trash_in_sidebar_onboarding_overlay");var iu=a(699575);function i_(){let e=(0,s.wA)(),t="deletedFiles"===(0,s.d4)(e=>e.selectedView).view;return l.createElement(l.Fragment,null,l.createElement(Y.Z,{isSelected:t,onClick:()=>{e(K.$T({view:"deletedFiles"})),e(K.Oe({clickedResourceType:"deletedFiles"}))},icon:l.createElement(j.B,{className:S.cx.colorIcon.$,svg:iu.A}),text:l.createElement("div",{className:S.cx.pr36.$,"data-onboarding-key":"TRASH_LINK_IN_SIDEBAR_ONBOARDING_KEY"},l.createElement(L.E,null,(0,k.tx)("file_browser.tool_bar.trash")))}))}var ip=a(630834);function ig(e){let t=(0,s.wA)(),a=(0,e1.iZ)(),r=(0,eX.dq)(),n=(0,s.d4)(e=>e.currentTeamId),i=(0,et.Um)(),o=(0,s.d4)(e=>e.userFlags),c=(0,eJ.FC)(),d=(0,s.d4)(e=>e.userStateLoaded),m=(0,ea._6)(),u=(0,s.d4)(e=>e.dragState),_=r&&o.show_create_new_section_banner,f=l.createRef(),g=(0,tF.s)(el.sx,tN.WL,!0),[h,v]=l.useState(!_&&ae.hG({type:"topLevel",id:"teamsOrLicenseGroups",orgId:r})),[y,b]=l.useState(0),[w,T]=l.useState(!1),[I,C]=l.useState(!1),[x,N]=l.useState(!1),A=e=>{t(K.z5({folderId:e.id}))},R=e=>{t(t9.b({show_create_new_section_banner:!1}))},F=e=>{t(t5.pS({newCustomSectionIndex:0})),R(e)},P=()=>{ae.Fp({type:"topLevel",id:"teamsOrLicenseGroups",orgId:r},!h),v(!h)},O=(0,p.kc)().ps_benchmark&&n,D=(0,tk.d)(),M=e.projectsByTeam[tb.USER_DRAFTS],U=M?M[0]:null,V=(0,z.H)(i),H=0===(e.sidebarData?.teamRoles?.map(e=>e.team).filter(e=>e)||[]).map(e=>e.id).length,W=(0,tL.wA)(c),$=(0,t6.a9)(),G=$&&$.permission===e2._D.ADMIN,Y=(0,eq.D6)(r),Q=()=>d?l.createElement(n5,null):null,q=(0,t7.l2)(W,G??!1,!1),Z=l.createElement(l.Fragment,null,l.createElement(t2,{dispatch:t,notOnAnyTeams:H,currentOrgId:r,tooltipText:q?(0,k.t)("license_group_view.toolbar.create_team_disabled"):void 0,disabled:q||(0,e4.R$)(a,W?.id),onMouseEnter:q?()=>{g(tN.jd,{orgId:r,orgName:W?.name,placement:"teamsSidebar"})}:void 0})),X=()=>!(0,eL.canMemberOrg)(r,c)&&r||E.Ay.mobile?null:Z,J=()=>{let e=!(0,eL.canMemberOrg)(r,c);return l.createElement(l.Fragment,null,H&&l.createElement(l.Fragment,null,l.createElement(t4,{org:W,isOrgGuest:e,dispatch:t})))},ee=()=>l.createElement("div",{onClick:P,role:"button",tabIndex:0,className:"sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"},l.createElement(j.B,{className:"sidebar--expandCaret--eXGWm",svg:h?rq.A:rZ.A,onClick:P}),l.createElement("div",null,e.isEnterpriseSidenavEnabled?l.createElement(l.Fragment,null,l.createElement("span",null,(0,k.tx)("sidebar.workspaces"))):(0,k.tx)("sidebar.teams"))),en=l.createElement(tw,{sidebarData:e.sidebarData,projectsByTeam:e.projectsByTeam}),ei=!r&&e.projectsByTeam[tb.USER_FOLDERS],eo=e.sidebarData,es=(0,p.kc)().ps_benchmark&&O?e.dataDriftCorrectedTeamResources?.favoritedFiles:eo?.favoritedFiles,ec=(0,p.kc)().ps_benchmark&&O?e.dataDriftCorrectedTeamResources?.favoritedPrototypes:eo?.favoritedPrototypes,ed=(0,p.kc)().ps_benchmark&&O?e.dataDriftCorrectedTeamResources?.favoritedProjects:eo?.favoritedProjects;ed&&e.FBGNavigationUpdatesTreatment!==eM.ih.CONTROL&&(ed=ed.filter(t=>t.project?.id!==e.teamFolderId));let em=es?.length===0&&ec?.length===0&&ed?.length===0,eu=e.FBGNavigationUpdatesTreatment===eM.ih.CONTROL||!em,e_=n7(),ep={[eM.ih.CONTROL]:nZ.BETWEEN_CONTENT,[eM.ih.VARIANT_A]:nZ.IN_FOOTER,[eM.ih.VARIANT_B]:nZ.AFTER_CONTENT}[e.FBGNavigationUpdatesTreatment],ef=e_?.overrideLocation??ep,eg=!!u.data&&(u.type===er.R.Folder||u.type===er.R.Team||u.type===er.R.Favorite),eE=W&&l.createElement("div",{className:aT},o.show_create_new_section_banner?l.createElement("div",{className:"sidebar--betaAnnouncementContainer--FfmFT"},l.createElement("div",{className:"sidebar--betaAnnouncementHeader--g6Qzz"},l.createElement("div",{className:"sidebar--betaAnnouncementHeaderTitle--AyDjm"},(0,k.tx)("favorited_resources.custom_sections_banner_header")),l.createElement("div",{role:"button",tabIndex:0,className:"sidebar--closeX---nRcN",onClick:e=>R(e)},l.createElement(j.B,{svg:ip.default}))),l.createElement("div",{className:"sidebar--betaAnnouncementBodyContainer--8u60g"},l.createElement("p",null,(0,k.tx)("favorited_resources.custom_sections_banner_body")),l.createElement("br",null),l.createElement("p",null,l.createElement(tO.tM,{className:"sidebar--betaAnnouncementButton--RCpKp",onClick:e=>F(e)},(0,k.tx)("favorited_resources.custom_sections_banner_create_new_section_button"))))):null),eh=!(e.showLoadingState||e.showingFileBrowserLoader);return l.createElement(tD.A,{loadingElementId:"filebrowser-loading-sidebar",loaded:eh,backgroundColor:"default"},l.createElement("div",{className:S.cx.flex.flexColumn.wFull.$},l.createElement(il,{hasBottomBorder:x}),l.createElement(tB.P,{className:"sidebar--sidebarScrollContainer--Z95XT",innerClassName:S.cx.hFull.$,scrollingDisabled:!1,onScroll:e=>b(e)},l.createElement(tU.a,{onIntersectionChange:t=>{N(!t.isIntersecting),t.isIntersecting||w||(e.trackScroll(),T(!0))}}),l.createElement("div",{className:B()("sidebar--navContent--15V3f",{"sidebar--grabbingCursor--6rbhU":eg})},l.createElement("div",{className:S.cx.flexGrow1.flex.flexColumn.$},l.createElement(l.Fragment,null,l.createElement(t3,null),!1,(0,p.kc)().ps_benchmark&&l.createElement(aS.r,{selectedView:m,dispatch:t}),l.createElement("div",{className:aC}),l.createElement("div",{className:S.cx.ml8.mr8.mt2.mb2.$},l.createElement(n_.b,null)),(0,p.kc)().xr_debounce_threshold&&W&&$&&$.permission!==e2._D.GUEST?l.createElement(id,null):null,U&&l.createElement(aN.s,{folder:U,selectedView:m,dispatch:t,shouldHideCreateFileButton:e.isShowingLockedRedesign}),l.createElement(ax,{userStateLoaded:d,sidebarData:e.sidebarData}),O&&l.createElement(l.Fragment,null,D?l.createElement(l.Fragment,null,l.createElement(no,{selectedView:m}),(0,p.kc)().pdr_trashed_section&&l.createElement(i_,null)):l.createElement(l.Fragment,null,l.createElement(a_,{selectedView:m}),(0,p.kc)().pdr_trashed_section&&l.createElement(i_,null),l.createElement(ej,{selectedView:m}),e.FBGNavigationUpdatesTreatment!==eM.ih.CONTROL&&l.createElement(im,{selectedView:m,teamFolderId:e.teamFolderId,teamFolderName:e.teamFolderName}))),ef===nZ.BETWEEN_CONTENT&&l.createElement("div",{className:aT},!!e_&&l.createElement("div",{className:S.cx.my8.mx0.h1.$,style:tV.sx.add({backgroundColor:"var(--color-border)"}).$}),Q()),!($&&W)&&eu&&l.createElement("div",{className:aC}),$&&W&&(d?l.createElement(l.Fragment,null,l.createElement(nu,null),(0,p.kc)().pdr_trashed_section&&l.createElement(i_,null),W&&$&&!E.Ay.mobile&&l.createElement(l.Fragment,null,l.createElement(au,{selectedView:m,org:W,orgUser:$}),G&&l.createElement(tz,null))):l.createElement("div",{className:aI},l.createElement(tM.kt,null))),Y&&eE,d?l.createElement(l.Fragment,null,r?l.createElement(r8,{fileBrowserPreferences:e.sidebarData?.fileBrowserPreferences,favoritedFiles:es,favoritedPrototypes:ec,favoritedProjects:ed,favoritedTeams:eo?.favoritedTeams,favoritedWorkspaces:eo?.favoritedWorkspaces,userSidebarSections:eo?.userSidebarSections?(0,tP.oA)(eo.userSidebarSections):[],isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,previewYOffset:y}):l.createElement(l.Fragment,null,eu&&l.createElement(r4,{fileBrowserPreferences:e.sidebarData?.fileBrowserPreferences,favoritedFiles:es,favoritedPrototypes:ec,favoritedProjects:ed,favoritedTeams:null,favoritedWorkspaces:null,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,previewYOffset:y}),!O&&ei&&l.createElement(l.Fragment,null,l.createElement("div",{className:aC}),l.createElement("div",{className:B()(["sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa","sidebar--sharedProjectsSectionHeaderContainer--yEyoT sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"])},l.createElement(L.E,null,(0,k.tx)("file_browser.shared_projects"))),en)),(0,p.kc)().ps_benchmark&&O&&l.createElement(ni,{teamUser:eo?.currentTeamUser,dataDriftCorrectedTeamResources:e.dataDriftCorrectedTeamResources,previewYOffset:y}),(()=>{if(O||(0,eq.D6)(r))return l.createElement(l.Fragment,null);let t=(0,tq.yR)(e.sidebarData?.teamRoles?.map(e=>e.team).filter(e=>!!e)||[],e.sidebarData?.fileBrowserPreferences?.orderedTeamIds||[]);return l.createElement(l.Fragment,null,l.createElement("div",{className:aC}),ee(),!e.isEnterpriseSidenavEnabled&&l.createElement("div",{className:S.cx.if(!h,S.cx.hidden).$},l.createElement(ns,{sidebarData:e.sidebarData,projectsByTeam:e.projectsByTeam,isEnterpriseSidenavEnabled:!1,orderedTeams:t,contextSelectedFolder:V,onFolderRenameClick:e=>A(e)}),J(),l.createElement("div",{ref:f}),X()))})()):l.createElement("div",{className:aI},l.createElement(tM.kt,null)),ef===nZ.AFTER_CONTENT&&l.createElement("div",{className:S.cx.sticky.bottom0.colorBg.pb10.pt12.$},Q()))),l.createElement(tU.a,{onInitialLoad:e=>{C(!e)},onIntersectionChange:e=>{C(!e.isIntersecting)}}))),l.createElement(ir,{hasTopBorder:ef===nZ.BETWEEN_CONTENT&&(I||x),shouldShowUUBInFooter:ef===nZ.IN_FOOTER})))}function iE(e){let t;let a=(0,e1.iZ)(),r=(0,eX.dq)(),n=(0,tk.d)(),i=(0,eX.sZ)(),o=(0,s.d4)(e=>e.currentTeamId),c=(0,eJ.FC)(),d=(0,s.wA)(),m=(0,tA.Q)({currentOrgId:r,currentTeamId:(0,p.kc)().ps_benchmark&&o||null}),u=(0,e1.TA)(),_=(0,s.d4)(e=>u?e.authedUsers.byId[u]?.plans:null),[{status:g,data:E}]=(0,f.IT)((0,J.Xg)({teamId:o||void 0}),{enabled:!n}),h="loaded"===g&&E?.length===1?E[0]:null,v=h?.id,y=h?.name,b=!(0,eL.canMemberOrg)(i?.id??null,c),w="loaded"===m.status?m.data:null,T="loaded"!==m.status,I={},C={},x=[],N=(w?.currentUser?.sharedProjectRolesWithoutOrgDeletedDrafts||[]).filter(e=>{let{project:t}=e;if(!t)return!1;let a=t.team?.orgId||t.orgId;return r?a===r:!a}),S=(0,tR.vt)(o),k=(0,eM.Yz)(),L=N.length>0,A=(0,l.useMemo)(()=>w?{...w.currentUser}:null,[w]),R=l.useMemo(()=>{if(A&&A.currentTeamUser&&o)return(0,eq.TF)(A,o,_)},[A,o,_]),F=e.showingFileBrowserLoader;if(l.useEffect(()=>{if((0,p.kc)().ps_benchmark&&o&&A&&A?.currentTeamUser){let e=A.currentTeamUser;!e.fileBrowserPreferences&&A.fileBrowserPreferences&&d(tC.Sh({prefs:A.fileBrowserPreferences,orderedFolderSubscriptions:A.fileBrowserSectionPreferences?.filter(e=>e.teamId===o)[0]?.orderedFolderIds??[],teamUser:e}))}},[o,A,d]),A){let e;t=A.privilegedOrgUser?.licenseGroupMember?.licenseGroup;let a=[],n=new Set;for(let e of A.teamRoles||[])e.team?.orgId!==r||e.team?.deletedAt||e.pending||(a.push(e),n.add(e.team.id),e.team?.licenseGroupId?(C[e.team.licenseGroupId]=C[e.team.licenseGroupId]||[],C[e.team.licenseGroupId].push(e)):e.team&&x.push(e));if(A.teamRoles=a,r&&A.baseOrgUser){let e=A.baseOrgUser;A.fileBrowserPreferences=e.fileBrowserPreferences,A.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else(0,p.kc)().ps_benchmark&&o&&A.currentTeamUser&&(A.fileBrowserPreferences=A.currentTeamUser?.fileBrowserPreferences);let i=(A.projectSubscriptions||[]).sort((e,t)=>e.projectV2?.path?.toLowerCase()<t.projectV2?.path?.toLowerCase()?-1:1),l={};for(let e of i){let t=e.projectV2;if(!t||(l[t.id]=e.id,(t.team?t.team.orgId!==r:t.orgId!==r)||!t.team&&""===t.path||t.team&&""===t.path&&(0,p.kc)().ps_benchmark))continue;let a=n.has(t.teamId)?t.teamId:tb.USER_FOLDERS;I[a]=I[a]||[],I[a].push(t)}tx.zL(l),e=(0,p.kc)().ps_benchmark&&o?w?.currentUser.currentTeamUser?.draftsProject:r?w?.currentUser.baseOrgUser?.draftsProject:w?.currentUser.draftsProject,I[tb.USER_DRAFTS]=e?[e]:[]}return l.createElement(ig,{showingFileBrowserLoader:F,hasSharedProjects:L,sidebarData:A,projectsByTeam:I,teamRolesByLicenseGroup:C,teamsUnassignedToLicenseGroup:x,mainLicenseGroup:t,isEnterpriseSidenavEnabled:(0,tL.LU)(i??void 0,b,A??void 0),dataDriftCorrectedTeamResources:R,showLoadingState:T,trackScroll:()=>(0,tN.uE)("Sidebar Scrolled",{user:a}),isShowingLockedRedesign:k(S),FBGNavigationUpdatesTreatment:(0,eM.fn)(),teamFolderId:v,teamFolderName:y})}var ih=(e=>(e.FILE_BROWSER="FileBrowserSidebar",e.ADMIN="AdminSettingsSidebar",e))(ih||{});function iv(e){let t=(0,s.d4)(e=>e.mobileNavShown),a=(0,eM.Cv)(),r=(0,U.A)()&&a()?"AdminSettingsSidebar":"FileBrowserSidebar";return l.createElement("nav",{className:B()("sidebar--navDefault--pYuzm",{"sidebar--showMobileNav--YiFit":t})},l.createElement(O.tH,{boundaryKey:r,fallback:l.createElement(tI.R,null),hasCustomWASMBuild:tS.y4},"FileBrowserSidebar"===r?l.createElement(iE,{...e}):l.createElement(F.ay,null)))}var iy=a(697551),ib=a(411916),iw=a(935757),iT=a(435011),iI=a(637590),iC=a(757782),ix=a(726732),iN=a(355025),iS=a(929018),ik=a(809838),iL=a(91408),iA=a(170588),iR=a(29914),iF=a(299321),iP=a(539321),iO=a(568214),iD=a(138392),iM=a(168039),iB=a(231959),iU=a(42173);let iV=(0,n1.eU)(void 0),iH=(0,iO.H0)("#2c2c2c");function iW(e,t,a){try{let r=(0,iO.H0)(t),n=(0,iO.kx)(r),i=(0,iD.oN)(t,!n,n);return a&&i!==t&&(0,el.sx)("workspace_background_color_adjusted_for_accessibility",{workspace_id:e,original_background_color:t,adjusted_background_color:i}),i}catch(e){console.error(e)}return t}function ij(e){let t=(0,ef.md)(iV);if(!e||"unset"===t)return;let a=(e.colorConfig?.colors??[])[0];return t?(0,iP.colorToHex)(t):a}function i$(e){return!!e&&"unset"!==e}function iG(e){let t=(0,iM.DP)(),a=ij(e);if(a&&("light"===t||"dark"===t))return(0,iO.kx)(a)!==("dark"===t)}function iY(e){return e&&e!==iB.O&&"colorConfig"in e?e:void 0}function iz(e){return void 0!==e.team_id}function iQ(e,t){if(e!==iB.O){if("team_id"in e&&e.team_id)return t.teams[e.team_id];if("workspace_id"in e)return e}}var iK=a(383986),iq=a(127391);function iZ(e){return l.createElement(nH.Y,{spacing:4},l.createElement(iq.H,{entityId:e.planEntity.id,entityName:e.planEntity.name,imgUrl:e.planEntity.img_url}),l.createElement(L.E,{fontSize:13,color:"secondary"},e.planEntity.name))}let iX={folder:e=>e?{view:"folder",folderId:e}:void 0,team:e=>e?{view:"team",teamId:e}:void 0,workspace:e=>({view:"workspace",subView:am.V0.DIRECTORY,workspaceId:e??null,selectedTab:am.dN.TEAMS}),org:e=>e?{view:"org",orgId:e,orgViewTab:tZ.X.HOME}:void 0};function iJ({resource:e}){let t=(0,s.wA)(),a=(0,eJ.FC)(),r=(0,ab.b_)({migrationGroup:aw.L.GROUP_1,component:"BreadcrumbsContainer"}),n=(0,ab.u3)({migrationGroup:aw.L.GROUP_1,component:"BreadcrumbsContainer"}),i=ij(iY(e)),o=(0,nf.Rs)(nE.bUn,{orgId:r??null},{enabled:n}),c="loaded"!==o.status,d=o.data?.org?.workspaces??[],m=function(e,t){let a=(0,nJ.R)(e=>({currentUserOrgId:e.currentUserOrgId,teams:e.teams,orgById:e.orgById}));return(0,l.useMemo)(()=>({folder:iz(e)?e:void 0,team:iQ(e,a),workspace:function(e,t,a){let r=iQ(e,t);if(e===iB.O);else if(r&&r.workspace_id)return a?.find(e=>e.id===r.workspace_id);else if(r&&!r.workspace_id&&r.org_id){let e=t.orgById[r.org_id];return e?.workspaces_count?iB.O:void 0}else if("domain_capture"in e||iz(e)||"workspace_id"in e)return;return e}(e,a,t),org:function(e,t){let a=iQ(e,t);return a?.org_id?t.orgById[a.org_id]:e===iB.O?t.currentUserOrgId?t.orgById[t.currentUserOrgId]:void 0:"org_id"in e?e.org_id?t.orgById[e.org_id]:void 0:"orgId"in e?e.orgId?t.orgById[e.orgId]:void 0:"domain_capture"in e?e:void 0}(e,a)}),[e,a,t])}(e,c?[]:[...d]);if(n||m.org?r!==m.org?.id:!m.team||!(0,eL.canViewTeam)(m.team.id,a)){let e=m.org??m.team;return e?l.createElement(iZ,{planEntity:e}):null}let u=e===iB.O?void 0:e.id,_=(e,a)=>{let n=a===iB.O?void 0:a.id,i=iX[e](n);(0,tN.Cu)({clickedResourceType:e,clickedResourceId:n,currentResource:u,orgId:r}),i&&t(K.$T(i))},p=["org","workspace","team","folder"].reduce((e,t)=>{let a=m[t];if(a){let r="workspace"===t&&!a.canView,n=a===iK.s?(0,k.t)("breadcrumbs.unassigned_license_group"):r?(0,k.t)("breadcrumbs.private_workspace_ellipses"):a?.name;e.push({text:n,onClick:()=>{r||_(t,a)},parentBackgroundColor:i,isHoverable:!(a===iK.s||r)})}return e},[]);return p.pop(),l.createElement(N.B,{items:p})}function i0(e){return e.rightSideActions?l.createElement(i1,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function i1(e){let t=(0,nf.Rs)(nE.RIo,{orgId:null});return((0,nf.ap)(t,"file_creation_defaults_latency"),"loaded"!==t.status)?null:l.createElement("div",{className:S.cx.flex.justifyBetween.wFull.itemsCenter.columnGap16.$},e.headerLabel,l.createElement("div",{className:S.cx.flex.gap8.$},e.rightSideActions))}function i2(e){let t=ij(iY(e.resource));return l.createElement("div",{className:S.cx.if(e.showNavigationChevrons,S.cx.pl20,S.cx.pl32).if(!!e.pageHeaderContent,S.cx.bb1.colorBorder.bSolid).flex.flexRow.flexShrink0.gap8.itemsCenter.h48.pr32.$,style:{backgroundColor:t},"data-testid":"file-browser-desktop-header"},e.showNavigationChevrons&&l.createElement(ik.J,{parentBackgroundColor:t}),e.pageHeaderContent?l.createElement("span",{className:S.cx.minW0.wFull.$},l.createElement(i0,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})):e.resource&&l.createElement(iJ,{resource:e.resource}))}var i4=a(837746);let i8=(0,iL.jz)(i4.tgj);function i3(e){return l.createElement(l.Fragment,null,l.createElement(iA.z,{query:`(min-width: ${i8}px)`,defaultClass:S.cx.sticky.top0.colorBg.zIndexTopBar.$},l.createElement(i2,{resource:e.breadcrumbResource,pageHeaderContent:e.pageHeaderContent?l.createElement(L.E,{fontSize:13,truncate:!0},e.pageHeaderContent):void 0,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})),e.pageHeaderContent&&l.createElement(iR.i,{tabs:[l.createElement(L.E,{key:"mobilePageHeaderKey",truncate:!0},e.pageHeaderContent)]}))}function i5(e){let t=l.useRef(null),a=(0,s.d4)(({selectedView:e})=>e),r=(0,eX.dq)(),n=(0,ik.E)(),i=(0,s.d4)(iT.iy),o=(0,ar.P)(r,(0,s.d4)(iT.o$)),m=(0,eM.Cv)(),u=(0,iN.K)(),_=(0,eX.sZ)(),f=u&&_&&!iI.T8.includes(a.view);!function(){let e=(0,p.kc)().ps_benchmark,t=(0,s.Pj)();l.useEffect(()=>{if(!e)return;let a=t.getState(),r=(0,eL.getPermissionsState)(a),n=(0,ib.vp)(r.user,r.currentUserOrgId,r.currentTeamId);n&&(0,iw.Y9)(n.userId,(0,iy.d9)(a.selectedView),n.orgId,void 0,n.teamId)},[t,e])}();let g=i||o.data||void 0,E="orgAdminSettings"===a.view||"licenseGroup"===a.view&&a.subView===ac.GN.ADMIN||"workspace"===a.view&&a.subView===am.V0.ADMIN||"billingGroupDashboard"===a.view||("teamAdminConsole"===a.view||"abandonedDraftFiles"===a.view||"orgDomainManagement"===a.view)&&m(),h=!e.showingFileBrowserLoader&&!E&&(!!d.eD||(0,c.ce)()||g||e.pageHeaderContent);return l.useEffect(()=>{let e=e=>{e.keyCode===P.Uz.PERIOD&&document.activeElement?.tagName==="BODY"&&(0,p.kc)().internal_only_debug_tools&&(0,p.kc)().figment_debugger&&(0,ix.Y)()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),l.createElement("div",{className:S.cx.flex.flexRow.flexGrow1.$,ref:t},l.createElement(iv,{showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),l.createElement("div",{className:"file_browser_layout--fileBrowserPageViewContainer--m7oe2"},h&&l.createElement(O.tH,{boundaryKey:"FileBrowserPageHeader",fallback:O.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:tS.y4},l.createElement(i3,{pageHeaderContent:e.pageHeaderContent,pageHeaderActions:e.pageHeaderActions,breadcrumbResource:g,showNavigationChevrons:n})),l.createElement(O.tH,{boundaryKey:"FileBrowserLayout-content",fallback:l.createElement(tI.R,null),hasCustomWASMBuild:tS.y4},!e.showingFileBrowserLoader&&(f?l.createElement(iS.H,{org:_,isInFileBrowser:!0}):l.createElement(D.z,{layoutRef:t},e.children)))),l.createElement(iC.G,{entryPoint:iC.Q.FILE_BROWSER}))}var i9=a(90885);a(461816),(n||(n={})).filter=function(e,t){return"loaded"!==e.status?e:(0,tP.gB)(e.data.filter(t))};var i6=a(676485),i7=a(981911),oe=a(124423),ot=a(935938),oa=a(516724);function or(e){let[t,a]=l.useState(!1),r=(0,s.wA)(),n=(0,s.d4)(e=>e.selectedView),i=(0,eJ.FC)(),o=e.team,c=()=>{(0,tN._J)("file_browser_team_click",o.id,i,{selectedView:"recentsAndSharing"===n.view?n.tab||ot.G.RECENTLY_VIEWED:n.view,viewMode:"grid"}),r(q.kg({clickedResourceType:"team",resourceIdOrKey:o.id})),r(K.$T({view:"team",teamId:o.id}))},d=e.selectedTeamId===e.team.id,m=t||d;return l.createElement(oe.a,{name:o.name,description:o.description,headerLeft:l.createElement(ap.Ro,{className:oa.rP,entity:o,size:40}),headerRight:l.createElement(i7.m,{team:o,onLeave:e.onLeave,isCardActive:m}),onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&c()},canView:!0,isCardActive:m,isSelected:d,onMouseOver:()=>{a(!0)},onMouseOut:()=>{a(!1)}})}function on(e){let t=e.teams;(0,V.KQ)(t,"name");let[a,r]=l.useState(void 0);return l.createElement(i6.X,{emptyView:(0,k.tx)("team_tile.guest.no_teams.info",{orgName:e.orgName})},t.map(t=>l.createElement(or,{key:t.id,team:t,onLeave:e.onLeave,selectedTeamId:a,setSelectedTeamId:r})))}var oi=a(502972),oo=a(257862);function ol(e){let t=[...e.orgTeams.data||[]],a=t.length<V.Tw;(0,V.KQ)(t,"name",{useExpensiveNaturalComparison:a});let r="loaded"!==e.orgTeams.status,[n,i]=l.useState(void 0),o=(0,s.wA)(),c=(e,t)=>{e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};i(t.id),o(K.j7({type:e_.RQ,data:{teamId:t.id,targetRect:a}}))};return l.createElement(i6.X,{isLoading:r,emptyView:e.emptyView??l.createElement(oi.C,{onCreateTeam:e.onCreateTeam})},t.map(t=>l.createElement(oo.mc,{key:t.id,team:t,onJoin:e.onJoin,onLeave:e.onLeave,setSelectedTeamId:i,selectedTeamId:n,onContextMenu:c,inItemsView:!1})))}var os=a(561530),oc=a(377090),od=a(937294),om=a(626322),ou=a(590564);let o_=(0,n1.eU)(()=>(0,tP.gB)([])),op=(0,s.Ng)(e=>({teamRoleRequests:e.teamRoleRequests,currentOrgUser:e.orgUsersByOrgId[e.currentUserOrgId][e.user.id],teams:e.teams,user:e.user,roles:e.roles,org:e.orgById[e.currentUserOrgId],orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name,permissionsState:(0,eL.getPermissionsStateMemoized)(e)}))(function(e){let t=(0,s.wA)(),a=()=>{let a={workspaceId:e.workspaceId??iB.O};t(eY.to({type:tX.Uc,data:a}))},r=n.filter(e.orgTeams,t=>{if(e.onlyJoinedTeams)return(0,eL.hasViewerRoleAccessOnTeam)(t.id,e.permissionsState);if(null===e.workspaceId){if(t.workspace_id)return!1}else if(e.workspaceId&&t.workspace_id!==e.workspaceId)return!1;return(0,od.dP)(t,e.permissionsState,e.orgId)}),i=l.useMemo(()=>{let e=r.data??[],t=e.length<V.Tw;return(0,V.KQ)(e,"name",{useExpensiveNaturalComparison:t}),e},[r]),o=e.currentOrgUser&&e.currentOrgUser.permission===e2._D.GUEST,c=Object.keys((0,om.t)(e.roles.byTeamId,e.user.id)).filter(t=>e.teams[t]);if(o){let{orgId:a}=e,r=c.map(t=>e.teams[t]).filter(e=>e.org_id===a);return l.createElement(on,{teams:r,onLeave:e=>{t(eY.to({type:ou.p,data:{teamId:e.id}}))},orgName:e.orgName})}return(0,p.kc)().teams_in_items_view?l.createElement("div",{className:S.cx.mt24.$},l.createElement(os.H,{orgTeams:i,orgTeamStatus:r.status,onCreateTeam:e.canCreateTeam?a:void 0,emptyView:e.workspaceId&&!e.canCreateTeam?(0,k.t)("team_tile.no_teams.empty_workspace"):void 0})):l.createElement(ol,{orgTeams:r,onJoin:e=>(0,oc.GR)(t,e)(),onLeave:e=>{t(eY.to({type:ou.p,data:{teamId:e.id}}))},onCreateTeam:e.canCreateTeam?a:void 0,emptyView:e.workspaceId&&!e.canCreateTeam?(0,k.t)("team_tile.no_teams.empty_workspace"):void 0})});function of(e){let{onLoad:t}=e,a=(0,eX.sZ)(),r=(0,eJ.FC)(),n=!(0,eL.canMemberOrg)(a?.id??null,r),i=(0,ef.md)(n?o_:i9.E),{canCreateTeam:o}=(0,ar.LM)(a,e.workspaceId);return l.useEffect(()=>{n||"loaded"!==i.status||t?.()},[t,i.status,n]),l.createElement(op,{orgTeams:i,workspaceId:e.workspaceId,canCreateTeam:o,onlyJoinedTeams:e.onlyJoinedTeams})}function og({workspaceId:e,onLoad:t}){return l.createElement("section",{"aria-label":(0,k.t)("file_browser.teams")},l.createElement("div",{className:S.cx.mx32.textBodyLargeStrong.$},l.createElement("div",null,(0,k.t)("file_browser.teams"))),l.createElement(of,{workspaceId:e,onLoad:t}))}var oE=a(239831);function oh({avatar:e,title:t,rightSideActions:a,rightSideOfTitleAction:r,pageHeaderIcon:n,textColor:i,badge:o}){return l.createElement("div",{className:B()(S.cx.mt12.mx32.mb20.$,"page_header--mx16Mobile--8Eihb")},l.createElement("div",{className:S.cx.flex.mt8.itemsCenter.justifyBetween.$},l.createElement("div",{className:S.cx.flex.itemsCenter.h40.minW0.$},e,l.createElement("div",{className:S.cx.wFull.overflowHidden.$,style:tV.sx.if(e&&!n,tV.sx.ml16).$},l.createElement("span",{className:S.cx.flex.itemsCenter.$},n,l.createElement(L.E,{color:i,fontSize:24,truncate:"line-clamp",lineClamp:2},t," "),l.createElement("div",{className:S.cx.ml8.$},o),r&&r.element))),l.createElement("div",{className:S.cx.flex.ml16.gap8.$},a?.map(e=>l.createElement(oE.K,{action:e,key:e.key})))))}function ov(e){let{belowHeaderItem:t,...a}=e;return l.createElement(l.Fragment,null,l.createElement(iR.i,{tabs:null,hideToolBarOnMobile:!0}),l.createElement(oh,{...a}),t)}var oy=a(481373),ob=a(939683);function ow(e){return l.createElement(r3.nR,{className:"button_custom--buttonSecondaryDisabled--9JtXq","data-tooltip-type":eR.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onMouseEnter:e.onMouseEnter},e.text)}function oT({backgroundColor:e}){let t=(0,ob.NV)(tN.WL),a=(0,s.d4)(e=>e.selectedView.view),r=(0,k.t)("license_group_view.toolbar.new_team_button"),n=()=>{t(tN.jd,{placement:a})};return e?l.createElement("button",{className:B()("button_custom--buttonBase--H2KEL button--buttonBase---72nl",(0,iO.kx)(e)?"button_custom--buttonColorsForDarkBackground--CiydL":"button_custom--buttonColorsForLightBackground--wejKf","button_custom--buttonHugContents--Ntibj"),"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:n,disabled:!0},l.createElement(L.E,{fontSize:11,fontWeight:"medium",truncate:!0},r)):l.createElement(ow,{text:r,tooltipText:(0,k.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:n})}var oI=a(96796),oC=a(46481),ox=a(553015);let oN=l.forwardRef(function({disabled:e,onClick:t,onKeyDown:a,icon:r,children:n,onFocus:i,onBlur:o},s){let c=l.useCallback(e=>{a?.(e),e.keyCode===P.Uz.ESCAPE&&e.currentTarget.blur()},[a]);return l.createElement("button",{disabled:e,onClick:t,onKeyDown:c,className:B()("inverted_inverse_button--buttonBase--P39G5 button--buttonBase---72nl","inverted_inverse_button--buttonColors--7P1RD","inverted_inverse_button--buttonHugContents--PlfBM"),onFocus:i,onBlur:o,ref:s},r&&l.createElement("div",{className:"inverted_inverse_button--iconContainer--nR8Kk"},l.createElement(eD.In,{icon:r})),n&&l.createElement(L.E,{fontSize:11,fontWeight:"medium",truncate:!0},n))});var oS=a(783423),ok=a(740998);let oL=(e,t)=>{if(t)return S.cx.colorIconDisabled.$;switch(e){case"primary":case"destructive":case"success":case"toolbar-secondary":return S.cx.colorIconOnbrand.$;case"inverse":return S.cx.colorIconOninverse.$;default:return S.cx.colorIcon.$}},oA=l.forwardRef((e,t)=>{let a=l.createElement("div",{className:S.cx.flex.gap6.itemsCenter.$,"data-testid":e.dataTestId},l.createElement(j.B,{className:oL(e.variant,e.disabled),svg:ok.A}),l.createElement(L.E,null,e.text),e.hasDropdown&&l.createElement(oC.U,{className:oL(e.variant,e.disabled),svg:oS.A},l.createElement(oI.O,{className:"plus_button--icon--zl7Xl"})));return"inverted-inverse"===e.variant?l.createElement(oN,{onMouseDown:e.onMouseDown?e.onMouseDown:g.lQ,onClick:e.onMouseDown?g.lQ:e.onClick,disabled:e.disabled},a):l.createElement(ox.$,{"data-onboarding-key":e["data-onboarding-key"],variant:e.variant,onMouseDown:e.onMouseDown?e.onMouseDown:g.lQ,onClick:e.onMouseDown?g.lQ:e.onClick,disabled:e.disabled,ref:t},a)});var oR=a(895379);function oF(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,ea._6)();return()=>{a?t(eY.to({type:tX.Uc,data:{workspaceId:e??iB.O}})):t(q.Dw({previousView:r}))}}function oP({workspace:e,org:t}){let{canCreateTeam:a,cannotCreateTeamReason:r}=(0,ar.LM)(t,e?.id??null),n=iG(e),i=ij(e),o=oF(e?.id);return r===ar.z4.TEAM_CREATION_CONTROL?{kind:oR.A.CUSTOM,key:oR.D.NEW_TEAM,element:l.createElement(oT,{backgroundColor:i})}:a?{kind:oR.A.CUSTOM,key:oR.D.NEW_TEAM,element:l.createElement(oA,{onClick:o,variant:n?"inverted-inverse":"inverse",text:(0,k.t)("license_group_view.toolbar.new_team_button")})}:null}function oO(){let e=(0,eX.sZ)(),t=oP({org:e,workspace:null});return l.createElement(oy.r,{header:l.createElement(ov,{title:(0,k.t)("license_group_view.meta.unassigned_title",{orgName:e.name}),rightSideActions:t?[t]:void 0}),content:l.createElement("div",{className:S.cx.flex.flexColumn.my24.$},l.createElement(og,{workspaceId:null}))})}var oD=a(776551),oM=a(798099),oB=a(292164);function oU(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,s.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&e.dropdownOptions&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,i=(0,ez.j6)();return l.createElement("button",{ref:a,onClick:()=>{a.current&&t(K.j7({type:e.dropdownKey,data:{targetRect:a.current.getBoundingClientRect()}}))},onMouseDown:oM.dG,className:S.cx.bgNone.ml8.$,"aria-label":e.buttonAriaLabel},l.createElement(j.B,{svg:oB.A,className:B()("page_header_dropdown--dropdownIcon--tr-Wo",e.dropdownColorClassName?e.dropdownColorClassName:"page_header_dropdown--dropdownIconColor--kMRsm")}),n&&l.createElement(aP.j,{parentRect:r.data.targetRect,minWidth:224,rootAndSubmenuMaxWidth:224,items:e.dropdownOptions,dispatch:t,onSelectItem:e=>{e.callback&&e.callback("",null,t),e.trackingProperties&&(0,tN.Cu)({...i.properties,trackingContext:i.name,...e.trackingProperties})},showPoint:!0}))}var oV=a(268537),oH=a(56342),oW=a(300587),oj=a(677859),o$=a(662599),oG=(e=>(e.SOLID="solid",e.NO_FILL="no_fill",e))(oG||{});function oY({selectedFillOption:e,onSelectFillOption:t}){let a={solid:(0,k.t)("workspace_view.toolbar.solid"),no_fill:(0,k.t)("workspace_view.toolbar.no_fill")};return l.createElement(oV.Ve,{className:S.cx.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return l.createElement(oj.$n,{className:S.cx.ml4.mr4.$,role:"combobox",onClick:t,caret:"down"},l.createElement("span",{className:S.cx.minW32.mr8.$},a[e]))},dropdownOptionsClassName:S.cx.mt4.$,options:["solid","no_fill"].map((e,r)=>l.createElement(oV.c$,{className:S.cx.colorTextMenuSecondary.$,key:r,id:e,onClick:()=>{t(e)}},a[e])),optionsBelowSelector:!0,noBorder:!0})}let oz=rl.M4.Mutation(async e=>{await oH.u.updateColor(e)});function oQ({workspace:e,onClose:t}){let a=(0,s.wA)(),r=(0,rl.n_)(oz),n=[{option:iH},...(0,iU.TS)("base").filter(e=>!(0,iO.DA)(e,(0,iU.BV)(iF.daH.BLACK,"base"))).map(e=>({option:e})),...(0,iU.TS)("baseLight").map(e=>({option:e}))],i=l.useRef(null),[o,c]=l.useState(!1),d=(0,iM.DP)(),m=function(e){try{if(e)return(0,iO.H0)(e)}catch(e){console.error(e)}}((e?.colorConfig?.colors??[])[0]),[u,_]=l.useState(m?"solid":"no_fill"),[p,f]=(0,ef.fp)(iV);return l.useEffect(()=>(f(m),()=>{f(void 0)}),[]),l.useEffect(()=>{if(!o){let e=e=>{"Escape"===e.key&&t()},a=e=>{i.current&&!i.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",a)}}},[o,t]),l.createElement(l.Fragment,null,l.createElement("div",{role:"button","aria-label":(0,k.t)("common.close"),tabIndex:0,className:S.cx.absolute.wFull.hFull.top0.left0.zIndexTertiaryModal.$,onClick:t}),l.createElement("div",{className:S.cx.absolute.flex.h40.justifyCenter.alignCenter.flexShrink0.bRadius4.colorBgMenu.elevation400.mt8.ml32.zIndexModal.$,ref:i},l.createElement(oY,{selectedFillOption:u,onSelectFillOption:e=>{if(_(e),"solid"===e){let e="dark"===d?iH:iO.UE;f(m??e)}else f("unset")}}),i$(p)&&l.createElement(l.Fragment,null,l.createElement(oj.wv,null),l.createElement(oW.qW,{buttonClassName:S.cx.ml2.mr2.$,options:n,value:{option:p},onColorChange:e=>{f(e.option)},paletteType:"base",fixedNumColumns:9,optionSize:"medium",buttonSize:"xsmall",shouldDisableDataTooltip:!0,dropperDisabled:!0,positionX:()=>0,positionY:(e,t)=>(0,o$.DH)(e,t,4),shouldCustomColorPopoverCloseOnEscape:!0,isColorPopoverOpen:o,setIsColorPopoverOpen:c,hasNonWhiteboardColors:!0})),l.createElement(oj.wv,null),l.createElement(oj.$n,{className:S.cx.ml4.mr2.$,onClick:t},l.createElement("span",{className:S.cx.mr1.colorTextToolbarSecondary.$},(0,k.t)("workspace_view.color.toolbar.cancel"))),l.createElement(oj.$n,{className:S.cx.mr8.$,onClick:()=>{r({workspaceId:e.id,colors:i$(p)?[(0,iP.colorToHex)(p)]:[],onfulfilled:()=>a(a0.F.enqueue({message:(0,k.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,k.t)("workspace_view.toolbar.workspace_color_update_error");a($.s.error(e)),console.error(e)}}),t()}},l.createElement("span",{className:S.cx.colorTextOnbrand.$},(0,k.t)("workspace_view.color.toolbar.save")))))}var oK=a(353265);let oq=rl.M4.Mutation(async e=>{await oH.u.updateDescription(e)}),oZ=(0,aA.Ju)(function({workspace:e}){let t=(0,s.wA)(),a=(0,rl.n_)(oq);return l.createElement(oK.c,{title:(0,k.t)("workspace_view.description_modal.title"),subtitle:l.createElement("div",{className:S.cx.mb16.$},l.createElement(L.E,{color:"secondary"},(0,k.tx)("workspace_view.description_modal.subtitle",{allWorkspacesText:l.createElement("span",{className:S.cx.fontSemiBold.$},(0,k.t)("sidebar.browse.all_workspaces"))}))),initialName:e.description??"",placeholder:(0,k.t)("workspace_view.description.placeholder"),submitText:(0,k.t)("workspace_view.description.save"),onRename:r=>a({workspaceId:e.id,description:r}).then(()=>t(a0.F.enqueue({message:(0,k.t)("workspace_view.description_update_updated")})),()=>{let e=(0,k.t)("workspace_view.description_update_error");t($.s.error(e)),console.error(e)})})},"UpdateWorkspaceDescriptionModal");var oX=a(32863),oJ=a(797804);let o0=(0,s.Ng)(e=>({currentUserId:e.user?.id}))(function(e){let t=t=>{t.stopPropagation(),e.canLeave&&e.onLeaveClick()},a=e.members.length,r=e.membersToShow||10;return l.createElement("div",null,!e.removeHeader&&l.createElement("div",{className:S.cx.font13.fontMedium.mb12.$},e.label||(0,k.t)("file_browser.team_overview.member_label")),e.members.slice(0,r).map(a=>{let r=a.id===e.currentUserId,n=e.showAdminBadge&&e.showAdminBadge(a);return l.createElement(ap.az,{key:a.id,size:24,entity:a,className:e.customAvatarRowStyle?e.customAvatarRowStyle:S.cx.font13.mb16.$,showIsMe:r,onClick:e.onMemberClick,badge:n?{color:ec.zE.DEFAULT,text:(0,k.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress},e.canLeave&&r&&l.createElement("span",{onClick:t,className:"members_preview--leaveLink--v8vxs text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd"},(0,k.tx)("file_browser.team.leave_confirm")))}),a>r&&(e.customOverflowRow||l.createElement("div",{className:"members_preview--totalMemberCountContainer--wYQwX",onClick:e.onClickShowMore},l.createElement(j.B,{svg:oJ.A,className:"members_preview--teamIcon--UFW2s"}),l.createElement("div",{className:"members_preview--totalMemberCount--D3Q8a text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.team_overview.num_others",{numMembers:a-r})))))});var o1=a(589640),o2=a(548593),o4=(e=>(e.MEMBERS="MEMBERS",e.ADMINS="ADMINS",e))(o4||{});function o8(e){let t=(0,o2.rw)(),a=new Map([["MEMBERS",(0,k.t)("workspace_view.members_modal.members")],["ADMINS",(0,k.t)("workspace_view.members_modal.admins")]]),r=[];return a.forEach((a,n)=>{r.push(l.createElement(t,{tab:n,mobileNavTabTitle:a,selectedTab:e.selectedTab,key:n,onClick:()=>e.setTab(n)},a))}),l.createElement("div",{className:"workspace_members_modal--tabsContainer--DBh33"},r)}function o3(e){return l.createElement("div",{className:"workspace_members_modal--searchContainer--KGPrU modal--searchContainer--EA8ib"},l.createElement(oX.IW,{className:"workspace_members_modal--searchBar--z110d",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--7DSd4",placeholder:(0,k.t)("workspace_view.members_modal.search_placeholder")}))}function o5(e){return l.createElement("div",{className:"workspace_members_modal--emptyContainer--bTf-s"},l.createElement("div",{className:"workspace_members_modal--emptyState--IwqA2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.content))}let o9=(0,aA.Ju)(function(e){let t=(0,s.wA)(),a=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),r=e.workspace.members.slice().sort(a),n=e.workspace.admins.slice().sort(a),i={};r.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)});let[o,c]=(0,l.useState)("MEMBERS"),[d,m]=(0,l.useState)(r),[u,_]=(0,l.useState)(""),p=l.createElement(o8,{dispatch:t,selectedTab:o,setTab:e=>{_(""),c(e),m("MEMBERS"===e?r:n)}}),f=d.filter(e=>{let t=e.baseOrgUser?.user,a=u.toLocaleLowerCase();return!!t?.email?.toLocaleLowerCase().includes(a)||!!t?.handle.toLocaleLowerCase().includes(a)}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[],g=l.createElement(o3,{query:u,onChange:e=>_(e)}),E=l.createElement(o5,{content:(0,k.tx)("workspace_view.members_modal.no_members",{workspaceName:e.workspace.name})}),h=l.createElement(o5,{content:(0,k.tx)("workspace_view.members_modal.no_admins",{workspaceName:e.workspace.name})}),v=l.createElement(o5,{content:(0,k.tx)("workspace_view.members_modal.no_results",{query:u})}),y=l.createElement(tB.P,{className:"workspace_members_modal--outerContainer--in03x",innerClassName:"workspace_members_modal--membersContainer--16pMi"},l.createElement(o0,{members:f,showAdminBadge:e=>"ADMINS"!==o&&i[e.id]===e2.bp.ADMIN,membersToShow:f.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_members_modal--memberPopup--y5bbv text--fontPos13--xW8hS text--_fontBase--QdLsd admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa",shouldIncludeUserEmailAddress:!0,onMemberClick:(e,a)=>{t(K.$T({view:"user",userId:a.id,userViewTab:o1.o.INTERNAL_PROFILE})),t(eY.Ce())}}));return"MEMBERS"===o?0===r.length?y=E:0===f.length&&(y=v):"ADMINS"===o&&0===n.length&&(y=h),l.createElement(r7.XV,{title:p,headerSize:"large",fixedTop:!0,onClose:()=>{t(eY.Ce())}},l.createElement("div",{className:"workspace_members_modal--modalContainer--3d9wu"},l.createElement(nH.Y,{direction:"vertical",height:"fill-parent",width:"fill-parent",spacing:0},"MEMBERS"===o&&r.length>0&&g," ",y)))},"WORKSPACE_MEMBERS_MODAL",aA.ZU.YES);var o6=a(150823),o7=a(247576);function le(e){let{workspace:t,org:a}=e,r=(0,s.wA)(),n=(0,s.d4)(e=>e.currentUserOrgId),i=(0,s.d4)(e=>e.avatarEditorState),o=t.canAdmin,[c,d]=l.useState(!1),{canCreateTeam:m}=(0,ar.LM)(a,t.id),u=(0,aL.S)(),_=window.innerWidth<=(0,iL.hG)(i4.tgj),p=t?t.id:iB.O,f=iG(t),g=ij(t),E=t?.members||[],h=oF(t.id),v=l.useCallback((e,a,n)=>{if(t){let i={workspace:{id:t.id,name:t.name??"",imgUrl:t.imgUrl},entrypoint:"workspace_page_view",sectionId:n,favoriteId:a};e?r(t5.ZW(i)):r(t5.if(i))}},[r,t]),y=()=>{r(eY.to({type:o9,data:{workspace:e.workspace,tab:o4.MEMBERS}}))},b={kind:oR.A.ICON_TEXT_BUTTON,key:oR.D.VIEW_MEMBERS,displayText:E.length.toString(),onClick:e=>y(),icon:o7.A,svgStyleClass:B()(g?(0,iO.kx)(g)?"workspace_page_header--iconTextButtonSvgForDarkBackground--Sq5Fx workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvgForLightBackground--pL63t workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvg--zStD-"),styleClass:B()(g?(0,iO.kx)(g)?"workspace_page_header--membersButtonForDarkBackground--2IRgt workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt":"workspace_page_header--membersButtonForLightBackground--N75P8 workspace_page_header--favoriteStarContainerForLightBackground--AKL23":void 0),isLoading:e.isWorkspaceMembersLoading},w=l.useMemo(()=>l.createElement(rk.r,{setFavorite:v,favoriteType:e2.bk.WORKSPACE,resourceId:p,isFavoriteHeaderStar:!0,orgId:n,parentBackgroundColor:g,containerStyle:B()(g?(0,iO.kx)(g)?"workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt":"workspace_page_header--favoriteStarContainerForLightBackground--AKL23":void 0,o6.HM)}),[p,v,n,g]),T=function(){let e=(0,s.wA)(),t=(0,e1.TA)(),a=(0,al.of)();return r=>{let n=r.workspace.admins.some(e=>e.baseOrgUser?.user.id===t),i=[];return n&&i.push({displayText:(0,k.t)("workspace_view.toolbar.admin_settings"),callback:()=>{e(K.$T({view:"workspace",subView:am.V0.ADMIN,workspaceId:r.workspace.id,selectedTab:a()}))}}),i.length>0&&i.push({displayText:"",separator:!0}),i.push({displayText:(0,k.t)("file_browser.copy_link"),callback:()=>{let t=(0,al.fO)(r.workspace.id,r.org.id);e(a3.S({url:t}))}}),r.workspace.canAdmin&&(i.push({displayText:(0,k.t)("license_group_view.toolbar.change_icon"),callback:()=>{e((0,eK.X)({entity:r.workspace,entityType:e9.ck.WORKSPACE,shape:"SQUARE"}))}}),i.push({displayText:(0,k.t)("workspace_view.toolbar.change_color"),callback:r.onWorkspaceChangeColorClick}),i.push({displayText:(0,k.t)("workspace_view.description.title"),callback:()=>{e(eY.to({type:oZ,data:{workspace:r.workspace}}))}})),i}}(),I=t&&a?T({workspace:t,org:a,onWorkspaceChangeColorClick:()=>d(!0)}):m&&_?[{displayText:(0,k.t)("org_view.new_team"),callback:h}]:void 0,C=[],x=oP({workspace:t,org:a});if(x&&C.push(x),e.showMembersButton&&C.push(b),u&&t&&C.push({kind:oR.A.CUSTOM,key:oR.D.FAVORITE,element:w}),!t)return l.createElement(ov,{title:(0,k.t)("license_group_view.meta.unassigned_title",{orgName:a.name}),rightSideActions:C});let N=I?{kind:oR.A.CUSTOM,key:oR.D.DROPDOWN,element:l.createElement(oU,{buttonAriaLabel:(0,k.t)("org_view.page_header_dropdown_label"),dropdownKey:`workspace-context-${t.id}`,dropdownOptions:I,dropdownColorClassName:g?(0,iO.kx)(g)?"workspace_page_header--dropdownColorsForDarkBackground--OIHSt":"workspace_page_header--dropdownColorsForLightBackground--uH-aL":void 0})}:void 0;return l.createElement("div",{style:{backgroundColor:e.headerColor}},l.createElement(ov,{avatar:o?l.createElement(te.j,{avatarEditorState:i,entityType:e9.ck.WORKSPACE,entity:t,dispatch:r,size:40}):l.createElement(ap.z6,{entity:t,size:40}),title:g&&(0,iO.kx)(g)?l.createElement("span",{className:"workspace_page_header--titleColorForDarkBackground--Qnjvi"},t.name):t.name,badge:t.orgAccess===e2.bU.SECRET?l.createElement("div",{"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},l.createElement(eD.In,{icon:"lock-16"})):void 0,rightSideActions:C,rightSideOfTitleAction:N,belowHeaderItem:c?l.createElement(oQ,{workspace:t,onClose:()=>d(!1)}):void 0,textColor:f?"oninverse":void 0}))}function lt(e){let t=(0,s.wA)(),a=e.workspace.members,r=l.useMemo(()=>a||[],[a]),n=l.useMemo(()=>r.slice(0).sort(()=>Math.random()-.5),[r]),i={};return r.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)}),l.createElement("div",{className:S.cx.my24.mr8.ml24.$},l.createElement("div",{className:"workspace_page_meta_content--membersHeader--0jaJ3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.t)("workspace_view.sidebar.members")),l.createElement(o0,{removeHeader:!0,members:n.map(e=>e.baseOrgUser?.user).filter(e=>!!e),onMemberClick:(e,a)=>{t(K.$T({view:"user",userId:a.id,userViewTab:o1.o.INTERNAL_PROFILE}))},canLeave:!1,showAdminBadge:e=>i[e.id]===e2.bp.ADMIN,customOverflowRow:l.createElement(l.Fragment,null,l.createElement("button",{className:"workspace_page_meta_content--seeAllMembers--mIOar text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{t(eY.to({type:o9,data:{workspace:e.workspace,tab:o4.MEMBERS}}))}},(0,k.t)("workspace_view.sidebar.see_all_members")))}))}var la=a(330654);function lr({isExpanded:e,fill:t,onClick:a}){return l.createElement("div",{role:"button",tabIndex:-1,className:B()("expand_caret--animation--GOE8s",{"expand_caret--expanded--MmsW9":e}),onClick:a},l.createElement(eD.In,{icon:"caret-right-16",fill:t}))}function ln({isOpen:e,toggleIsOpen:t,collapseHeader:a,content:r}){return l.createElement("div",{className:S.cx.flex.flexColumn.wFull.$},l.createElement("div",{className:S.cx.flex.flexRow.gap4.itemsCenter.wFull.$},l.createElement(lr,{isExpanded:e,fill:"secondary",onClick:t}),a),l.createElement("div",{className:S.cx.grid.ml20.$,"aria-hidden":!e,style:tV.sx.add({transition:"grid-template-rows 0.3s ease"}).if(e,tV.sx.add({gridTemplateRows:"1fr"}),tV.sx.add({gridTemplateRows:"0fr"})).$},l.createElement("div",{className:S.cx.if(!e,S.cx.overflowHidden).$},r)))}var li=a(126049),lo=a(586459),ll=a(635344),ls=a(883913),lc=a(433676),ld=a(550163),lm=a(172522),lu=a(441192),l_=a(445092),lp=a(967409),lf=a(206736);function lg({title:e,confirmText:t,emptyStateText:a,onSelectFile:r,onSubmit:n,files:i,tileClassName:o,renderFileTile:s,renderTileFooter:c,query:d,setQuery:m,gridText:u,shouldDisableTile:_}){let[p,f]=l.useState(null),E=l.useCallback(()=>{p&&n(p)},[n,p]),h=l.useCallback(e=>{if(e.length>0){let t=e[0].key;r?.(t),f(t)}else f(null)},[r]);return l.createElement(lE,{title:e,onSubmit:E,confirmText:t,isDisabled:!p,query:d,onSearchChange:m,clearSearch:()=>m(""),searchPlaceholder:(0,k.t)("file_browser.choose_file_modal.search_for_a_file")},0===i.length?l.createElement("div",{className:S.cx.flex.flexRow.gap2.itemsCenter.justifyCenter.colorTextSecondary.hFull.wFull.flexGrow1.alignCenter.$},a):l.createElement(l.Fragment,null,u&&l.createElement("span",{className:S.cx.colorTextSecondary.$},u),l.createElement(lf.g,{containerClassName:S.cx.pb16.$,handleContextMenu:g.lQ,isDraggable:!1,items:i,multiselectDisabled:!0,doNotFocusOnLoad:!0,getAriaLabel:e=>e.name,tileClassName:o,renderTile:s,renderTileFooter:c,onSelection:h,keepSelectionOnFocusLost:!0,canSelectItem:e=>!_?.(e)})))}function lE({title:e,confirmText:t,onSubmit:a,isDisabled:r,children:n,query:i,onSearchChange:o,clearSearch:s,searchPlaceholder:c}){return l.createElement(r7.Eo,{title:e,confirmText:t,onSubmit:a,disabled:r,maxWidth:1024,useRedesign:!0,fullWidthContent:!0},l.createElement(oX.IW,{className:B()(S.cx.px16.py8.colorBg.wFull.bb1.bSolid.colorBorder.borderBox.$,"choose_file_modal--heightOverride--QTue5"),hasTransparentBackground:!0,placeholder:c,focusOnMount:!0,query:i,onChange:o,clearSearch:s,iconClassName:S.cx.colorIcon.$,hideXIcon:!0}),l.createElement(tB.P,{className:"choose_file_modal--gridMaxHeight--8NKvW",innerClassName:S.cx.hFull.gap12.flex.flexColumn.pt16.px24.borderBox.$},n))}function lh({file:e,orgName:t,isDisabled:a}){let r=(0,lm.l)(e.folder_id),n=r.data;return l.createElement("div",{className:S.cx.pt8.flex.flexColumn.overflowHidden.$},l.createElement("div",{className:S.cx.flex.flexRow.gap4.justifyBetween.itemsCenter.maxWFull.$},l.createElement("span",{className:S.cx.ellipsis.textBodyLargeStrong.truncate.with({colorTextSecondary:a}).$},e.name),a&&t&&l.createElement("span",{"data-tooltip-type":"text","data-tooltip":(0,k.t)("file_browser.pinning.choose_file_to_pin_modal.file_not_workspace_visible.tooltip",{orgName:t}),"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":500},l.createElement(eD.In,{icon:"info-16",fill:"secondary"}))),l.createElement("span",{className:S.cx.ellipsis.colorTextSecondary.truncate.$},"loaded"===r.status&&n?l.createElement("div",{className:S.cx.colorTextSecondary.truncate.$},n):null))}let lv=(0,aA.Ju)(function({workspaceId:e}){let t=(0,s.wA)(),a=(0,ab.yN)({migrationGroup:aw.L.GROUP_11,component:"ChooseFileToPinModal",attribute:"orgName",legacy:(e,t)=>t?.name??null,migrated:(e,t)=>t?.name??null}),[r,n]=l.useState(""),[i,o]=l.useState(null),c=l.useCallback(e=>{o(e)},[]);(0,nf.Rs)(nE.wtK,{fileKey:i??""},{enabled:!!i});let d=(0,ls.L)("file_browser:file_picker_modal",lp.Rx.ORG,!1),m=(0,ay.dD)(e),u=l.useCallback(e=>{t(eY.ES(lv)),t(eY.to({type:(0,ll.a)(),data:{fileKey:e,source:r?"add_file_modal_search":"add_file_modal_suggested"}}))},[t,r]);l.useEffect(()=>(t(l_.Dy({entryPoint:"file_browser:file_picker_modal"})),t(l_.Rz({workspaceFilter:e})),()=>{t(l_.Rz({workspaceFilter:null})),t(l_.ky())}),[t,n,e]);let _=(0,li.A)(d,400),p=l.useCallback(e=>{n(e),_(e,lp.uH.FILES,null,!1,!1,!1,!0)},[_,n]),f=(0,ay.$o)(e),E=(0,ef.md)(ld.ic),h=(0,lc.h)(),v=a4.Qw.useTransformShallowEqual(a4.Qw.all([f,m]),([e,t])=>{let a=new Set(t??[]);return((r?E.files?.results.map(e=>e.model):e.map(e=>(0,ay.KR)(e)))??[]).filter(e=>!a.has(e.key))}),y=l.useMemo(()=>E.files?.results.map(e=>e.model.key)??[],[E]),b=(0,ay.H6)(y,{enabled:r.length>0});if("loaded"!==b.status||!r&&"loaded"!==v.status||r&&h!==lo.r.SUCCESS)return l.createElement(lE,{title:(0,k.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,k.t)("general.next"),isDisabled:!0,query:r,onSearchChange:p,clearSearch:g.lQ,searchPlaceholder:(0,k.t)("file_browser.choose_file_modal.search_for_a_file")},l.createElement("div",{className:B()(S.cx.flex.itemsCenter.justifyCenter.wFull.hFull.flexGrow1.$)},l.createElement(tM.qc,null)));let w=v.data??[],T=e=>{let t=b.data.get(e.key);return!!t&&!t?.canPinFileToWorkspace};return l.createElement(lg,{title:(0,k.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,k.t)("general.next"),tileClassName:"choose_file_to_pin_modal--showOnHoverContainer--DO9-h",query:r,setQuery:p,renderFileTile:(e,{isSelected:t,isHovered:a})=>l.createElement(lu.Z,{tile:(0,ra.fA)(e),isSelected:t&&!T(e),isHovered:a,hideBranchIndicator:!0,hideFavoriteStar:!0}),renderTileFooter:e=>l.createElement(lh,{file:e,orgName:a,isDisabled:T(e)}),onSubmit:u,onSelectFile:c,files:w??[],gridText:r?void 0:(0,k.t)("file_browser.pinning.suggested"),emptyStateText:r?(0,k.tx)("file_browser.workspace_pinning.no_files_matching_query",{searchQuery:l.createElement("div",{className:S.cx.colorText.fontMedium.truncate.$},r)}):(0,k.t)("file_browser.workspace_pinning.no_suggested_files"),shouldDisableTile:T})},"ChooseFileToPinModal");var ly=a(609494),lb=a(174952),lw=a(566590),lT=a(606856),lI=a(121072),lC=a(318474),lx=a(903486),lN=a(671653);let lS={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,pinToWorkspace:!0};function lk({suggestedFiles:e}){let t=e.slice(0,8),a=(0,ea._6)(),r=(0,s.wA)(),{showing:n,show:i,data:o}=(0,lI.L)(),c=l.useCallback((e,t)=>{m.Ay.redirect((0,rn.r1)(e)),(0,tN.k1)(e.key,{selectedViewName:a.view,entrypoint:"suggested_files_empty_state"}),t.stopPropagation(),t.preventDefault()},[a.view]),d=l.useCallback((e,t)=>{c({key:e.key,editor_type:e.editorType,url:e.url},t)},[c]),u=l.useCallback((e,t,a)=>{i({data:{tile:(0,ay.bn)(e[0]),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:a,enableRestore:t.shiftKey&&t.altKey}})},[i]);return l.createElement(l.Fragment,null,l.createElement("div",{className:S.cx.colorTextSecondary.truncate.$},(0,k.t)("file_browser.pinning.suggested")),l.createElement(lx.A,{items:t,multiselectDisabled:!0,isDraggable:!1,handleOpenItem:d,onSelection:e=>{r(a7.an()),r(a7.Ku({fileKeys:e.map(e=>e.key)}))},handleContextMenu:u,gridViewProps:{containerClassName:"suggested_files_grid--gridContainer--ZdukV",renderTile:e=>l.createElement("div",{className:S.cx.m8.opacity0_5.bRadius4.elevation100.overflowHidden.$,style:tV.sx.add({width:"80px"}).$},l.createElement(rS.NM,{file:e,noBorder:!0,size:rH.y.SMALL})),tileBorderRadius:8,tileBorderStyle:"dashed",tileFooterPosition:"right",renderTileFooter:(e,{isSelected:t,isHovered:a})=>l.createElement(lL,{file:e,isHovered:a,isSelected:t})},viewType:lN.XU.GRID}),n&&o?.tile?l.createElement(lC.i,{tileActions:lS,openTile:e=>c(o.tile.file,e),tile:o.tile,selectedTiles:[o.tile],dropdownVisible:n}):null)}function lL({file:e,isHovered:t,isSelected:a}){let r=(0,s.wA)(),n=l.useCallback(t=>{r(eY.to({type:(0,ll.a)(),data:{fileKey:e.key,source:"suggested_files_empty_state"}})),t.stopPropagation(),t.preventDefault()},[r,e]),i=e.project?.name;return l.createElement("div",{className:S.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.ml16.$},l.createElement("div",{className:S.cx.textBodyMedium.truncate.$},e.name),t||a||E.Ay.mobile||E.Ay.tablet?l.createElement("div",{role:"button",tabIndex:0,className:S.cx.colorTextBrand.truncate.cursorPointer.$,onClick:n},(0,k.t)("file_browser.pinning.pin_file")):i?l.createElement("div",{className:S.cx.colorTextSecondary.truncate.$},i):null)}function lA({workspaceId:e}){let t;let a=(0,ay.$o)(e);return t="loaded"!==a.status?l.createElement("div",{className:S.cx.py1.h20.wFull.$},l.createElement(tM.qc,null)):a.data.length>0?l.createElement(lk,{suggestedFiles:a.data}):l.createElement("span",{className:S.cx.colorTextSecondary.truncate.textBodyLarge.alignCenter.$},(0,k.t)("file_browser.pinning.no_pinned_files")),l.createElement("div",{className:S.cx.bRadius8.colorBgSecondary.px32.py24.flex.flexColumn.gap16.mt8.$},t)}var lR=a(109388),lF=a(424587),lP=a(88823),lO=a.n(lP),lD=a(511617),lM=a(988652),lB=a(733334),lU=a(564577),lV=a(167893),lH=a(296045);function lW({pinnedFile:e}){let t=(0,ay.bn)(e.file),a=(0,lm.l)(e.file.folderId);return l.createElement("div",{className:S.cx.bRadius8.borderBox.p16.flex.flexColumn.gap16.colorBg.colorText.b1.bSolid.colorBorder.elevation300.flexGrow1.$,style:tV.sx.add({width:"422px",overflowY:"auto",overflowX:"hidden"}).$},l.createElement("div",{className:S.cx.flex.flexRow.gap16.$},l.createElement("div",{className:S.cx.flexBasisAuto.$},l.createElement(lH.e,{entity:{id:e.creator.id,img_url:e.creator.imgUrl,name:e.creator?.name??void 0,handle:e.creator?.handle}})),l.createElement("div",{className:S.cx.flex.flexColumn.overflowHidden.$},l.createElement("div",{className:S.cx.flex.flexRow.gap8.textBodyLarge.$},l.createElement(L.E,{fontWeight:"semi-bold",truncate:!0},e.creator.name),l.createElement("span",{className:S.cx.flexBasisAuto.flexGrow1.flexShrink0.$},l.createElement(L.E,{color:"secondary"},l.createElement(lU.h1,{date:e.createdAt})))),l.createElement("div",{className:S.cx.textBodyLarge.overflowBreakWord.$,dangerouslySetInnerHTML:{__html:(0,lB.p)((0,ly.sP)(e.description))}}))),l.createElement("div",{className:S.cx.flex.flexColumn.$},l.createElement("div",{className:S.cx.bRadius8.b1.colorBorder.bSolid.wFull.overflowHidden.$},l.createElement("div",null,l.createElement(lb.e,{tile:t,noBorder:!0})),l.createElement("div",{className:S.cx.flex.flexRow.gap8.itemsCenter.bt1.bSolid.colorBorder.p16.$},l.createElement(lV.x,{tile:t,usePageIcon:!0}),l.createElement("div",{className:S.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.$},l.createElement("div",{className:S.cx.textBodyLargeStrong.truncate.$},e.file.name),"loaded"===a.status&&a.data?l.createElement("div",{className:S.cx.textBodyMedium.colorTextSecondary.truncate.$},a.data):null)))))}let lj={width:0,height:0};function l$({pinnedFile:e,targetRef:t,shouldHide:a}){let r=(0,lM.s)(t),[n,i]=(0,lM.M)(),[o,s]=l.useState(lj),[c,d]=l.useState(!1),m=l.useCallback(()=>{if(!t.current)return;let e=(0,lD.E)(t.current.getBoundingClientRect()),a=window.innerWidth,r=window.innerHeight,n=r-e.top-8,i=n>100;if(a-e.right>438&&i){s({transform:`translate(${e.right+8}px, ${e.top}px)`,maxHeight:n});return}if(e.left>438&&i){s({transform:`translate(${e.left-430}px, ${e.top}px)`,maxHeight:n});return}let o=430-(a-e.left),l=r-e.bottom-16;if(l>100){s({transform:`translate(${(0,lF.qE)(e.left-o,0,e.left)}px, ${e.bottom+8}px)`,maxHeight:l});return}let c=e.top-16;s({top:"auto",bottom:"100vh",transform:`translate(${(0,lF.qE)(e.left-o,0,e.left)}px, ${e.top-8}px)`,maxHeight:c})},[t,s]),u=!a&&(r||i),p=(0,_.ZC)(u);if(l.useEffect(()=>{if(!p&&u)m();else if(p&&!u){d(!0);let e=setTimeout(()=>{d(!1)},(0,iL.XB)("150ms"));return()=>{clearTimeout(e)}}},[u,p,m]),l.useEffect(()=>{let e=lO()(m),t=()=>{u&&e()};return document.addEventListener("scroll",t,!0),()=>{document.removeEventListener("scroll",t,!0)}},[u,m]),!t.current)return null;let f=l.createElement("div",{className:"pinned_files_hover--hoverCardOverflowWrapper--VaAZM"},l.createElement("div",{className:B()("pinned_files_hover--hoverCard--MLJbb",u&&"pinned_files_hover--makeVisible--QrDF7"),style:o,ref:n,role:"tooltip",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},(u||c)&&l.createElement(lW,{pinnedFile:e})));return lR.createPortal(f,document.body)}let lG={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,share:!0,duplicateToDrafts:!0,pinToWorkspace:!0,publishOrgTemplate:!0,favoriteFile:!0,unfavoriteFile:!0};function lY({workspaceId:e,pinnedFiles:t,canAdminWorkspace:a}){let r=(0,s.wA)(),n=(0,ea._6)(),i=(0,e1.TA)(),{showing:o,show:c,data:d}=(0,lI.L)(),m=(0,lT.v)(),u=l.useCallback((t,a,r,i)=>{m(t,r),(0,tN.E9)(tN.gH,a.file,{entrypoint:i,selectedView:n.view,resourceType:"workspace",resourceId:e,pinDescription:(0,ly._Z)(a.description)})},[m,n.view,e]),_=l.useCallback((e,t)=>{u((0,ay.bn)(e.file),e,t,"pinned files")},[u]),p=l.useCallback(e=>{if(1!==e.length)return;let t=e[0];(a||t.creator?.id===i)&&r(eY.to({type:(0,lw.I)(),data:{pinnedFileId:e[0].id}}))},[a,i,r]),f=l.useMemo(()=>t.filter(({file:e})=>!!e).map(e=>(0,ay.bn)(e.file)),[t]),g=(0,ra.nw)(f),E=l.useMemo(()=>t.sort((e,t)=>e.createdAt>t.createdAt?1:-1),[t]);return l.createElement(l.Fragment,null,t.length>0?l.createElement(lx.A,{handleContextMenu:(e,t,a)=>{r(a7.an()),r(a7.Ku({fileKeys:e.map(e=>e.file.key)})),c({data:{tile:(0,ay.bn)(e[0].file),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:a}})},isDraggable:!0,items:E,handleDragDataTransfer:(e,t)=>{t.setFigFilesData(e.map(e=>(0,ay.KR)(e.file)))},doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:lN.XU.GRID,handleOpenItem:_,handleDeleteKey:p,gridViewProps:{containerClassName:"pinned_files_content--pinnedFilesGrid--WZBpn",renderTile:e=>l.createElement(lz,{pinnedFile:e,isDropdownOpen:o}),renderTileFooter:e=>l.createElement(lQ,{pinnedFile:e}),renderTileDragImage:e=>l.createElement(rS.NM,{file:e.file,noBorder:!0})}}):l.createElement(lA,{workspaceId:e}),(()=>{let e=d?.tile??null,a=d?.index??0;return l.createElement(lC.i,{tile:e,selectedTiles:g,tileActions:lG,openTile:r=>{e&&u(e,t[a],r,"pinned files: context menu")},dropdownVisible:o})})())}function lz({pinnedFile:e,isDropdownOpen:t}){let a=l.useRef(null),r=(0,ay.bn)(e.file);return l.createElement(l.Fragment,null,l.createElement(l$,{pinnedFile:e,targetRef:a,shouldHide:t}),l.createElement("div",{ref:a},l.createElement(lb.e,{tile:r,noBorder:!0,size:rH.y.SMALL})))}function lQ({pinnedFile:e}){return l.createElement("div",{className:S.cx.pt8.flex.flexColumn.$},l.createElement("span",{className:S.cx.ellipsis.textBodyLargeStrong.truncate.$},e.file.name),l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,k.t)("tile.file_tile.pinned_by_user",{name:e.creator?.name??""})))}let lK=(0,ef.Iz)(e=>(0,ef.E2)(`file_browser.workspace.pinned_section_open.${e}`,!0,la.boolean()));function lq({workspaceId:e,canAdminWorkspace:t,onLoad:a}){let[r,n]=(0,ef.fp)(lK(e)),i=l.useCallback(()=>n(e=>!e),[n]),o=(0,s.wA)(),c=(0,eX.dq)(),d=(0,ar.Au)(c),m=(0,nf.Rs)(nE.qTu,{workspaceId:e});l.useEffect(()=>{"loaded"===m.status&&a?.()},[a,m.status]);let u=a4.Qw.useTransform(m,e=>e.workspace?.pinnedFiles??null),_=a4.Qw.useTransform(u,e=>e?e.length:0),p=a4.Qw.useTransform(a4.Qw.all([d,m]),([t,a])=>!!a.workspace&&(t===e||a.workspace.canAdmin)),f="loaded"!==_.status||_.data>=ay.D1,g="loaded"===p.status&&p.data||"loaded"===_.status&&_.data>0,E=l.useCallback(()=>{o(eY.to({type:lv,data:{workspaceId:e}}))},[o,e]);return l.createElement(l.Fragment,null,g&&l.createElement(ln,{isOpen:r,toggleIsOpen:i,collapseHeader:l.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.wFull.$},l.createElement("div",{"aria-expanded":r,role:"button",tabIndex:0,className:S.cx.flex.flexRow.gap4.itemsCenter.textBodyLargeStrong.cursorDefault.$,onClick:i},(0,k.t)("file_browser.pinning.pinned_files")),"loaded"===p.status&&p.data&&l.createElement("button",{onClick:E,disabled:f,"data-tooltip":f&&"loaded"===_.status?(0,k.t)("file_browser.pinning.max_files.add_button_tooltip",{maxPins:ay.D1}):void 0,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip-show-above":!0},l.createElement("div",{className:f?S.cx.colorTextDisabled.$:S.cx.colorTextBrand.$},(0,k.t)("file_browser.pinning.add_file")))),content:"loaded"===u.status?l.createElement(lY,{workspaceId:e,canAdminWorkspace:t,pinnedFiles:u.data??[]}):l.createElement(tM.qc,null)}))}function lZ({workspaceId:e}){let t=(0,eX.sZ)(),a=(0,nf.Rs)(nE.bUn,{orgId:t.id}),r=(0,nf.Rs)(nE.nD$,{workspaceId:e}).transform(e=>e.workspace),n=function(){let e=l.useRef(void 0);e.current||(e.current=performance.now());let t=l.useRef("hidden"===document.visibilityState),a=l.useRef(!1===navigator.onLine);return l.useEffect(()=>{let e=new AbortController;return document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(t.current=!0)},{signal:e.signal}),window.addEventListener("offline",()=>{a.current=!0},{signal:e.signal}),()=>{e.abort()}},[]),l.useCallback(r=>{!(0,p.kc)().file_browser_workspace_page_performance_tracking||t.current||a.current||el.az.trackDefinedEvent("file_browser.workspace_page_load_time",{type:r,durationMs:Math.round(performance.now()-e.current)})},[])}(),i=a.data?.org?.workspaces?.find(t=>t.id===e||t.mirroringLicenseGroup?.id===e);return"loading"===a.status?l.createElement(tM.qc,null):i&&i.canView?l.createElement(lX,{org:t,workspace:i,workspaceWithMembersQuery:r,trackPerfEvent:n}):l.createElement(oD.S,{resourceType:iI.Ft.WORKSPACE})}function lX({org:e,workspace:t,workspaceWithMembersQuery:a,trackPerfEvent:r}){(0,re.hL)(t.name);let n=ij(t),i={...t,members:a.data?.members??[]},o=a.transform(e=>!!e&&e.members.length>0),s=t.admins.length>0,c=o.transform(e=>e||s).unwrapOr(!0),d=(0,ay.J_)();l.useEffect(()=>{r("initial_load")},[r]),l.useEffect(()=>{"loaded"===a.status&&r("members_load")},[a.status,r]);let m=l.useCallback(()=>{r("pinned_files_load")},[r]),u=l.useCallback(()=>{r("teams_load")},[r]);return l.createElement(oy.r,{header:l.createElement(le,{headerColor:n,workspace:i,org:e,isWorkspaceMembersLoading:"loading"===a.status,showMembersButton:c}),content:l.createElement("div",{className:S.cx.flex.flexColumn.gap24.my24.$},d()?l.createElement("section",{"aria-label":(0,k.t)("file_browser.pinning.pinned_files"),className:S.cx.pl12.pr32.borderBox.wFull.$},l.createElement(lq,{workspaceId:t.id,canAdminWorkspace:t.canAdmin,onLoad:m})):null,l.createElement(og,{workspaceId:t.id,onLoad:u})),metaContent:o.unwrapOr(!1)?l.createElement(lt,{workspace:i}):void 0})}var lJ=a(753178),l0=a(950964),l1=a(427472),l2=a(802755),l4=a(909595),l8=a(491087),l3=a(293014),l5=a(444077);let l9=l.memo(function(e){let t,a;return"implicit"===e.consentRegion?(t=l2.Ml,a=l2.e2):"explicit"===e.consentRegion&&(t=(0,l1.aJ)(),a=(0,l1.Sz)()),l.createElement("div",{role:"region","aria-label":t,className:B()(l8.MZ)},l.createElement(tO.Yo,{className:l8.o2,rel:"noopener",target:"_blank",href:a},l.createElement(j.B,{svg:l3.A})),l.createElement("span",{className:l8.R2,"aria-hidden":"true"},t))}),l6=l.memo(function(){return(0,p.kc)().cookie_banners_community?"implicit"===(0,p.Ay)().consent_region?l.createElement(l2.C$,{variant:l4.a.COMMUNITY,dismissIcon:l5.A,SecondaryButton:e=>l.createElement(l0.Wd,{fullWidth:!1,className:l8.Rn,use:"hollow",...e}),persistentMessage:l.createElement(l9,{consentRegion:"implicit"})}):"explicit"===(0,p.Ay)().consent_region?l.createElement(l1.ZQ,{variant:l4.a.COMMUNITY,dismissIcon:l5.A,SecondaryButton:e=>l.createElement(l0.Wd,{fullWidth:!1,className:l8.Rn,use:"hollow",...e}),PrimaryButton:e=>l.createElement(l0.Wd,{fullWidth:!1,className:l8.Rn,use:"standard",...e}),persistentMessage:l.createElement(l9,{consentRegion:"explicit"})}):null:null});var l7=a(385422),se=a(460845),st=a(408552),sa=a(335666),sr=a(108636),sn=a(654923),si=a(749949),so=a(837324),sl=a(612776),ss=a(466636),sc=a(545941),sd=a(609271),sm=a(417659),su=a(555328),s_=a(978527),sp=a(447227),sf=a(802536),sg=a(206144),sE=a(97128),sh=a(376485),sv=a(427681);function sy({resource:e,context:t}){let a;return a=t===su.aL.REDESIGNED_PLUGIN_ROW?sv.gz:e.editor_type===sh.HK.FIGJAM||e.editor_type===sh.HK.UNIVERSAL?sv.kJ:sv.GJ,l.createElement(sg.A6,{to:(0,so.UI)({path:sE.Uo.PLUGIN,id:e.id}),className:a},(0,k.tx)("community.view"))}var sb=a(240411),sw=a(776621),sT=a(864089),sI=a(158996),sC=a(526235),sx=a(674694);let sN="resource_page_media_carousel--hubFileTileFullInnerImage--kVJwo resource_page_media_carousel--hubFileTileInnerImage--irUS9",sS="resource_page_media_carousel--mobileCarousel--G3Nxz";function sk(e){return["video"===e.type?e.thumbnail_url:e.url,"image"===e.type&&"resized_thumbnail_urls"in e?e.resized_thumbnail_urls:void 0]}function sL({thumbnailUrl:e,resizedThumbnailUrls:t,resourceId:a,altText:r,thumbnailContext:n,isMobileCarousel:i}){let o;return e&&t?o=l.createElement(sx.Sl,{className:B()(sN,{[sS]:i}),image:e,onLoad:g.lQ,hubFileId:a,alt:r,thumbnailContext:n,resizedThumbnailUrls:t}):e?o=l.createElement(sT.oW,{className:B()(sN,{[sS]:i}),src:e,loading:"lazy",alt:r,draggable:!1,onError:()=>{(0,sw.x1)("community","Failed to load hero image on resource detail page",{resourceId:a,image:e})}}):((0,sw.xi)("community","Missing hero image on resource detail page",{resourceId:a}),o=l.createElement(sC.Ek,null)),l.createElement("div",{className:"resource_page_media_carousel--carouselImage--91wRk"},o)}function sA({thumbnailUrl:e,altText:t,resourceId:a}){return l.createElement(sT.oW,{className:sN,src:e,loading:"lazy",alt:t,draggable:!1,onError:()=>{(0,sw.x1)("community","Failed to load hero image closeup on resource detail page",{thumbnailUrl:e,resourceId:a})}})}function sR(e,t){return(0,sI.YI)(t)?`/api/plugins/${t.id}/videos/${e.video_file_uuid}/manifest`:(0,sI.$3)(t)?`/api/widgets/${t.id}/videos/${e.video_file_uuid}/manifest`:null}var sF=a(75395),sP=a(157663),sO=a(913016),sD=a(30090);let sM="video_player--videoControlButton--CaxkP",sB="video_player--videoButtonFullscreenScale--oSh2-";var sU=a(68710),sV=a(10448),sH=a(114843),sW=a(552601);let sj={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function s$(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:a}=(0,sO._d)(e);return`${a}:${String(t).padStart(2,"0")}`}function sG(e,t){e&&(t?(e.play(),E.Ay.safari&&e.currentTime(.1)):sz(e)?e.pause():(E.Ay.safari&&e.currentTime()>.1&&e.currentTime(e.currentTime()-.1),e.play()))}let sY=l.memo(({src:e,fallbackSrc:t,useHLS:a=!1,autoPlay:r=!1,muted:n=!1,showControlsOnVideoLoad:i=!1,onEnded:o})=>{let[s,c]=l.useState();l.useEffect(()=>{(async()=>{window.VIDEOJS_NO_DYNAMIC_STYLE=!0,c(await (0,sD.Fe)())})()},[]);let d=l.useRef(null),m=l.useRef(null),[u,_]=l.useState(null),[p,f]=l.useState(!1),[g,h]=l.useState(!1);l.useEffect(()=>{let e=d.current;if(e){let t=()=>{h(e=>!e)};return e.addEventListener(lD.R7.fullscreenChangeEventName,t),()=>{e.removeEventListener(lD.R7.fullscreenChangeEventName,t)}}},[]),l.useEffect(()=>{let e=m.current;e&&(e.style.height="100%",e.style.width="100%",e.style.objectFit=g?"contain":"cover")},[g]);let[v,y]=l.useState(!1);l.useEffect(()=>{v&&o?.()},[v,o]);let b=l.useRef(void 0),w=(0,l.useCallback)(()=>{f(!0),clearTimeout(b.current),b.current=setTimeout(()=>f(!1),3e3)},[]);l.useEffect(()=>{if(!m.current||!s)return;let e=!1,t=s.videoJs(m.current,{muted:n,autoplay:r&&!E.Ay.safari,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},()=>{e||_(t)});return()=>{t.dispose(),e=!0,_(null)}},[r,n,s]);let T=(0,l.useCallback)(async(e,r)=>{try{await (0,sD.uz)(e,a,r)}catch{sP.k.warn("Reverting to fallback video source"),await (0,sD.uz)(t??null,!1,r)}i&&w()},[t,w,i,a]);l.useEffect(()=>{u&&e&&T(e,u)},[T,e,u]);let I=(0,l.useCallback)(()=>{if(g||document.fullscreenElement)lD.R7.exitFullscreenFunc();else if(E.Ay.isIpad){let e=m.current;e?.webkitEnterFullscreen?.()}else{let e=d.current;e&&lD.R7.requestFullscreenFunc.call(e)}},[g]);return l.createElement("div",{className:B()("video_player--videoContainer--f21k1",{"video_player--fullscreen--Tkght":g}),ref:d,onPointerMove:w},l.createElement(sF.E,{className:S.cx.hFull.wFull.bgTransparent.$,onClick:(0,l.useCallback)(()=>{u&&g&&sG(u,v)},[v,g,u]),actionOnPointerDown:!0},l.createElement("video",{ref:m,crossOrigin:"anonymous",controls:E.Ay.isIpad&&g})),l.createElement(sQ,{videoJsPlayer:u,isFullscreen:g,toggleFullscreen:I,isActive:p,hasEnded:v,setHasEnded:y}))});function sz(e){return!!e&&!e.ended()&&!e.paused()&&e.currentTime()>0&&e.readyState()>2}function sQ({videoJsPlayer:e,isFullscreen:t,toggleFullscreen:a,isActive:r,hasEnded:n,setHasEnded:i}){let[o,s]=l.useState(0),c=l.useRef(!1),[d,m]=l.useState(null),[u,_]=l.useState(!1),[p,f]=l.useState(!1),g=l.useRef(!1),h=l.useRef(!1),v=d||e?.currentTime(),y=e?.duration(),b=sz(e),w=l.useRef(void 0);l.useEffect(()=>{f(r||!b||n||g.current)},[n,r,b]);let T=(0,l.useCallback)(()=>{s(e=>e+1)},[]);l.useEffect(()=>{if(e)return e.on("playing",n),e.on("canplay",t),e.on("ended",l),e.on("timeupdate",t),e.on("seeking",o),e.on("seeked",r),e.on("stalled",a),()=>{e.off("playing",n),e.off("canplay",t),e.off("ended",l),e.off("timeupdate",t),e.off("seeking",o),e.off("seeked",r),e.off("stalled",a)};function t(){T()}function a(){g.current=!1}function r(){g.current=!1,i(!1)}function n(){i(!1),T()}function o(){g.current=!0}function l(){u||i(!0),T()}},[u,T,i,e]);let I=(0,l.useCallback)(()=>{e&&(sG(e,n),T())},[n,T,e]),C=(0,l.useCallback)(()=>{e&&(c.current=sz(e)||n,e.pause())},[n,e]),x=(0,l.useCallback)(()=>{e&&(c.current&&e.play(),w.current&&e.currentTime(w.current),m(null),w.current=void 0)},[e]),N=(0,l.useCallback)(t=>{if(e){if(g.current){w.current=t;return}e.currentTime(t)}},[e]),S=l.createElement(sX,{togglePlay:I,hasEnded:n,isPlaying:b,shouldShowVideoControls:p,isFullscreen:t});return(e?.readyState()??0)<2&&!h.current?l.createElement("div",{className:"video_player--videoLoadingState--uj4y3"},l.createElement(tM.kt,{size:"large"})):(h.current=!0,E.Ay.isIpad&&t)?null:l.createElement(l.Fragment,null,d?null:S,l.createElement("div",{className:B()("video_player--videoControls--icAIO",!p&&"video_player--videoControlsHidden--yuZ6F")},l.createElement("div",{className:"video_player--videoTime--zy6tY"},s$(v)," / ",s$(y)),l.createElement(sZ,{currentTime:v||0,totalTime:y||0,onScrubStart:C,onScrub:m,onScrubEnd:x,onVideoPositionUpdated:N,hasEnded:n,isScrubbing:u,setIsScrubbing:_}),l.createElement("div",{className:"video_player--videoRightControls--tokJe"},l.createElement(eF.K0,{onClick:a,svg:t?sW.A:sH.A,className:sM,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":t?(0,k.t)("whiteboard.video.minimize_tooltip"):(0,k.t)("whiteboard.video.fullscreen_tooltip")}),l.createElement(sK,{rerender:T,videoJsPlayer:e}))))}function sK({rerender:e,videoJsPlayer:t}){let[a,r]=l.useState(!1),n=(0,l.useCallback)(()=>{t&&(t.muted(!t.muted()),e())},[e,t]),i=(0,l.useCallback)(a=>{let r=a.target.valueAsNumber;t&&(t.volume(r),t.muted(0===r),e())},[e,t]);return l.createElement("div",{onPointerMove:(0,l.useCallback)(()=>r(!0),[]),onPointerOut:(0,l.useCallback)(()=>r(!1),[])},l.createElement(eF.K0,{onClick:n,svg:t?.muted()?sV.A:sU.A,className:B()(sM,"video_player--lastVideoControl--lnkoN",{"video_player--selectedVolumeControlButton--Ls-q9":!E.Ay.isIpad&&a}),"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":t?.muted()?(0,k.t)("whiteboard.video.unmute_tooltip"):(0,k.t)("whiteboard.video.mute_tooltip")}),!E.Ay.isIpad&&a?l.createElement(sq,{volume:t?.volume()??1,muted:t?.muted()??!1,handleChange:i}):null)}function sq({handleChange:e,volume:t,muted:a}){let r=a?0:t,n=100*r,i=l.useRef(null);return l.createElement("div",{className:"video_player--volumeContainer----Q0D"},l.createElement("div",{className:"video_player--volumeBox--NBckg"},l.createElement("input",{className:"video_player--volumeSliderInput--H6jHn",style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${n}%,var(--inactive-slider-color) ${n}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:r,onChange:e,ref:i})))}function sZ({currentTime:e,totalTime:t,hasEnded:a,onVideoPositionUpdated:r,onScrubStart:n,onScrub:i,onScrubEnd:o,isScrubbing:s,setIsScrubbing:c}){let[d,m]=l.useState(!1),u=l.useRef(null),_=l.useRef(null),p=(0,l.useCallback)(t=>{if(!u.current)return;t.stopPropagation(),c(!0),n();let a=u.current.getBoundingClientRect();_.current={minX:a.x,maxX:a.x+a.width,originX:t.clientX,newTime:e}},[e,n,c]),f=(0,l.useCallback)(e=>{if(!u.current)return;e.stopPropagation(),c(!0),n();let a=u.current.getBoundingClientRect(),i=a.x,o=a.x+a.width,l=e.clientX,s=(0,lF.qE)(0,(l-i)/(o-i)*t,t);r(s),_.current={minX:i,maxX:o,originX:e.clientX,newTime:s}},[n,r,c,t]),g=(0,l.useCallback)(e=>{if(!_.current)return;let a=e.clientX,{minX:n,maxX:o}=_.current,l=(0,lF.qE)(0,(a-n)/(o-n)*t,t);_.current.newTime=l,i(l),r(_.current.newTime)},[i,r,t]),h=(0,l.useCallback)(()=>{_.current&&(r(_.current.newTime),c(!1),o(),_.current=null)},[o,r,c]);l.useEffect(()=>{if(s)return document.addEventListener("pointermove",g),document.addEventListener("pointerup",h),()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",h)}},[s,g,h]);let v=Math.min(e/t*100,100);E.Ay.safari&&a&&(v=100);let y=v>0?8:0;return l.createElement("div",{className:"video_player--videoTimeScrubberContainer--bNh9B",onPointerMove:(0,l.useCallback)(()=>m(!0),[]),onPointerOut:(0,l.useCallback)(()=>m(!1),[])},l.createElement("div",{role:"progressbar",tabIndex:0,className:"video_player--videoTimeScrubber--Brs7M",onPointerDown:f},l.createElement("div",{className:"video_player--videoTimeScrubberBackground--pEEuZ",ref:u}),l.createElement("div",{className:"video_player--videoTimeScrubberProgress--y988I",style:{width:`${v}%`}}),(d||s)&&l.createElement("div",{className:"video_player--videoTimeScrubberNub--Poe0a",style:{left:`calc(${v}% - ${y}px)`},onPointerDown:p,role:"button",tabIndex:0})))}function sX({shouldShowVideoControls:e,togglePlay:t,hasEnded:a,isPlaying:r,isFullscreen:n}){let i=s1;return a?i=s0:r&&(i=s4),l.createElement(sJ,{shouldShowVideoControls:e,ButtonIcon:i,togglePlay:t,isFullscreen:n})}function sJ({ButtonIcon:e,shouldShowVideoControls:t,togglePlay:a,isFullscreen:r}){let[n,i]=l.useState(!1),o=n?sj.BUTTON_BG_FILL_HOVER_OPACITY:sj.BUTTON_BG_FILL_OPACITY;return l.createElement("button",{className:B()("video_player--videoButton--M-5Z2",{"video_player--videoButtonHidden--9qDbX":!t}),onPointerMove:(0,l.useCallback)(()=>i(!0),[]),onPointerOut:(0,l.useCallback)(()=>i(!1),[]),onPointerDown:a},l.createElement(e,{fillOpacityForBackground:o,isFullscreen:r}))}function s0({fillOpacityForBackground:e,isFullscreen:t}){return l.createElement("svg",{className:B()(t&&sB),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:sj.BUTTON_BG_FILL,fillOpacity:e}),l.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:sj.BUTTON_SHAPE_FILL}),l.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:sj.BUTTON_BG_FILL,strokeOpacity:sj.BUTTON_STROKE_OPACITY}))}function s1({fillOpacityForBackground:e,isFullscreen:t}){return l.createElement("svg",{className:B()(t&&sB),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{clipPath:"url(#clip0_403_4259)"},l.createElement("rect",{width:"48",height:"48",rx:"24",fill:sj.BUTTON_BG_FILL,fillOpacity:e}),l.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:sj.BUTTON_SHAPE_FILL})),l.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:sj.BUTTON_BG_FILL,strokeOpacity:sj.BUTTON_STROKE_OPACITY}),l.createElement("defs",null,l.createElement("clipPath",{id:"clip0_403_4259"},l.createElement("rect",{width:"48",height:"48",rx:"24",fill:sj.BUTTON_BG_FILL}))))}function s2(){return l.createElement(s1,{fillOpacityForBackground:sj.BUTTON_BG_FILL_OPACITY,isFullscreen:!1})}function s4({fillOpacityForBackground:e,isFullscreen:t}){return l.createElement("svg",{className:B()(t&&sB),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{clipPath:"url(#clip0_1_16)"},l.createElement("rect",{width:"48",height:"48",rx:"24",fill:sj.BUTTON_BG_FILL,fillOpacity:e}),l.createElement("path",{d:"M15 15H21V33H15V15Z",fill:sj.BUTTON_SHAPE_FILL}),l.createElement("path",{d:"M27 15H33V33H27V15Z",fill:sj.BUTTON_SHAPE_FILL})),l.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:sj.BUTTON_BG_FILL,strokeOpacity:sj.BUTTON_STROKE_OPACITY}),l.createElement("defs",null,l.createElement("clipPath",{id:"clip0_1_16"},l.createElement("rect",{width:"48",height:"48",rx:"24",fill:sj.BUTTON_BG_FILL}))))}let s8="plugin_dropdown_preview--pluginMediaContainer--QVFs6",s3="plugin_dropdown_preview--pluginImage--UjTg4";function s5({carouselImages:e,version:t,aspectRatio:a}){let[r,n]=l.useState(0);l.useEffect(()=>{var t=setInterval(()=>{n((r+1)%e.length)},1500);return()=>{clearInterval(t)}});let i=l.useMemo(()=>e.map(e=>sk(e)[0]),[e]);return l.createElement("div",{className:s8,style:tV.sx.add({aspectRatio:a}).$},i.map((e,a)=>l.createElement("img",{alt:t.name+" preview",key:a,className:a===r?B()(s3,"plugin_dropdown_preview--activeImage--efzMn"):B()(s3,"plugin_dropdown_preview--inactiveImage--NdowZ"),src:e})))}function s9({plugin:e,pluginVideo:t,aspectRatio:a}){let r=(0,si.J)();return l.createElement("div",{className:"plugin_dropdown_preview--pluginVideo--IlluJ",style:tV.sx.add({aspectRatio:a}).$},l.createElement(sY,{src:sR(t,e),fallbackSrc:t.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,el.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:"plugin",searchSessionId:r})}}))}function s6({imageUrl:e,version:t,aspectRatio:a}){return l.createElement("div",{className:s8,style:tV.sx.add({aspectRatio:a}).$},l.createElement("img",{className:s3,src:e,alt:t.name+" preview"}))}function s7({plugin:e,version:t,aspectRatio:a,video:r}){if(r)return l.createElement(s9,{plugin:e,pluginVideo:r,aspectRatio:a});let n=(0,so.N6)(e);return n.length>0?l.createElement(s5,{carouselImages:n,version:t,aspectRatio:a}):l.createElement(s6,{imageUrl:e.thumbnail_url||"",version:t,aspectRatio:a})}function ce({plugin:e,aspectRatio:t,video:a}){let r=(0,so.qD)(e),n=(0,sc.G8)(r,void 0,!0),i=e.tags?.slice(0,3)??[];return l.createElement("div",{className:"plugin_dropdown_preview--hoverCard--zzMPg","data-testid":"plugin-dropdown"},l.createElement(s7,{plugin:e,version:r,aspectRatio:t,video:a}),l.createElement("div",{className:"plugin_dropdown_preview--pluginMeta--uuieP"},l.createElement("div",{className:"plugin_dropdown_preview--pluginName--qx9M6 text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("span",{className:S.cx.ellipsis.noWrap.overflowHidden.$},r.name)),n&&l.createElement("div",{className:"plugin_dropdown_preview--pluginTagline--Rs0sq text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement("span",null,n))),i.length>0&&l.createElement("div",{className:"plugin_dropdown_preview--tagsContainer--QpeL2"},i.map(e=>l.createElement("div",{key:e,className:"plugin_dropdown_preview--tags--IlWLE text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))))}let ct=a(777944).PluginTryButton;var ca=a(166521);let cr="plugin_row--pluginRowAvatar--S3Edj dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",cn="plugin_row--animatedDropdown--bkyGN dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",ci="plugin_row--animatedDropdownContent--p9W2i",co="plugin_row--avatarBoxShadowOverride--MBDpQ";function cl({pluginUrl:e,trackTileClick:t,version:a}){return l.createElement("div",{"data-testid":"plugin-icon"},l.createElement(sg.A6,{to:e,onClick:t,className:"plugin_row--pluginRowImageContainer--mYY6b"},l.createElement(s_.V,{className:"plugin_row--pluginRowIcon--cDHTC",alt:`Figma plugin "${a.name}"`,plugin:{...a,redirect_icon_url:a.redirect_icon_url||so.ZD},onLoad:e=>e.target.style.opacity="1",onError:e=>e.target.src=so.ZD,loading:"lazy"})))}function cs({resource:e,onIntersectionChange:t,isOrgTeamBrowsing:a,index:r}){let n;let i=(0,si.J)(),o=(0,so.qD)(e),s=(0,su.m3)(e),c=(0,su.PM)(e),d=(0,sn.I)(e),m=(0,ss.QQ)(d),u=l.useMemo(()=>a?l.createElement(sy,{resource:e,context:su.aL.REDESIGNED_PLUGIN_ROW}):!s||m||c?l.createElement(ct,{resource:e,context:su.aL.REDESIGNED_PLUGIN_ROW}):l.createElement(ca.I,{resource:e,context:su.aL.REDESIGNED_PLUGIN_ROW}),[a,e,s,m,c]),_=(0,st.QP)({resource:e,height:"16",validBadges:[st.op.FREEMUM,st.op.OFF_PLATFORM,st.op.PURCHASED]}),p=(0,so._t)({resource:e}),f=()=>(0,sc.cB)("plugin",e.id,r,i),g=(e.community_publishers.accepted??[])[0],E=!!sr.B(e.id,su.vt.PLUGIN).data?.[0],h=(0,sl.ZG)(),v="";if(h()){if(n=function(e){let t={};if(e.carousel_videos&&0!==Object.keys(e.carousel_videos??{}).length)return Object.entries(e.carousel_videos).forEach(([e,a])=>{t[e]=a}),Object.entries(t).sort(([e],[t])=>parseInt(e)-parseInt(t))[0][1]}(e),v="",n)v=n.thumbnail_url;else{let t=(0,so.N6)(e);v=t?.length>0?sk(t[0])[0]:e.thumbnail_url||""}}let y=(0,sa.X)(v)?"16/9":"2/1";return l.createElement("div",{"data-testid":"plugin-row"},l.createElement(tU.a,{onIntersectionChange:e=>t?.(e)}),l.createElement("div",{className:"plugin_row--pluginRow--lySkC"},h()?l.createElement(sf.So,{preview:l.createElement(ce,{plugin:e,aspectRatio:y,video:n}),borderRadius:13,dropdownClassName:ci,verticalPosition:"above",allowHoverOnDropdownContents:!1,className:cn},l.createElement(cl,{pluginUrl:p,trackTileClick:f,version:o})):l.createElement(cl,{pluginUrl:p,trackTileClick:f,version:o}),l.createElement("div",{className:"plugin_row--pluginRowMetaInfo--mqV-l"},l.createElement(sg.A6,{to:p,className:"plugin_row--pluginRowTitleAndDescription--5V-o7",onClick:f},l.createElement("div",{className:"plugin_row--pluginRowTitleAndBadge--FQjVh"},l.createElement("div",{className:"plugin_row--pluginRowTitle--GOOmC text--fontPos13--xW8hS text--_fontBase--QdLsd"},o.name),_),l.createElement("div",{className:"plugin_row--pluginRowDescription--7cthx text--fontPos11--2LvXf text--_fontBase--QdLsd",style:_?{WebkitLineClamp:1}:{}},(0,sc.G8)(o,void 0,!0))),l.createElement("div",{className:"plugin_row--pluginRowMetaAndCTA--A-TFN"},g&&l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.ikM})`},l.createElement(sf.So,{preview:l.createElement(sp.Z,{author:g,isHoverStateRedesignEnabled:h()}),className:h()?B()(cr,cn):cr,borderRadius:h()?13:2,allowHoverOnDropdownContents:!h(),verticalPosition:h()?"above":"below",dropdownClassName:h()?ci:""},h()?l.createElement(ez.o3,{to:new sm.xn({profileHandle:g.profile_handle}).to,trackingEventName:"community_hub_profile_preview__profile_visit",trackingProperties:{profileId:g.id},className:"plugin_row--pluginRowAvatarLink--EdvUq"},l.createElement(lH.e,{adtlClassName:co,key:g.id,entity:g,size:24})):l.createElement(lH.e,{adtlClassName:co,key:g.id,entity:g,size:24}))),l.createElement("div",{className:"plugin_row--pluginRowMetrics--TZFF7 text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(sb.cz,{currentUserLiked:E,likeCount:e.like_count,inPluginRow:!0}),l.createElement(sf.So,{disableRepositioning:!0,className:B()("plugin_row--toolTip--Uxz1M dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd","plugin_row--toolTipPositioning--OgVuh"),preview:(0,k.tx)("community.try.used_by_n_people",{num:e.unique_run_count})},l.createElement(sb.i8,{usageCount:(0,sc.mk)(e),inPluginRow:!0}))),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.dxy})`},u)))))}var cc=a(686257);function cd({children:e}){return l.createElement(l.Fragment,null,e)}var cm=a(546856),cu=a(313507);let c_=e=>{let t={};return e.filter(e=>{let a="model"in e?e.model.id:e.id;return!t[a]&&(t[a]=!0,!0)})};function cp(e="normal"){return"rows"===e?cu.bu:"profile"===e?cu._1:"compact"===e?cu.en:cu.z3}function cf({resources:e,adtlClassName:t,showAsTable:a=!1,showMoreCallback:r,onIntersectionChange:n,viewContext:i="feedResourceGrid",TileWrapper:o=cd}){let c=(0,sl.X5)(),d=(0,s.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null),m=l.useMemo(()=>c_(e),[e]);return l.createElement(ez.fu,{name:i},l.createElement("div",{className:B()(t||cu.z3,{[cu.wS]:c})},m.map((e,t)=>"is_widget"in e?e.is_widget?l.createElement(o,{key:`widget-${e.id}`,resourceId:e.id,resourceType:su.vt.WIDGET,resourceName:(0,so.qD)(e).name},l.createElement(cm.bN,{key:`widget-${e.id}`,index:t,resource:e,onIntersectionChange:t=>n?.(e,t),subView:i})):a?l.createElement(o,{key:`pluginRow-${e.id}`,resourceId:e.id,resourceType:su.vt.PLUGIN,resourceName:(0,so.qD)(e).name},l.createElement(cs,{key:`pluginRow-${e.id}`,index:t,resource:e,onIntersectionChange:t=>n?.(e,t),isOrgTeamBrowsing:!!(d?.team_id||d?.org_id)})):l.createElement(o,{key:`plugin-${e.id}`,resourceId:e.id,resourceType:su.vt.PLUGIN,resourceName:(0,so.qD)(e).name},l.createElement(cm.cS,{index:t,key:`plugin-${e.id}`,resource:e,onIntersectionChange:t=>n?.(e,t),subView:i})):"resources"in e?l.createElement(o,{key:`profileRow-${e.model.id}`,resourceId:e.model.id,resourceType:"profile",resourceName:e.model.name},l.createElement(cm.Yw,{index:t,key:`profileRow-${e.model.id}`,resource:e,authedActiveCommunityProfile:d})):"profile_handle"in e?l.createElement(o,{key:`profile-${e.id}`,resourceId:e.id,resourceType:"profile",resourceName:e.name},l.createElement(cm.UG,{key:`profile-${e.id}`,resource:e})):l.createElement(o,{key:`file-${e.id}`,resourceId:e.id,resourceType:su.vt.HUB_FILE,resourceName:(0,so.qD)(e).name},l.createElement(cm.Cv,{index:t,key:`file-${e.id}`,resource:e,onIntersectionChange:t=>n?.(e,t),subView:i})))),e.length>0&&r&&l.createElement(cc.a,{callback:e=>{e[0].isIntersecting&&r()}}))}var cg=a(813408),cE=(e=>(e.BUNDLE_SECTION="bundle_section",e.HERO_SECTION="hero_section",e))(cE||{});let ch=la.object({title:la.string(),description:la.string().optional(),imageUrl:la.string().url(),prompt:la.string(),category:la.string()});la.object({figjam_ai:la.array(ch).nullable()});let cv=la.object({hub_file_id:la.string().optional(),plugin_id:la.string().optional(),widget_id:la.string().optional(),title:la.string().optional(),description:la.string().optional()}),cy=la.object({resources:la.array(cv).nullish(),resource:cv.nullish()}).nonstrict(),cb=la.object({title:la.string().nullable(),description:la.string().nullable(),meta:cy,position:la.number(),section_type:la.nativeEnum(cE),created_at:la.string().nullable(),updated_at:la.string().nullable()}),cw=cb.extend({resources:la.array(la.custom())}),cT=cb.extend({resource:la.custom().nullable()}),cI=la.object({question:la.string(),answer:la.string()}),cC=la.object({faqs:cI.nullish(),breadcrumb_text:la.string().nullish()}).nonstrict();function cx(e,t){let a=(0,sI.Vm)(e);return t?.resources?.length?(t?.resources).find(t=>a===su.vt.HUB_FILE?t?.hub_file_id===e.id:a===su.vt.PLUGIN?t?.plugin_id===e.id:a===su.vt.WIDGET?t?.widget_id===e.id:void 0):t?.resource?t?.resource:void 0}la.object({title:la.string().nullable(),description:la.string().nullable(),header_img_url:la.string().url().nullable(),meta_title:la.string().nullable(),meta_description:la.string().nullable(),thumbnail_url:la.string().url().nullable(),meta:cC,url_slug:la.string(),sections:la.array(la.union([cw,cT])),profile:cg.bo,publishing_status:la.string(),latest_published_at:la.string().nullable(),created_at:la.string().nullable(),updated_at:la.string().nullable(),is_template_url:la.boolean(),faqs:la.array(cI).nullable()});let cN={"ui-kits":"ui-kits","2023-presentation-templates":"presentations","2023-resume-templates":"resume-templates","plugins-accessibility":"accessibility","org-chart-templates":"diagramming","plugins-tidy-cleanup":"file-organization","flow-chart-templates":"diagramming",icons:"icons","build-and-play":"fun-games","figjam-plugins":"whiteboarding",widgets:"team-meetings",typography:"fonts-typography","favorite-educational":"education","favorite-graphic-resources":"visual-assets",workshops:"brainstorming",diagramming:"diagramming",meetings:"team-meetings",engineering:"development",planning:"strategic-planning",brainstorms:"brainstorming",education:"education","favorite-team-bonding":"team-meetings",fun:"fun-games","graphic-resources":"visual-assets","how-teams-jam":"team-meetings","figjam-team-bonding":"team-meetings",educational:"education"},cS={"world-emoji-day-2021":"world-emoji-day","config2021-sessions":"config-sessions","holidays-2022":"holidays","config-2022-speaker-decks":"config-speaker-decks","schema-2022-speaker-decks":"schema-speaker-decks","social-media":"instagram-mockup-designs","pride-2021":"pride-posters"},ck="community_collections--bannerContainer--7yGIP",cL="community_collections--copyButton--Mb-fA text--fontPos13--xW8hS text--_fontBase--QdLsd",cA="community_collections--resourcePreviewRow--wcOSC",cR="community_collections--resourcePreview--QDaaf",cF="community_collections--breadcrumbArrow--bv6Ia",cP="community_collections--parentBreadcrumb--fhqqK community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",cO="community_collections--footerContainer--OI6W4";function cD({page:e}){let t=l.useRef(null),a=function(e,t=4,a=540){let[r,n]=l.useState(t),i=l.useCallback(()=>{if(window.innerWidth<=a){n(t);return}let r=e.current.children[1];if(0===r.children.length){n(0);return}let i=r.children[0].getBoundingClientRect().width;n(Math.floor(r.getBoundingClientRect().width/i))},[e,n,t,a]);return(0,u.h)(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i))),r}(t),r=function(e){let{resources:t}=e.sections.reduce(({resources:e,resourceIds:t},a)=>{if("bundle_section"===a.section_type)for(let r of a.resources)r?.id&&!t.has(r.id)&&(t.add(r.id),e.push(r));else if("hero_section"===a.section_type){let r=a.resource;r&&!t.has(r.id)&&(e.push(r),t.add(r.id))}return{resources:e,resourceIds:t}},{resources:[],resourceIds:new Set});return t}(e);return l.createElement("div",{className:"community_collections--communityShelfAllPageRow--xw1Ut",ref:t},l.createElement("div",{className:"community_collections--communityShelfAllPageHeader--pbqhx"},l.createElement("div",{className:"community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("div",{className:"community_collections--communityShelfAllPageSubTitle--sP1yP text--fontPos12--YsUAh text--_fontBase--QdLsd"}),l.createElement("div",{className:"community_collections--communityShelfAllPageTitle--r8QHx ellipsis--ellipsis--Tjyfa text--fontPos24--YppUD text--_fontBase--QdLsd"},e.title)),l.createElement(se.N_,{to:e.is_template_url?`/community/templates/${e.url_slug}`:`/community/collections/${e.url_slug}`,className:"community_collections--communityShelfAllPageHeaderRightSide--UQUv8 community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.shelves.show_more"))),l.createElement(cf,{resources:r.slice(0,a),adtlClassName:"community_collections--allCollectionsResourceGrid--jMwuQ feed_page--feedGrid--Wm-8Q"}))}function cM(e,t,a){return async(r,{pageParam:n})=>{let i;n?i=n:(i=e(r),i=`${i}${-1===i.indexOf("?")?"?":"&"}page_size=${t}`);let o=await (0,td.GD)(i);return{data:a?a(o.data.meta):o.data.meta,nextPage:o.data.pagination?.next_page,prevPage:o.data.pagination?.prev_page}}}var cB=a(547807);let cU=new class{constructor(){this.CollectionPageSchemaValidator=(0,cB.vh)()}getCollectionPageByUrlSlug(e,t){return this.CollectionPageSchemaValidator.validate(async({xr:a})=>await a.get(`/api/collection_pages/${e}?is_template_url=${t}`))}},cV=new class{constructor(){this.CollectionPageSchemaValidator=(0,cB.vh)()}getCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.get(`/api/admin/collection_pages/${e}`))}updateCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.put(`/api/admin/collection_pages/${e.urlSlug}`,cB.td.toAPIParameters(e.collectionPage||{})))}deleteCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.del(`/api/admin/collection_pages/${e.urlSlug}`))}createCollectionPage(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.post("/api/admin/collection_pages",cB.td.toAPIParameters(e.collectionPage||{})))}},cH=rl.M4.Query({fetch:async({urlSlug:e,isTemplateUrl:t})=>(await cU.getCollectionPageByUrlSlug(e,t)).data.meta});rl.M4.Query({fetch:async({urlSlug:e})=>(await cV.getCollectionPageByUrlSlug(e)).data.meta}),rl.M4.Mutation(async({urlSlug:e,collectionPage:t})=>(await cV.updateCollectionPageByUrlSlug({urlSlug:e,collectionPage:t})).data.meta),rl.M4.Mutation(async({urlSlug:e})=>(await cV.deleteCollectionPageByUrlSlug({urlSlug:e})).data.meta),rl.M4.Mutation(async e=>(await cV.createCollectionPage({collectionPage:e})).data.meta),rl.M4.PaginatedQuery({fetch:cM(()=>"/api/admin/collection_pages",8)});let cW=rl.M4.PaginatedQuery({fetch:cM(()=>"/api/collection_pages",8)});var cj=a(222085),c$=a(22332),cG=a(542061),cY=a(463420);function cz({breadcrumbs:e,surface:t}){return l.createElement("div",{className:B()("community_breadcrumbs--breadcrumbsContainer--e76p8",{"community_breadcrumbs--resourcePagePadding--MUCrg":"resource"===t,"community_breadcrumbs--categoryPadding--b-ilJ":"category"===t})},l.createElement("div",{className:"community_breadcrumbs--breadcrumbs--S2TN8"},l.createElement(ez.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"community_breadcrumbs_home_clicked"},to:"/community"},l.createElement("div",{className:"community_breadcrumbs--homeIcon--VSWVj"},l.createElement(cG.Q,null))),e.map(e=>l.createElement("div",{className:"community_breadcrumbs--breadcrumbContainer--eI8-l",key:e.text},l.createElement("div",{className:"community_breadcrumbs--chevronIcon--rXeJw"},l.createElement(cY.k,null)),l.createElement(ez.o3,{...e.linkProps,className:"community_breadcrumbs--breadcrumb--Op180 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text)))))}function cQ({collection:e}){let t=(0,c$.N)(`(max-width: ${i4._C6})`),a=[{text:(0,k.t)("community.breadcrumbs.collections"),linkProps:{to:"/community/collections",trackingEventName:"cmty_category"}},e?.title&&{text:e.title,linkProps:{to:`/community/collections/${e.url_slug}`,trackingEventName:"cmty_category",trackingProperties:{name:"collection_breadcrumb_clicked",is_mobile:t}}}].filter(Boolean);return l.createElement(cz,{breadcrumbs:a,surface:"collection"})}var cK=a(800576),cq=a(742580),cZ=a(944452);let cX="footer--divider--srDs2";var cJ=a(686352);let c0=la.object({label:la.string(),url:la.string()});function c1(){let e=[{title:(0,k.t)("community.footer.popular_searches"),items:[{label:(0,k.t)("community.footer.resume"),url:new cZ.IE({categorySlug:cq.LJ.resumes}).href},{label:(0,k.t)("community.footer.mobile_apps"),url:new cZ.IE({categorySlug:cq.LJ.mobileApps}).href},{label:(0,k.t)("community.footer.presentations"),url:new cZ.IE({categorySlug:cq.LJ.presentations}).href},{label:(0,k.t)("community.footer.ui_kits"),url:new cZ.IE({categorySlug:cq.LJ.uiKits}).href},{label:(0,k.t)("community.footer.calendar_templates"),url:new cZ.IE({categorySlug:cq.LJ.calendarTemplates}).href}]},{title:(0,k.t)("community.footer.most_used"),items:[{label:"Material 3 Design Kit",url:"/community/file/1035203688168086460"},{label:"iOS 18 and iPadOS 18",url:"/community/file/1385659531316001292"},{label:"Figma auto layout playground",url:"/community/file/784448220678228461"},{label:"Anima - Figma to React, HTML",url:"/community/plugin/857346721138427857/anima-figma-to-react-html-react-html-in-devmode"},{label:"Ant Design Open Source",url:"/community/file/831698976089873405"}]},{title:(0,k.t)("community.footer.recommended_categories"),items:[{label:(0,k.t)("community.collections.instagram_templates"),url:new cZ.IE({categorySlug:cq.LJ.instagramTemplates}).href},{label:(0,k.t)("community.footer.workshop_templates"),url:new cZ.IE({categorySlug:cq.LJ.workshopTemplates}).href},{label:(0,k.t)("community.footer.data_templates"),url:new cZ.IE({categorySlug:cq.LJ.dataTemplates}).href},{label:(0,k.t)("community.collections.laptop_mockups"),url:new cZ.IE({categorySlug:cq.LJ.laptopMockups}).href},{label:(0,k.t)("community.footer.design_inspirations"),url:new cZ.IE({categorySlug:cq.LJ.designInspirations}).href}]},{title:(0,k.t)("community.footer.top_categories"),items:[{label:(0,k.t)("categories.design_templates"),url:new cZ.IE({categorySlug:cq.LJ.designTemplates}).href},{label:(0,k.t)("categories.libraries"),url:new cZ.IE({categorySlug:cq.LJ.libraries}).href},{label:(0,k.t)("categories.icons"),url:new cZ.IE({categorySlug:cq.LJ.icons}).href},{label:(0,k.t)("categories.development"),url:new cZ.IE({categorySlug:cq.LJ.development}).href},{label:(0,k.t)("categories.brainstorming"),url:new cZ.IE({categorySlug:cq.LJ.brainstorming}).href}]}];function t({href:e,children:t}){let a={trackingEventName:"cmty_footer",trackingProperties:{name:"footer_link_clicked",link:e}};return(0,cK.vh)(e)?l.createElement(ez.L0,{href:e,...a},t):l.createElement(ez.o3,{to:e,...a},t)}return l.createElement("div",{className:"footer--footer--tuKBS text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"community-footer"},l.createElement("div",{className:"footer--sectionsContainer--BR5as"},e.map(e=>l.createElement(nH.Y,{key:e.title,direction:"vertical",padding:{right:16}},l.createElement("div",{className:"footer--sectionTitle--pM53E"},e.title),e.items.map(e=>l.createElement(t,{key:e.url,href:e.url},e.label))))),l.createElement(nH.Y,{direction:"vertical",spacing:16},l.createElement(t,{href:"/"},l.createElement(j.B,{svg:cJ.A,className:"footer--wordmark--CrA9E"})),l.createElement("div",null,l.createElement("span",null,(0,k.tx)("community.footer.copyright")),l.createElement("span",{className:cX},"\u2022"),l.createElement(t,{href:`${(0,p.tl)().figma_url}/auto-sitemaps/figma-community-index.xml`},(0,k.tx)("community.footer.site_map")),l.createElement("span",{className:cX},"\u2022"),l.createElement(t,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines"},(0,k.tx)("community.footer.community_guidelines")),l.createElement("span",{className:cX},"\u2022"),l.createElement(t,{href:"/community-terms"},(0,k.tx)("community.footer.terms_of_service")))))}la.object({title:la.string(),items:la.array(c0)});var c2=a(886133);let c4="load_more_pagination_button--loadMoreButtonWrapper--nNqNo";function c8({onClick:e,isLoading:t,isMoreToFetch:a}){return t?l.createElement("div",{className:c4},l.createElement(c2.y$,null)):a?l.createElement("div",{className:c4},l.createElement(tO.tM,{onClick:e},(0,k.tx)("community.landing_page.load_more"))):null}var c3=a(406363),c5=a(616121),c9=a(694953);let c6=l.createElement("svg",{width:"7",height:"10",viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M1 1L5 4.91111L1 9",strokeWidth:"2"})),c7=l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0304 9.53033L8.00006 16.5607L3.46973 12.0303L4.53039 10.9697L8.00006 14.4393L13.9697 8.46967L15.0304 9.53033Z",fill:"white"})),de=l.createElement("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.52469 13.6568L8.17634 11.0052L8.88345 11.7123L6.2318 14.3639C4.96259 15.6331 2.90481 15.6331 1.6356 14.3639C0.366401 13.0947 0.366401 11.0369 1.6356 9.76772L4.28726 7.11607L4.99436 7.82317L2.34271 10.4748C1.46403 11.3535 1.46403 12.7781 2.34271 13.6568C3.22139 14.5355 4.64601 14.5355 5.52469 13.6568ZM11.7119 8.88383L11.0048 8.17673L13.6564 5.52507C14.5351 4.6464 14.5351 3.22177 13.6564 2.34309C12.7777 1.46441 11.3531 1.46442 10.4744 2.34309L7.82279 4.99474L7.11568 4.28764L9.76733 1.63599C11.0365 0.366784 13.0943 0.366784 14.3635 1.63599C15.6327 2.90519 15.6327 4.96298 14.3635 6.23218L11.7119 8.88383ZM6.26126 10.5043L10.5039 6.26164L9.73787 5.49561L5.49523 9.73825L6.26126 10.5043Z",fill:"white"})),dt={Blue:c5.wR,"Multiplayer Yellow":c5.Ks,Teal:c5.Dm,"Hot Pink":c5.FX,Redish:c3.qE,Green:c5.zo,Purple:c5.A8,"Dark Blue":c3.S0,"FigJam Primary":c5.L2},da=Object.keys(dt)[0];function dr(){let{urlSlug:e}=(0,lJ.g)();return l.createElement(l.Fragment,null,l.createElement(dl,{urlSlug:e}))}function dn({isLoading:e,collectionPages:t}){if(!t.length&&e)return null;let a=t.filter(e=>!function(e){for(let t of e.sections)if("bundle_section"===t.section_type&&t.meta.hasOwnProperty("figjam_ai"))return!0;return!1}(e));return l.createElement(l.Fragment,null,a.map(e=>l.createElement(cD,{key:e.url_slug,page:e})))}function di(){let[e,t]=(0,f.IT)(cW("")),a="loading"===e.status||!!e.isFetchingNextPage;return l.createElement(l.Fragment,null,l.createElement(l7.S,null),l.createElement("div",{className:"community_collections--allCollectionsPage--YFBlU"},l.createElement("div",{className:"community_collections--allCollectionsHeaderContainer--9UL5p"},l.createElement("h1",{className:"community_collections--allCollectionsHeader--L0frM text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI"},(0,k.tx)("community.categories.figma_community_collections")),l.createElement("h2",{className:"community_collections--allCollectionsSubHeader--Ww0AY text--fontPos18--rYXJb text--_fontBase--QdLsd"},(0,k.tx)("community.categories.check_out_collections_of_some_of_our_favorite_design_files_plugins_and_creators_from_figma_community"))),l.createElement(cQ,null),l.createElement(dn,{isLoading:a,collectionPages:e.data||[]}),l.createElement(c8,{onClick:e=>{e.preventDefault(),t.fetchNextPage()},isLoading:a,isMoreToFetch:!!e.hasNextPage}),!(0,d.y3)()&&l.createElement("div",{className:cO},l.createElement(c1,null))))}function dl(e){let{urlSlug:t,profileTile:a,onSetShelf:r}=e,[n,i]=l.useState(null),o=()=>{cj.A.getCommunityShelves({urlSlug:t}).then(({data:e})=>{r&&r(e.meta[0]),i(e.meta[0])}).catch(()=>{})};if(l.useEffect(()=>{o()},[t]),!n)return l.createElement(l.Fragment,null);let s=l.createElement("div",{className:ck},l.createElement("div",{className:"community_collections--breadcrumbTrailContainer--uibe8"},l.createElement("ul",{className:"community_collections--breadcrumbTrail--JQcAW"},l.createElement("li",{className:cP},l.createElement("a",{href:"/community"},(0,k.tx)("community.view_bar.home"))),l.createElement("div",{className:cF},c6),l.createElement("li",{className:cP},l.createElement("a",{href:"/community/collections"},(0,k.tx)("community.shelves.all_collections"))),l.createElement("div",{className:cF},c6),l.createElement("li",{className:"community_collections--childBreadcrumb--X4qf6 community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",style:{color:dt[n.shelf_meta.banner?.color||da]}},l.createElement("a",{href:window.location.href},(0,k.Yd)(n.i18n_meta.title,n.title)))))),c=l.createElement("div",{className:"community_collections--gridContainer--PkTIN"},l.createElement("div",{className:cu.IB},l.createElement("div",{className:"community_collections--feed--71Y8R feed_page--feed--7UNQq text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(cf,{resources:n.shelf_content,profileTile:a}))));return l.createElement(l.Fragment,null,l.createElement(l7.S,null),l.createElement(dc,{shelf:n}),s,c,!(0,d.y3)()&&l.createElement("div",{className:cO},l.createElement(c1,null)))}function ds(e){let{isMobileScreen:t}=e,[a,r]=l.useState(!1);return a?l.createElement("button",{className:cL},t?c7:(0,k.tx)("community.view_bar.copied")):l.createElement("button",{className:cL,onClick:()=>{r(!0),(0,so.lW)(window.location.href),setTimeout(()=>r(!1),1e3)}},t?de:(0,k.tx)("community.view_bar.copy_link"))}function dc(e){let{shelf:t,bannerStyle:a}=e,[r,n]=l.useState(window.innerWidth),[i,o]=l.useState(null);l.useEffect(()=>{let e=i?.querySelectorAll(`.${cR}`),t=setInterval(()=>{e?.forEach((e,t)=>{setTimeout(()=>{e.style.transform="scale(1.03) translateX(-3px)",setTimeout(()=>{e.style.transform="scale(1)"},400)},100*t)})},4e3);return()=>clearTimeout(t)},[i]);let s=t?new Date(t?.updated_at):new Date;l.useEffect(()=>{let e=()=>{n(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=dt[t?.shelf_meta.banner?.color||Object.keys(dt)[0]];return l.createElement("div",{className:a||ck,ref:e=>o(e)},l.createElement("div",{className:"community_collections--banner--S2zb2 text--fontPos13--xW8hS text--_fontBase--QdLsd",style:{background:`linear-gradient(45deg, ${c}, ${c}80)`}},l.createElement("div",{className:"community_collections--bannerLeft--1oEnB"},l.createElement("div",{className:"community_collections--info--7PVz2"},t&&l.createElement(l.Fragment,null,l.createElement("div",{className:"community_collections--subtitle--dm958 text--fontPos12--YsUAh text--_fontBase--QdLsd community_collections--marginX--8hpWs"},(0,k.Yd)(t.i18n_meta.subtitle,t.subtitle)),l.createElement("h1",{className:"community_collections--title--cqPZt text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI community_collections--marginX--8hpWs text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.Yd)(t.i18n_meta.title,t.title)),l.createElement("p",{className:"community_collections--description--cjsSf community_collections--marginX--8hpWs text--fontPos16--oMC-G text--_fontBase--QdLsd"},(0,k.Yd)(t.i18n_meta.description,t.description))),l.createElement("div",{className:"community_collections--meta--Z25Vv"},l.createElement("div",{className:"community_collections--metaLeft--9gNAe"},l.createElement("div",{className:"community_collections--curatedImage--YDOQy community_collections--metaSpace--9Jcor"},l.createElement(j.B,{svg:c9.A,width:"15px",height:"15px",useOriginalSrcFills_DEPRECATED:!0})),l.createElement("div",{className:"community_collections--curated--fHhRS"},(0,k.tx)("community.view_bar.curated_by"),"\xa0"),l.createElement("a",{className:"community_collections--figmaLink--4hdDG community_collections--metaSpace--9Jcor",href:`${(0,p.tl)().figma_url}/@figma`},(0,k.tx)("community.view_bar.figma"))),l.createElement("div",{className:"community_collections--metaRight--hhG9k"},l.createElement("div",{className:"community_collections--separator--OfDbC community_collections--metaSpace--9Jcor"},"\u2022\xa0"),l.createElement("div",{className:"community_collections--updateDate--vgkWS"},(0,k.tx)("community.view_bar.updated_date",{date:s.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})),l.createElement(ds,{isMobileScreen:r<=540}))))),l.createElement("div",{className:"community_collections--bannerRight--CuT0Z"},t?.shelf_content&&l.createElement(dm,{resources:t.shelf_content}))))}function dd({resource:e}){let t=(0,so.qD)(e),a=(0,so.Qo)(e),r=e.thumbnail_url;return l.createElement("div",{className:cR},a?l.createElement(sx.Xy,{hubFileId:e.id,image:r,alt:t.name,onLoad:e=>e.target.style.opacity="1",resizedThumbnailUrls:e.resized_thumbnail_urls}):l.createElement("img",{alt:t.name,src:r}))}function dm(e){let t=e.resources.filter(e=>e&&("current_hub_file_version_id"in e||"current_plugin_version_id"in e));return l.createElement("div",{className:"community_collections--previewTransformContainer--8b6Bh"},l.createElement("div",{className:cA},!!t[0]&&l.createElement(dd,{resource:t[0]}),!!t[1]&&l.createElement(dd,{resource:t[1]})),l.createElement("div",{className:"community_collections--previewRowMiddle--jwXWH community_collections--resourcePreviewRow--wcOSC"},!!t[2]&&l.createElement(dd,{resource:t[2]}),!!t[3]&&l.createElement(dd,{resource:t[3]})),l.createElement("div",{className:cA},!!t[4]&&l.createElement(dd,{resource:t[4]}),!!t[5]&&l.createElement(dd,{resource:t[5]})))}var du=a(240837);function d_({collection:e}){return l.createElement("div",{className:"header_attributes--attributes--UE7uE text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(du.L,{publishers:[e.profile]}),l.createElement("div",{className:"header_attributes--profile--qrbMp"},(0,k.tx)("community.collections.curated_by"),l.createElement("span",{className:"header_attributes--profileName--n9lfZ"},l.createElement(du.I,{publishers:[e.profile],useSmallWidth:!0,removeByLabel:!0,openInNewTab:!0}))),!!e.latest_published_at&&l.createElement("div",{className:"header_attributes--date--Zt4VW"},l.createElement("span",{className:"header_attributes--dot--1yVwn"},"\u2022"),l.createElement("span",null,new Date(e.latest_published_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))))}function dp({collection:e,preview:t=!1}){let a=(0,c$.N)(`(max-width: ${i4._C6})`);return l.createElement("div",{className:"collection_banner--collectionBanner--vyr9z"},l.createElement("div",{className:B()("collection_banner--headerContainer--52lrp")},!t&&l.createElement(cQ,{collection:e}),l.createElement("div",{className:B()("collection_banner--collectionHeader--85DYX text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",{[S.cx.flexColumn.$]:a})},l.createElement("h1",null,e.title)),l.createElement("p",{className:"collection_banner--collectionDescription--TjSn1 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.description)),l.createElement(d_,{collection:e}))}var df=a(815063);function dg({title:e,hasDivider:t=!1,children:a}){let[r,n]=(0,l.useState)(!1);return l.createElement(nH.Y,{verticalAlignItems:"start",width:"fill-parent",height:"hug-contents"},l.createElement("div",{tabIndex:0,className:"faq_accordion--accordionButton--t23kN",role:"button",onClick:()=>{n(e=>!e)}},l.createElement("div",{className:B()("faq_accordion--accordionButtonContent--lHulm text--fontPos13--xW8hS text--_fontBase--QdLsd",{"faq_accordion--divider--VdCtu":t})},l.createElement(nH.Y,{direction:"vertical"},l.createElement(nH.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center"},l.createElement("div",{className:r?"faq_accordion--semibold--ff-Ee":"faq_accordion--medium--4FEsg"},e),l.createElement(eD.In,{icon:r?"chevron-up-32":"chevron-down-32",fill:"secondary"})),l.createElement("div",{className:r?void 0:"faq_accordion--hidden--G1Whc"},a)))))}function dE({faqs:e}){return l.createElement("div",{className:"faqs_section--sectionContainer--NWPTP"},l.createElement(nH.Y,{horizontalAlignItems:"center"},l.createElement("div",{className:"faqs_section--section--5Tey9"},l.createElement(nH.Y,{width:"fill-parent",height:"hug-contents",direction:"vertical",spacing:0},l.createElement("div",{className:"faqs_section--sectionTitle--I5tGC text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.tx)("community.collections.frequently_asked_questions")),l.createElement("div",{className:"faqs_section--sectionBody--e9hQ3"},e.map((e,t)=>l.createElement(dg,{key:t,hasDivider:0!==t,title:e.question},l.createElement("p",{className:"faqs_section--answer--CBO9A"},e.answer))))))))}var dh=a(675665);let dv=(0,n1.eU)(dh.$O.DescriptionView);var dy=a(892123),db=a(175420),dw=a(215822),dT=a(365292);function dI({orgName:e}){return l.createElement(dT.Ex,{background:"white",height:"16",border:"strong"},e?(0,k.tx)("community.plugins.private_for_plugin_org_name",{orgName:e}):(0,k.tx)("community.plugins.private_for_your_organization"))}var dC=a(17284);let dx=a(408552).ai;function dN({resource:e,resourceContent:t}){let a;let r=dx?l.createElement(dx,{resource:t}):void 0,n=(0,sI.$9)(e);return n&&(a=(0,dw.Rt)(n)?l.createElement(dI,{orgName:n.roles?.org?.name}):void 0),l.createElement(l.Fragment,null,r||a||l.createElement(dC.I,{badges:e.badges,height:"16",border:"strong",disableIcon:!0}))}var dS=a(203008),dk=a(743282),dL=a(195847),dA=a(442898),dR=a(727749),dF=a(756085),dP=a(332086);let dO="save-button-clicked";function dD(e,t,a,r){return function(n,i){let o=i();if((0,tN.Cu)(dB({state:o,resource:e,viewContext:t,action:"save",loggedIn:!!o.user,forOrg:a}),dO),!o.user){(0,sw.$D)(np.FigmaTeam.COMMUNITY,Error("[Community Saves] Attempted unsave without currentUser"));return}if((0,su.U)(e)){let t=()=>{let t=td.Ay.post(`/api/hub_file/${e.id}/save`),a=`optimistic-resource-save-${(0,dk.g)()}`;(0,tc.WB)().optimisticallyCreate({ResourceSave:{[a]:{userId:o.user.id,hubFileId:e.id,createdAt:new Date(Date.now())}}},t),t.then(()=>{n(a0.F.enqueue({message:(0,k.t)("community.saves.file_saved_for_your_profile"),type:"resource-save"}))}).catch(e=>{(0,sw.$D)(np.FigmaTeam.COMMUNITY,e)})};if(!o.authedActiveCommunityProfile?.public_at){n(eY.to({type:dP.G$,data:{userId:o.user.id,variations:[dP.FF.OPT_IN],onFinish:t}}));return}t()}else n((0,dR.d6)({id:e.id,resourceType:(0,sI.Vm)(e),communityProfile:i().authedActiveCommunityProfile||void 0,orgId:(0,p.kc)().cmty_deprecate_browse_as_admin?r:a&&o.authedActiveCommunityProfile?.org_id||void 0,source:dR.uR.COMMUNITY_HUB,optimisticData:{resource:e}}))}}function dM(e,t,a,r){return function(n,i){let o=i();if(!o.user){(0,sw.$D)(np.FigmaTeam.COMMUNITY,Error("[Community Saves] Attempted save without currentUser"));return}((0,tN.Cu)(dB({state:o,resource:e,viewContext:t,action:"unsave",loggedIn:!!o.user,forOrg:a}),dO),(0,su.U)(e))?td.Ay.del(`/api/hub_file/${e.id}/save`).then(()=>{n(a0.F.enqueue({message:(0,k.t)("community.saves.file_removed_from_your_profile"),type:"resource-save"}))}).catch(e=>{(0,sw.$D)(np.FigmaTeam.COMMUNITY,e)}):n((0,dR.s1)({id:e.id,resourceType:(0,sI.Vm)(e),communityProfile:i().authedActiveCommunityProfile||void 0,orgId:(0,p.kc)().cmty_deprecate_browse_as_admin?r:a&&o.authedActiveCommunityProfile?.org_id||void 0,source:dR.uR.COMMUNITY_HUB}))}}function dB({state:e,resource:t,viewContext:a,action:r,loggedIn:n,forOrg:i=!1}){return{action:r,resourceId:t.id,resourceType:(0,sI.Vm)(t),viewContext:a,loggedIn:n,forOrgId:i?e.authedActiveCommunityProfile?.org_id:void 0,searchSessionId:(0,si.w)(e)}}function dU(e,t){let a=(0,s.wA)(),r=!!function(e,t){let a=(0,nf.Rs)(nE.Ko6,{hubFileId:t},{enabled:e===su.vt.HUB_FILE}),r=(0,nf.Rs)(nE.H$B,{pluginId:t,orgIds:[]},{enabled:e===su.vt.PLUGIN||e===su.vt.WIDGET});return(a.data?.resourceSave?.createdAt||r.data?.pluginInstall?.createdAt)??null}((0,sI.Vm)(e),e.id),n=l.useCallback(n=>{(0,ak.YQ)({id:"cmty-detail-view-saved-button-clicked"}),n?.stopPropagation(),r?a(dM(e,t)):a(dD(e,t))},[r,a,e,t]);return l.useCallback(e=>{(0,dA.FL)(dL.qB.SIGN_UP,{preventDefaultRedirect:!0})},[]),{onUserSaveActionClick:n,isResourceSavedForUser:r}}function dV(e,t){let a=(0,s.wA)(),r=(0,s.d4)(e=>(0,iy.Tm)(e)),n=(0,nf.Rs)(nE.H$B,{pluginId:e.id,orgIds:Object.keys(r)}),i=(0,nf.Rs)(nE.KC4,{pluginId:e.id,orgIds:Object.keys(r)}),o=l.useMemo(()=>{if((0,su.U)(e))return{};let t=n.data?.orgPluginInstalls.status!==tP.tT.Loaded?[]:n.data?.orgPluginInstalls.data||[],a={};return Object.values(r).forEach(r=>{(!((0,su.I0)(e)&&r.plugins_whitelist_enforced||(0,su.xQ)(e)&&r.widgets_whitelist_enforced)||(i.data?.orgAllowlistedPlugins.status!==tP.tT.Loaded?[]:i.data?.orgAllowlistedPlugins.data||[]).some(e=>e.orgId===r.id))&&(a[r.id]=t.some(e=>e.orgId===r.id))}),a},[r,i,e,n.data?.orgPluginInstalls]),c=l.useCallback((r,n)=>{n?.stopPropagation(),o[r]?a(dM(e,t,!0,r)):a(dD(e,t,!0,r))},[a,e,t,o]);return{savesByOrgId:o,onOrgSaveAction:c}}let dH="save_button--buttonContainerBrandColors--xQhK7",dW="save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",dj="save_button--buttonContainerBaseWide--EDZcF",d$="save_button--buttonContainer--JQjtD save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",dG="save_button--iconContainer--Brlqe",dY="save_button--iconDisabled--15buP save_button--iconContainer--Brlqe";function dz(e){return l.createElement(dQ,{...e})}function dQ({resource:e,viewContext:t,authedActiveCommunityProfile:a}){let{onOrgInstallActionClick:r,isResourceInstalledForOrg:n}=function(e,t){let a=(0,s.wA)(),{orgPlugins:r,orgWidgets:n}=(0,dF.Be)(),i=(0,su.xQ)(e)?n[e.id]:r[e.id];return{onOrgInstallActionClick:l.useCallback(r=>{r.stopPropagation(),i?a(dM(e,t,!0)):a(dD(e,t,!0))},[a,i,e,t]),isResourceInstalledForOrg:i}}(e,t),i=(0,ab.yN)({migrationGroup:aw.L.GROUP_4,attribute:"hasResourceAllowlist",component:"SaveButtonOrgInner",legacy:(t,a)=>(0,su.xQ)(e)?a?.widgets_whitelist_enforced:a?.plugins_whitelist_enforced,migrated:(t,a)=>(0,su.xQ)(e)?a?.widgetsWhitelistEnforced:a?.pluginsWhitelistEnforced}),o=(0,dF.ll)(),c=(0,dF.U6)(),d=(0,su.xQ)(e)?!!c[e.id]:!!o[e.id];return i&&!d?l.createElement("button",{className:d$,disabled:!0},l.createElement("div",{className:dY},l.createElement(dS.LP,null))):l.createElement("button",{className:d$,onClick:r,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":n?(0,k.t)("community.saves.remove_this_resource_for_everyone_at",{orgName:a.name}):(0,k.t)("community.saves.save_this_resource_for_everyone_at",{orgName:a.name})},l.createElement("div",{className:dG},n?l.createElement(dS.Ns,null):l.createElement(dS.LP,null)))}let dK="community-save-button-dropdown";function dq(e){let{viewContext:t}=e,a=(0,s.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null);return(0,p.kc)().cmty_deprecate_browse_as_admin?l.createElement(dZ,{resource:e.resource,viewContext:t,type:e.type,theme:e.theme,allowOrgSaves:e.allowOrgSaves,enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter}):a?.team_id||a?.org_id&&(0,su.U)(e.resource)?l.createElement("button",{className:d$,disabled:!0},l.createElement("div",{className:dY},l.createElement(dS.LP,null))):a?.org_id?l.createElement(dz,{resource:e.resource,viewContext:t,authedActiveCommunityProfile:a}):l.createElement(dJ,{resource:e.resource,viewContext:t,type:e.type,theme:e.theme,enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}function dZ({resource:e,viewContext:t,type:a,theme:r,allowOrgSaves:n,enableWideButtonForStickyFooter:i}){let o=(0,s.wA)(),{onUserSaveActionClick:c,isResourceSavedForUser:d}=dU(e,t),{savesByOrgId:m}=dV(e,t),u=n?m:{},_=l.useRef(null),p=B()(dW,{[S.cx.gap6.pl16.pr16.$]:"containText"===a,[dH]:"brand"===r,[S.cx.w40.h40.$]:"square"===a,[dj]:i}),f=B()(dG,{[S.cx.ml2.$]:"containText"===a}),g="brand"===r?"var(--color-icon-onbrand)":void 0,E=d||Object.values(u).some(e=>e);return l.createElement(l.Fragment,null,l.createElement("button",{className:p,onClick:e=>{if(0===Object.keys(u).length)return c(e);let t=_.current?.getBoundingClientRect();t&&o(K.j7({type:dK,data:{targetRect:t}}))},"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":eR.Ib.TEXT,ref:_,"data-tooltip":E?(0,k.t)("community.saves.remove_from_saves"):(0,k.t)("community.saves.save")},l.createElement("div",{className:f},E?l.createElement(dS.Ns,{fill:g}):l.createElement(dS.LP,{fill:g})),"containText"===a&&l.createElement("div",null,(0,k.tx)(E?"community.saves.remove_from_saves":"community.saves.save_for_later"))),n&&l.createElement(dX,{resource:e,viewContext:t}))}function dX({resource:e,viewContext:t}){let a=(0,s.wA)(),r=(0,s.d4)(e=>e.dropdownShown?.type===dK),n=(0,s.d4)(e=>e.dropdownShown?.data?.targetRect),{onUserSaveActionClick:i,isResourceSavedForUser:o}=dU(e,t),{savesByOrgId:c,onOrgSaveAction:d}=dV(e,t),m=(0,s.d4)(e=>(0,iy.Tm)(e));if((0,su.U)(e))return null;let u=[{displayText:(0,k.t)("community.saves.save_this_resource_for_yourself"),isChecked:o,callback:()=>{i()}}],_=Object.values(m).map(e=>({displayText:(0,k.t)("community.saves.save_for_everyone_at",{orgName:e.name}),isChecked:c[e.id],callback:()=>{d(e.id)}}));return u=u.concat(_),l.createElement(l.Fragment,null,r&&l.createElement(aP.j,{showPoint:!0,items:u,onSelectItem:(e,t)=>{e.callback&&e.callback("",null,a,t)},parentRect:n,dispatch:a}))}function dJ({resource:e,viewContext:t,type:a,theme:r,enableWideButtonForStickyFooter:n}){let{onUserSaveActionClick:i,isResourceSavedForUser:o}=dU(e,t),s=B()(dW,{[S.cx.gap6.pl16.pr16.$]:"containText"===a,[dH]:"brand"===r,[S.cx.w40.h40.$]:"square"===a,[dj]:n}),c=B()(dG,{[S.cx.ml2.$]:"containText"===a}),d="brand"===r?"var(--color-icon-onbrand)":void 0;return l.createElement("button",{className:s,onClick:i,"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":eR.Ib.TEXT,"data-tooltip":o?(0,k.t)("community.saves.remove_from_saves"):(0,k.t)("community.saves.save")},l.createElement("div",{className:c},o?l.createElement(dS.Ns,{fill:d}):l.createElement(dS.LP,{fill:d})),"containText"===a&&l.createElement("div",null,(0,k.tx)(o?"community.saves.remove_from_saves":"community.saves.save_for_later")))}function d0(e){return l.createElement(dq,{resource:e.resource,viewContext:e.viewContext,type:"square",theme:"default",allowOrgSaves:!0})}function d1(e){return l.createElement(dq,{resource:e.resource,viewContext:e.viewContext,type:"containText",theme:"brand",enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}let d2=a(128425).U;var d4=a(835476),d8=a(869963);let d3=a(10588).l;var d5=a(815700);function d9({button:e,subtext:t}){return l.createElement("div",{className:d5.uu},e,t&&l.createElement("div",{className:d5.BE},t))}function d6({resource:e,resourceContent:t,enableWideButtonForStickyFooter:a}){let r=(0,sn.I)(t);return(0,ss._K)(t,r)?l.createElement(ca.I,{resource:t,context:su.aL.DETAIL,enableWideButtonForStickyFooter:a}):(0,sI.XW)(e)?function(e,t){let a;switch(e.resource_type){case d4.vt.DESIGN_TEMPLATE:case d4.vt.UI_KIT:case d4.vt.PROTOTYPE:case d4.vt.FIGJAM_TEMPLATE:return(a=(0,sI.eO)(e))?l.createElement(d2,{hubFile:a,resourceType:e.resource_type,enableWideButtonForStickyFooter:t}):null;case d4.vt.SLIDE_TEMPLATE:return(a=(0,sI.eO)(e))?l.createElement(d3,{resource:a,enableWideButtonForStickyFooter:t}):null;case d4.vt.PLUGIN:case d4.vt.WIDGET:if(!(a=(0,sI.$9)(e)))return null;let r=(0,su.PM)(a)?l.createElement(d8.Cg,{resource:a,showCaret:!1}):(0,su.zF)(a)?l.createElement(d8.Gb,null):void 0;return l.createElement(d9,{button:l.createElement(ct,{resource:a,context:su.aL.DETAIL}),subtext:r});default:(0,x.xb)(e.resource_type)}}(e,a):function(e,t){if((0,so.Qo)(e))return(0,so.cX)(e)?l.createElement(d3,{resource:e,enableWideButtonForStickyFooter:t}):l.createElement(d2,{hubFile:e,resourceType:(0,sI.jB)(e.viewer_mode),enableWideButtonForStickyFooter:t});{let t=(0,su.PM)(e)?l.createElement(d8.Cg,{resource:e,showCaret:!1}):(0,su.zF)(e)?l.createElement(d8.Gb,null):void 0;return l.createElement(d9,{button:l.createElement(ct,{resource:e,context:su.aL.DETAIL}),subtext:t})}}(e,a)}var d7=a(96328);let me="basic_resource_header--numberOfUsers--oWoBg",mt="basic_resource_header--mobileResourcePageHeaderMaxWidth--McUl4 basic_resource_header--resourcePageHeaderMaxWidth--ym-5U",ma="basic_resource_header--mobileResourceNameHeader--oN4qX text--fontPos24--YppUD text--_fontBase--QdLsd",mr="basic_resource_header--mobileName--5NvYd",mn="basic_resource_header--anchorLink--r0iNn meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",mi="basic_resource_header--activeAnchorLink--3ueWI meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",mo="basic_resource_header--ctaContainer--k8wqG",ml="basic_resource_header--leftSide--MzgPN";var ms=a(404554),mc=a(815234);function md({resource:e,resourceContent:t,viewContext:r}){let n=e.like_count>0,i=(0,sc.mk)(e)>0,o=(0,sr.B)(e.id,(0,sI.Vm)(t)),s=o.data?.[0],c=a(892123).o.useLikeActions(t,!!s,o.data?.[1]||null,r||"")(),d=l.createElement("div",{className:"basic_resource_header--bulletSeparator--OGYaL text--fontPos10--s1PI5 text--_fontBase--QdLsd"},(0,k.tx)("community.detail_view.bullet_point"));return l.createElement("div",{className:"basic_resource_header--stats--U1D-b text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"resource-header-stats"},l.createElement("div",null,(0,sc.c8)(e)),n&&l.createElement(l.Fragment,null,d,l.createElement("button",{onClick:e=>{(0,p.kc)().cmty_deprecate_browse_as_admin&&c(e)}},(0,p.kc)().cmty_deprecate_browse_as_admin?s?mu:mm:l.createElement(j.B,{dataTestId:"like-icon",svg:ms.A})),l.createElement("div",{className:me},(0,d7.$M)(e.like_count))),i&&l.createElement(l.Fragment,null,d,l.createElement(j.B,{dataTestId:"usage-icon",svg:mc.A}),l.createElement("div",{className:me},(0,k.tx)("community.detail_view.number_of_users",{numberOfUsers:(0,d7.$M)((0,sc.mk)(e))}))))}let mm=l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99988 4.5L7.3254 3.96042C6.28613 3.129 4.78791 3.21198 3.84681 4.15308C2.82678 5.17311 2.82678 6.8269 3.84681 7.84693L7.99988 12L12.153 7.84693C13.173 6.8269 13.173 5.17311 12.153 4.15308C11.2119 3.21198 9.71364 3.129 8.67437 3.96042L7.99988 4.5ZM7.99988 10.5858L11.4459 7.13982C12.0754 6.51032 12.0754 5.48969 11.4459 4.86018C10.8651 4.27939 9.94044 4.22818 9.29906 4.74129L7.99988 5.78063L6.70071 4.74128C6.05933 4.22818 5.13471 4.27939 4.55391 4.86018C3.92441 5.48969 3.92441 6.51032 4.55392 7.13982L7.99988 10.5858Z",fill:"black"})),mu=l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),l.createElement("path",{d:"M3.84693 7.84693L8 12L12.1531 7.84692C13.1731 6.8269 13.1731 5.1731 12.1531 4.15308C11.212 3.21198 9.71375 3.129 8.67448 3.96041L8 4.5L7.32552 3.96041C6.28625 3.129 4.78802 3.21198 3.84692 4.15308C2.8269 5.1731 2.8269 6.8269 3.84693 7.84693Z",fill:"#F24822"}));var m_=a(198181);let mp=a(784087).X;var mf=a(708071),mg=a(225266),mE=a(986323),mh=a(624618);function mv({pluginId:e,containerClassName:t}){let a=(0,s.wA)(),r=(0,s.d4)(t=>(0,dw.my)(e,t.publishedPlugins)),n=(0,s.d4)(e=>(0,mE.A)(e,r));return void 0!==n&&(0,mE.jT)(n)?l.createElement("div",{className:t},l.createElement(mh.vR,{onClickAccept:()=>{a((0,mg.dx)({widget_id:(0,su.xQ)(r)?r.id:void 0,plugin_id:(0,su.I0)(r)?r.id:void 0,src:mg.Nn.COMMUNITY_PAGE})),a(a0.F.enqueue({message:(0,k.t)("community.detail_view.accepted_publisher_invite")}))},onClickDecline:()=>{a((0,mg.MZ)({widget_id:(0,su.xQ)(r)?r.id:void 0,plugin_id:(0,su.I0)(r)?r.id:void 0,src:mg.Nn.COMMUNITY_PAGE})),a(a0.F.enqueue({message:(0,k.t)("community.detail_view.declined_publisher_invite")}))},label:(0,k.t)("community.detail_view.you_have_been_added_as_a_publisher_of_this_resource")})):null}var my=a(107877),mb=a(830445),mw=a(629521),mT=a(27703),mI=a(106757),mC=a(927625);let mx="canvas_viewer--canvasViewer--aDA8H",mN=(e,{width:t,height:a,top:r,left:n})=>{e.style.position="fixed",e.style.width=t+"px",e.style.height=a+"px",e.style.top=r+"px",e.style.left=n+"px"},mS=(e,t)=>{if(e.viewer_mode===e2.y4.PROTOTYPE)return`/community/file/${e.id}/embed`;let a=`/embed?embed_host=fastma&community_viewer=true&hub_file_id=${e.id}`;return void 0===t?a:`${a}&fuid=${t}`};function mk({viewer:e,resource:t,fixedSize:a}){let[r,n]=l.useState(void 0),[i,o]=l.useState(!1),[s,c]=l.useState(!1),d=(0,ef.md)(mI.kS);l.useEffect(()=>{if(!e)return;let t=t=>{"LOAD_FINISHED"===t.data&&(e.querySelector("iframe").classList.add("canvas_viewer--showIframe--uYOO5"),e.setAttribute("data-loaded","true"),o(!0),(0,tN.qD)({name:"hub-file-canvas-loaded"}))},a=()=>{document.activeElement===e.querySelector("iframe")&&(0,tN.qD)({name:"community-LO-embed-iframe-interacted",comparisonVariant:s?"fullscreen":"thumbnail"})};return window.addEventListener("message",t,!1),window.addEventListener("blur",a,!1),()=>{window.removeEventListener("message",t,!1),window.removeEventListener("blur",a,!1)}},[e,s]);let m=()=>{if(!e)return;let t=e.querySelector(`div.${mx}`);if(!t)return;let a=t.getBoundingClientRect();mN(t,a),n(a),requestAnimationFrame(()=>{e.setAttribute("data-animation-phase","open"),t.style.position="fixed",t.style.width="calc(100vw - 96px)",t.style.height="calc(100vh - 96px)",t.style.top="48px",t.style.left="48px"}),(0,tN.qD)({name:"community-LO-embed-view-expanded"}),c(!0)},u=()=>{if(!e)return;let t=e.querySelector(`.${mx}`);t&&(mN(t,r),e.setAttribute("data-animation-phase","closing"),setTimeout(()=>{e.removeAttribute("data-animation-phase"),t.style.position="absolute",t.style.removeProperty("width"),t.style.removeProperty("height"),t.style.removeProperty("top"),t.style.removeProperty("left")},300),c(!1))};return e?l.createElement(l.Fragment,null,l.createElement("div",{className:"canvas_viewer--iframeWrapper--eemgJ"},l.createElement("iframe",{key:t.id,title:(0,k.t)("community.embed.preview_title_long"),style:{width:a?"100%":(0,so.zS)(i),height:"100%"},src:mS(t,d),allowFullScreen:!0}),l.createElement("svg",{onClick:()=>{s?u():m()},"aria-label":s?"Close":"Open",className:"canvas_viewer--fullscreenIcon--ew-9d",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z",fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"}))),l.createElement("div",{role:"button",tabIndex:0,onClick:u,className:"canvas_viewer--iframeBackdrop--1sZT3"})):l.createElement(l.Fragment,null)}function mL({resource:e,enableEmbedOnSmallScreens:t}){let[a,r]=l.useState(null),n=e.viewer_mode===e2.y4.WHITEBOARD,i=!!e.thumbnail_is_set,o=t?my.YW:900;return l.createElement("div",{className:B()("canvas_viewer--canvasViewerWrapper--PEx4d",{"canvas_viewer--smallEmbed--1di1B":t}),"data-loaded":"false",ref:e=>r(e)},l.createElement("div",{className:n?"canvas_viewer--canvasViewerFigJam--GQ00B canvas_viewer--canvasViewer--aDA8H":mx,key:e.id},l.createElement("div",{className:"canvas_viewer--hubFileLoadingCoverImage--2onuq canvas_viewer--resourceLoadingCoverImage--e9uBx"},l.createElement(mC.Ho,{image:e.thumbnail_url,isSet:i,isWhiteboard:n,backgroundColor:(0,mT.Cn)(e.client_meta),hubFileId:e.id,alt:(0,so.qD)(e).name+" preview",thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:e.resized_thumbnail_urls})),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${o}px)`,onHide:()=>{a&&a.setAttribute("data-loaded","false")}},l.createElement(mk,{fixedSize:t,viewer:a,resource:e}))))}function mA({resource:e}){return l.createElement("div",{className:"canvas_viewer--canvasViewerWrapperPlugins--YfQ3Y canvas_viewer--canvasViewerWrapper--PEx4d","data-loaded":"true"},l.createElement("div",{className:mx},l.createElement("img",{className:"canvas_viewer--pluginLoadingCoverImage--nn23R canvas_viewer--resourceLoadingCoverImage--e9uBx",src:e.thumbnail_url,alt:(0,so.qD)(e).name+" preview",key:e.id})))}function mR({resource:e,enableEmbedOnSmallScreens:t}){return"current_hub_file_version_id"in e?l.createElement(ez.fu,{name:"Canvas Embed"},l.createElement(mL,{resource:e,enableEmbedOnSmallScreens:t})):l.createElement(mA,{resource:e})}function mF({resourceId:e,resourceType:t}){return null}var mP=a(940872);function mO(){return l.createElement(mP.b,{onClick:()=>(0,dA.FL)(dL.qB.SIGN_UP,{preventDefaultRedirect:!0}),isResourceLiked:!1})}var mD=a(395096),mM=a(147513),mB=a(914557),mU=a(416095),mV=a(620722);let mH="library_detail_page_viewer--libraryViewerComponentsViewContainer--ZKW-s",mW="library_detail_page_viewer--libraryViewerComponentsSideBar---vECP",mj="library_detail_page_viewer--libraryViewerComponentsSideBarButtonSelected--USsCQ",m$="library_detail_page_viewer--libraryViewerComponentsSideBarButton--0ve16 text--fontPos11--2LvXf text--_fontBase--QdLsd",mG="library_detail_page_viewer--libraryViewerComponentsSection--NQG-W",mY="library_detail_page_viewer--libraryViewerStylesViewContainer--zQeq3",mz="library_detail_page_viewer--loadingSpinner--ijlFM";function mQ(e){let{pageIds:t,itemsByPageId:a,topLevelComponents:r,isLoading:n,numSearchResultsText:i}=e,[o,s]=l.useState(r.length>0||0===t.length?null:t[0]),c=l.useRef({}),d=l.useRef(null),m=l.useRef(null),u=l.useRef(null),_=l.useCallback(e=>{let t=c.current[e];if(t&&d.current){let e=t.offsetTop-d.current.offsetTop-t.offsetHeight;d.current.scrollTo({top:e})}},[]);l.useEffect(()=>{let e=u.current,t=m.current;e&&t&&(e.offsetTop<t.scrollTop?t.scrollTo({behavior:"smooth",top:e.offsetTop}):e.offsetTop>t.scrollTop+t.offsetHeight&&t.scrollTo({behavior:"smooth",top:e.offsetTop-t.offsetTop-t.offsetHeight/2}))},[o]),l.useEffect(()=>{if(!window.IntersectionObserver||!d.current||!c.current)return;let e={},a=d.current.offsetHeight,r=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&s(e.target.id)})},{root:d.current,rootMargin:`0px 0px -${a/2}px 0px`,threshold:[.6]});for(let e of t){let t=c.current[e];t&&r.observe(t)}return()=>{r.disconnect()}},[t,c,d,s]);let p=l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentsContent--i0cL6",style:{paddingBottom:t.length>2?"72px":"12px"},ref:d},i,r.length>0&&l.createElement("div",{className:mG},l.createElement(mK,{items:r})),t.map(e=>{let t=a[e],r=t[0];return r?l.createElement("div",{className:mG},l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentsSectionHeader--RxA6o text--fontPos13--xW8hS text--_fontBase--QdLsd",id:e,ref:t=>c.current[e]=t},r.containing_frame?.pageName),l.createElement(mK,{items:t})):null})),f=l.useCallback(e=>{_(e),s(e)},[_]),g=l.createElement("div",{className:mW,ref:m},t.map(e=>{let t=e===o,r=a[e][0].containing_frame?.pageName;return r&&l.createElement("div",{ref:t?u:void 0,className:S.cx.wFull.$,key:e},l.createElement("button",{className:B()(m$,{[mj]:t}),onClick:t=>{t.preventDefault(),f(e)}},r))}));return n?l.createElement("div",{className:mH},g,l.createElement(tM.kt,{className:mz})):l.createElement("div",{className:mH},g,p)}function mK({items:e}){let t=e.map(e=>l.createElement(mq,{component:e,key:(0,mU.Av)(e)}));return l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentTileGroup--20ei3"},t)}function mq({component:e}){return l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentTile--R5qQm","data-tooltip-type":eR.Ib.TEXT,"data-tooltip":e.name},l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentThumbnailWrapper--P2sR3"},l.createElement(mV.J,{className:"library_detail_page_viewer--libraryViewerComponentThumbnail--XVZpN",src:e.thumbnail_url,draggable:!1})))}var mZ=a(333370),mX=(e=>(e.COMPONENTS="components",e.STYLES="styles",e))(mX||{});function mJ(e){let t={},a=[],r=[];if(e&&e.length>0){for(let r of e){let e=r.containing_frame?.pageId;e?(t[e]??=[],t[e].push(r)):a.push(r)}r=Object.keys(t),(0,V.v7)(r,e=>t[e][0].containing_frame?.pageName),(0,V.KQ)(a,"name"),r.map(e=>{let a=t[e];(0,V.KQ)(a,"name")})}return{itemsByPageId:t,topLevelComponents:a,pageIds:r}}function m0(e){if(!e||0===e.length)return new Map;let t=(0,mU.Kw)(e),a=new Map;return mU.og.map(e=>{let r=t.get(e);if(r){(0,mU.LX)(r);let t=(0,mZ.lM)(r,e),n=new Map;for(let e of(n.set(t,t.styles),t.subfolders))n.set(e,(0,mZ.dm)(e));a.set(e,n)}}),a}var m1=a(535257),m2=a(173454),m4=a(137906);function m8({foldersAndStylesByType:e,isLoading:t,numSearchResultsText:a}){if(t)return l.createElement("div",{className:mY},l.createElement(tM.kt,{className:mz}));let r=[];for(let t of e.values())for(let[e,a]of t)0!==a.length&&(r.push(l.createElement(m3,{folder:e,styleList:a,key:e.name})),r.push(l.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionDivider--RTCVD",key:e.name.concat("-divider")})));return r.pop(),l.createElement("div",{className:mY},a,r)}function m3({folder:e,styleList:t}){return l.createElement(l.Fragment,null,e.name&&l.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionHeader--LjF7q text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?.name),l.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesList--8HwJW"},t.map(e=>l.createElement("div",{key:e.key,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":e.name},l.createElement(m4.zi,{dsStyle:e,size:m4.iL.Large,disableTooltip:!0})))))}let m5=a(754961);function m9({query:e,libraryId:t,selectedTabType:a}){let r=a===mX.COMPONENTS,n=r?[m2.PW.COMPONENT,m2.PW.STATE_GROUP]:[m2.PW.STYLE],[i]=(0,f.IT)((0,m1.nh)({query:e,libraryId:t,assetTypes:n})),{foldersAndStylesByType:o,itemsByPageId:s,topLevelComponents:c,pageIds:d,hasSearchResults:m,numSearchResults:u}=l.useMemo(()=>{let e={},t=[],a=[],n=new Map;if(r){let r=mJ(i.data);e=r.itemsByPageId,t=r.topLevelComponents,a=r.pageIds}else n=m0(i.data);return{foldersAndStylesByType:n,itemsByPageId:e,topLevelComponents:t,pageIds:a,hasSearchResults:i.data&&i.data.length>0,numSearchResults:i.data?i.data.length:0}},[i,r]);if("loaded"===i.status&&!m)return l.createElement("div",{className:r?mH:mY},r&&l.createElement("div",{className:mW},l.createElement("div",{className:B()(S.cx.wFull.$,m$,mj)},(0,k.t)("community.detail_view.library_viewer.search_no_results"))),l.createElement("div",{className:"library_detail_page_viewer--libraryViewerEmptyState--2o6bb"},l.createElement(j.B,{svg:m5,useOriginalSrcFills_DEPRECATED:!0,className:"library_detail_page_viewer--libraryViewerEmptyIcon--6OLZt"}),l.createElement("div",{className:S.cx.flexRow.$},(0,k.tx)("search.empty_state.no_results_matching",{searchQuery:l.createElement("span",{className:S.cx.fontBold.$},e)}))));let _=l.createElement("div",{className:r?S.cx.flexRow.mb8.$:S.cx.flexRow.mb16.$},(0,k.tx)("community.detail_view.library_viewer.search_results_num",{numResults:u,query:l.createElement("span",{className:S.cx.fontBold.$},e)}));return r?l.createElement(mQ,{pageIds:d,itemsByPageId:s,topLevelComponents:c,isLoading:"loading"===i.status,numSearchResultsText:_}):l.createElement(m8,{foldersAndStylesByType:o,isLoading:"loading"===i.status,numSearchResultsText:_})}function m6({libraryId:e}){let[t,a]=l.useState(mX.COMPONENTS),[r,n]=l.useState(""),[i]=(0,mD.A)(r,300,{trailing:!0,leading:!1}),[o]=(0,f.IT)((0,mM.lH)({hubFileId:e})),s=l.useMemo(()=>m0("loaded"===o.status?o.data:[]),[o]),[c]=(0,f.IT)((0,mM.r4)(e)),{itemsByPageId:d,topLevelComponents:m,pageIds:u}=l.useMemo(()=>mJ("loaded"===c.status?c.data:[]),[c]);return l.createElement("div",{className:"library_detail_page_viewer--libraryViewerContainer--N5xtS"},l.createElement(m7,{selectedTabType:t,setSelectedTabType:a,query:i,setSearchQuery:n}),0===i.trim().length&&t===mX.COMPONENTS&&l.createElement(mQ,{pageIds:u,itemsByPageId:d,topLevelComponents:m,isLoading:"loading"===c.status}),0===i.trim().length&&t===mX.STYLES&&l.createElement(m8,{foldersAndStylesByType:s,isLoading:"loading"===o.status}),i.length>0&&l.createElement(m9,{query:i,libraryId:e,selectedTabType:t}))}function m7({selectedTabType:e,setSelectedTabType:t,query:a,setSearchQuery:r}){return l.createElement("div",{className:"library_detail_page_viewer--libraryViewerHeader--m7ZFH"},l.createElement("div",{className:"library_detail_page_viewer--libraryViewerTabsContainer--SDkI8"},l.createElement(ut,{tab:mX.COMPONENTS,selectedTab:e,onClick:()=>{t(mX.COMPONENTS)}},(0,k.t)("community.detail_view.library_viewer.components_tab")),l.createElement(ut,{tab:mX.STYLES,selectedTab:e,onClick:()=>{t(mX.STYLES)}},(0,k.t)("community.detail_view.library_viewer.styles_tab"))),l.createElement(ue,{query:a,setSearchQuery:r}))}function ue({query:e,setSearchQuery:t}){let a=l.useRef(null),r=l.useCallback(e=>{t(e)},[t]),n=l.useCallback(()=>{r("")},[r]);return l.createElement(oX.IW,{ref:a,className:"library_detail_page_viewer--libraryViewerSearchBar--x-K2j",focusOnMount:!1,query:e,placeholder:(0,k.t)("community.detail_view.library_viewer.search_placeholder"),clearSearch:n,onChange:r,hideXIcon:!0})}class ut extends mB.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:"library_detail_page_viewer--libraryViewerTab--f43dq text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",selected:"library_detail_page_viewer--libraryViewerTabSelected--t5nZk",unselected:"library_detail_page_viewer--libraryViewerTabUnselected--mE3MK"}),this.applyDefaultStyles=()=>!1}}var ua=a(133537),ur=a(751297);let un=a(219497).G;var ui=a(137459),uo=a(37637);let ul="resource_page_metadata_badge--badge--PWa-6";function us(e){let{hubFileEditorType:t,pluginEditorType:a}=e;if(!t&&!a)return null;let r=(0,k.t)("community.detail_view.made_for_figma_design");if(t||a?.length===1){let e=t||a?.[0];r=(()=>{switch(e){case ui.LE.SLIDES:case sh.FW.SLIDES:return(0,k.t)("community.detail_view.made_for_slides");case ui.LE.FIGJAM:case sh.FW.FIGJAM:return(0,k.t)("community.detail_view.made_for_fig_jam");case sh.FW.INSPECT:case sh.FW.DEV:return(0,k.t)("community.detail_view.made_for_dev_mode");case ui.LE.FIGMA:case sh.FW.FIGMA:default:return(0,k.t)("community.detail_view.made_for_figma_design")}})()}return a?.includes(sh.FW.FIGJAM)&&a?.includes(sh.FW.FIGMA)&&(0,sh.Pe)(a)?r=(0,k.t)("community.detail_view.universal"):a?.includes(sh.FW.FIGJAM)&&a?.includes(sh.FW.FIGMA)?r=(0,k.t)("community.detail_view.made_for_figma_design_and_figjam"):a?.includes(sh.FW.FIGJAM)&&(0,sh.Pe)(a)?r=(0,k.t)("community.detail_view.made_for_fig_jam_and_dev_mode"):a?.includes(sh.FW.FIGMA)&&(0,sh.Pe)(a)&&(r=(0,k.t)("community.detail_view.made_for_figma_design_and_dev_mode")),l.createElement("div",{className:ul},l.createElement(uo.dn,{editorType:t??a}),l.createElement("div",null,r))}var uc=a(520863),ud=a(965270),um=a(647976),uu=a(733648);function u_({resource:e}){let t=function(e){if((0,su.U)(e))return l.createElement(us,{hubFileEditorType:(0,so.JJ)(e.viewer_mode)});let t=(0,so.qD)(e).manifest.editorType;return t?l.createElement(l.Fragment,null,t.map(e=>l.createElement(us,{key:e,pluginEditorType:[e]}))):l.createElement(us,{pluginEditorType:t})}(e),a=(0,p.kc)().dse_preset_libraries&&(0,p.kc)().presets_on_cmty&&(0,mb.TX)(e.id)&&l.createElement(up,null),r=!(0,su.U)(e)&&(0,dw.pk)((0,so.qD)(e))&&l.createElement(uf,null),n=e.community_publishers.accepted.reduce((e,t)=>e.concat(t.badges),[]),i=[...new Set(e.badges.concat(n))],o=(0,db.C2)({badges:i},!1,!0),s=(0,su.U)(e)?null:function(e){let t=(0,so.qD)(e).manifest;return l.createElement(l.Fragment,null,l.createElement(ug,{plugin:e}),l.createElement(ud.u,{networkAccess:t.networkAccess,isWidget:e.is_widget,isLearnMoreLinkVisible:!0,is24x24:!0}))}(e);return l.createElement(l.Fragment,null,t,a,r,o&&l.createElement("div",{className:ul},l.createElement(db.Gx,null,o),(0,k.tx)("community.detail_view.made_by_a_figma_partner")),s)}function up(){return l.createElement("div",{className:ul},l.createElement(j.B,{svg:uu.A,svgClassName:"resource_page_metadata_badge--uiKitBadgeSvg--deluf",useOriginalSrcFills_DEPRECATED:!0}),l.createElement("div",null,(0,k.t)("community.detail_view.ui_kit")))}function uf(){return l.createElement("div",{className:ul},l.createElement(uo.ZA,{is24x24:!0}),l.createElement("div",null,(0,k.t)("community.detail_view.made_for_codegen")))}function ug({plugin:e}){let t=(0,uc.A)(e.id,!0);return l.createElement(l.Fragment,null,t.loaded&&t.data?.status===e2.bQ.APPROVED&&l.createElement(um.b,{securityFormResponse:t.data,entryPoint:um.X.COMMUNITY_DETAIL,isWidget:e.is_widget,is24x24:!0}))}function uE(e){return l.createElement("div",{className:"resource_page_metadata_badge--badgesContainer--heM3E text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children)}var uh=a(230798),uv=a(743875),uy=a(126815);function ub({monetizedResourceMetadata:e,isFreemium:t,isOffPlatform:a}){if(t&&e){let t=(0,ss.X2)(e);return(0,k.tx)("community.detail_view.in_app_purchases",{priceString:t})}return a?l.createElement("div",{className:uv.UH},(0,k.tx)("community.detail_view.third_party_badge.off_platform"),l.createElement(j.B,{svg:uy.A,className:uv.G,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0})):null}function uw(e){let{updatedAt:t,paymentInfo:a,supportContact:r,creatorPolicyData:n,license:i}=e,[o,s]=l.useState(!1),c=r;return r&&((0,ua.xf)(r)?c=`mailto:${r}`:r.startsWith("https://")||r.startsWith("http://")||(c=`//${r}`)),l.createElement(uh.z,null,l.createElement("div",null,(0,k.tx)("community.detail_view.last_updated_at_time_stamp",{timeStamp:l.createElement(lU.h1,{date:t})})),r&&l.createElement("div",{className:uv.Ev},(0,k.tx)("community.detail_view.support_contact",{supportContact:l.createElement("a",{href:c||void 0,className:uv.tx,target:"_blank",rel:"nooppener noreferrer"},r)})),a,i,(0,p.kc)().cmty_hub_file_creator_policy&&n?.policyText&&l.createElement("span",null,l.createElement("span",{role:"button",onClick:()=>{s(!0)},tabIndex:0,className:uv.Rc},(0,k.tx)("community.detail_view.creator_policy")),o&&l.createElement(r7.XV,{title:(0,k.t)("community.detail_view.creator_policy"),maxWidth:450,onClose:()=>{s(!1)},allowScroll:!0,containerClassName:uv.D9},l.createElement("div",{className:uv.OC},l.createElement("div",{className:uv.$h},(0,k.tx)("community.detail_view.creator_policy_publisher_name",{publisherName:n.publisherName}))))))}function uT({resource:e}){let t=(0,sI.XW)(e)?(0,sI.qY)(e):e;if(!t)return null;let a=(0,so.qD)(t),r=(0,su.m3)(t),n=r&&(0,su.PM)(t),i=(0,su.zF)(t);return l.createElement("div",{className:uv.tJ,"data-testid":"metadata-container"},l.createElement(uE,null,l.createElement(u_,{resource:t})),l.createElement(uw,{updatedAt:a.created_at,supportContact:e.support_contact,license:l.createElement(ur.F,{isMonetizedResource:r,isHubFile:(0,sI.Qc)(e),isAppleResource:(0,sc.mA)(e),isFigmaResource:(0,sc.sB)(e)}),paymentInfo:l.createElement(ub,{monetizedResourceMetadata:t.monetized_resource_metadata,isFreemium:n,isOffPlatform:i}),creatorPolicyData:{policyText:a.creator_policy??null,publisherName:e.publisher.name}}),(0,m_.M)()?l.createElement(un,{resource:e}):null,(0,m_.M)()?l.createElement(mh.dx,null):l.createElement("a",{href:"mailto:content-reviews@figma.com",className:uv.hV},(0,k.tx)("community.detail_view.report_resource")))}var uI=a(920037);let uC="related_content--relatedContentTile--gwfdU",ux="related_content--relatedContentTileTitle--DJQmt text--fontPos13--xW8hS text--_fontBase--QdLsd";function uN({resource:e,rdpImpressionId:t}){let a=(0,so.qD)(e),r=e.thumbnail_url,n=!!e.thumbnail_is_set,i=e.viewer_mode===e2.y4.WHITEBOARD,o=(0,p.kc)().cmty_thumbnail_16x9_ar,s=(0,so._t)({resource:e});return l.createElement(sg.A6,{to:s,className:B()(uC,{"related_content--relatedContentTile16to9--6fnkm":o}),onClick:()=>uL(e,t)},l.createElement("div",{className:n?"related_content--relatedContentTileImageThumbnailIsSet--ceK9X related_content--relatedContentTileImage--0IZ1a":"related_content--relatedContentTileImage--0IZ1a",style:{backgroundColor:(0,uI.C)(e.client_meta)}},l.createElement(mC.Ho,{hubFileId:e.id,image:r,isWhiteboard:i,isSet:n,alt:a.name,resizedThumbnailUrls:e.resized_thumbnail_urls}),l.createElement(uo.dn,{editorType:(0,so.JJ)(e.viewer_mode)})),l.createElement("div",{className:ux},a.name))}function uS({resource:e,rdpImpressionId:t}){let a=(0,so.qD)(e),r=a.redirect_icon_url,n=(0,so._t)({resource:e});return l.createElement(sg.A6,{to:n,className:uC,onClick:()=>uL(e,t)},l.createElement("div",{className:"related_content--relatedContentTilePluginContentWrapper--ie8pw"},l.createElement(uo.dn,{editorType:a.manifest.editorType}),l.createElement(s_.V,{className:"related_content--relatedContentPluginTileImage--4Jsqh",plugin:a}),l.createElement("div",{className:"related_content--relatedContentPluginTileImageBlurry--z0-ki related_content--relatedContentPluginTileImage--4Jsqh",style:{backgroundImage:`url(${r})`}})),l.createElement("div",{className:ux},a.name))}function uk({resource:e,rdpImpressionId:t}){let a=(0,so.qD)(e),r=a.redirect_snapshot_url,n=(0,so._t)({resource:e});return l.createElement(sg.A6,{to:n,className:uC,onClick:()=>uL(e,t)},l.createElement("div",{className:"related_content--relatedContentWidgetTileImage--rY25h related_content--relatedContentTileImage--0IZ1a"},l.createElement("img",{src:r,alt:a.name,loading:"lazy"})),l.createElement("div",{className:ux},a.name))}let uL=(e,t)=>{(0,el.sx)("Community Related Content Clicked",{community_resource:(0,sI.Vm)(e),community_resource_id:e.id,related_content_type:e.related_content?.types.join(","),rdp_impression_id:t})};function uA({resourceType:e,resourceId:t,content:a,types:r,creators:n,rdpImpressionId:i}){l.useEffect(()=>{(0,el.sx)("Community Related Content Viewed",{communityResource:e,communityResourceId:t,relatedContentType:r,rdp_impression_id:i,itemsImpressed:a.map(e=>e.id).join(",")})},[a.map(e=>e.id).join(",")]);let o=1===r.length&&r[0]===my.oS.by_creator?n.accepted.length>1?(0,k.t)("community.related_content.more_by_these_creators"):(0,k.t)("community.related_content.more_by_this_creator"):(0,k.t)("community.related_content.more_like_this");return l.createElement("div",{className:"related_content--relatedContent--TYPp2","data-testid":"related-content"},l.createElement("div",{className:"related_content--relatedContentHeader--gjj-d text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement("div",{className:"related_content--relatedContentTitle--uylYw"},o)),l.createElement("div",{className:"related_content--relatedContentTilesContainer--L8KiC"},a.map(e=>{let t=e.id;return(0,su.U)(e)?l.createElement(uN,{key:t,resource:e,rdpImpressionId:i}):(0,su.I0)(e)?l.createElement(uS,{key:t,resource:e,rdpImpressionId:i}):l.createElement(uk,{key:t,resource:e,rdpImpressionId:i})})))}var uR=a(607191),uF=a(724819);let uP=a(421660).J,uO=a(421660).z;function uD({resource:e,optionalTitle:t,disableHeader:a,showBottomDivider:r}){let n=(0,p.kc)().cmty_curated_tags_mapping,i=uP(e),o=e.tags||[],s=e.tags_v2||{};if(0===o.length)return l.createElement(l.Fragment,null);let c=(0,so.Dl)(e)+"s";return l.createElement(l.Fragment,null,!a&&l.createElement("h3",{className:uF.Pr},t||(0,k.tx)("community.detail_view.tags")),l.createElement("div",{className:uF.Pc},i&&l.createElement(uO,{resourceId:e.id,resourceType:(0,sI.Vm)(e),fileKey:(0,su.Uz)(e)?e.fig_file_metadata?.key:void 0}),o.map(t=>{let a=n&&e.category_slug&&s[t]?`/community/${e.category_slug}/${s[t]}`:`/community/tag/${t}/${c}`;return l.createElement(sg.A6,{key:t,to:a,onClick:()=>{(0,el.sx)("Tag clicked",{text:t,tab:c})}},l.createElement("div",{className:uF.Tc},t))})),r&&l.createElement("hr",null))}var uM=a(731801);function uB({resource:e}){let[t,a]=l.useState(!1);if(!(0,sI.g0)(e))return null;let r=(0,sI.$9)(e);if(!r)return null;let{versions:n}=r,i=(0,dw.uF)(r);return l.createElement("div",{className:"version_history--versionHistory--yOsFW text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement("div",{className:"version_history--header--jdIyg"},l.createElement(s_.V,{className:"version_history--icon--pnnmo",plugin:i}),l.createElement("span",{className:"version_history--title--1a95q text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("community.plugins.version_history"))),l.createElement("div",null,Object.keys(n).map(parseFloat).sort((e,t)=>e>t?-1:1).map(e=>n[e]).filter(e=>!!e).map(e=>{let t=!e.release_notes,a=new Date(e.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"});return l.createElement("div",{className:t?"version_history--releaseSectionEmpty--t8k4f":"version_history--releaseSection--mOmlB",key:e.id},l.createElement("span",{className:"version_history--versionName--PC5Ws"},(0,k.tx)("community.plugins.version_version_on_date",{createdAt:a,versionName:e.version})),l.createElement("span",{className:"version_history--versionDescription--bzh-V"},e.release_notes))}).slice(0,t?1/0:2),!t&&Object.keys(n).length>2&&l.createElement("div",{className:"version_history--showAll--b8ClA",onClick:()=>a(!0),role:"button",tabIndex:0},(0,k.tx)("community.plugins.see_all"))))}let uU="meta_container--tabbedMetaContainer--DJyPv meta_container--metaContainer--kaSwh",uV="meta_container--metaContainerDivider--ZXFZP",uH="meta_container--metaContainerDividerSpacer--OW9jB",uW="meta_container--mobileMetaContainer--gGQKv",uj="meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",u$="meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",uG="meta_container--metaTabCommentCount--B1a21",uY="meta_container--selectedMetaTabCommentCount--lS1BF meta_container--metaTabCommentCount--B1a21",uz=a(142264).y;function uQ(e,t){if(e.preventDefault(),t===dh.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=dh.bK,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}}function uK({commentCount:e,hasCommentsEnabled:t}){let[a,r]=(0,ef.fp)(dv);return l.useEffect(()=>{let e=()=>{let e=document.getElementById(dh.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,so._m)(t,window.innerHeight,window.scrollY)?r(dh.$O.CommentsView):r(dh.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]),l.createElement("div",{className:"meta_container--metaTabContainer--lvUtb","data-testid":"anchor-tabs"},l.createElement("button",{onClick:e=>uQ(e,dh.$O.DescriptionView)},l.createElement("div",{className:B()(uj,{[u$]:a===dh.$O.DescriptionView})},(0,k.t)("community.resource_page.about"))),t&&l.createElement("button",{onClick:e=>uQ(e,dh.$O.CommentsView)},l.createElement("div",{className:B()(uj,{[u$]:a===dh.$O.CommentsView})},(0,k.tx)("community.resource_page.comments",{numComments:l.createElement("span",{className:B()(uG,{[uY]:a===dh.$O.CommentsView})},e)}))))}function uq({resource:e}){let t=(0,sl.qw)(),a=(0,sI.XW)(e)?(0,sI.qY)(e):e;if(!a)return null;let r=function(e,t){if((0,sI.g0)(e))return!1;let a=(0,sI.PI)(e,t),r=(0,so.z$)(e)===mw.Z4.EMBED;return!a&&!r&&!(0,sI.cX)(e)}(e,a),n=(0,mb.TX)(a.id)&&t();return r&&!n?l.createElement(l.Fragment,null,l.createElement("h3",{className:S.cx.font14.fontSemiBold.mb16.$},(0,k.t)("community.embed.preview_title")),l.createElement(mR,{enableEmbedOnSmallScreens:!0,resource:a}),l.createElement("hr",{className:S.cx.my24.$})):n?l.createElement(m6,{libraryId:a.id}):null}function uZ({resource:e}){if(!(0,m_.M)())return l.createElement(mO,null);{let t=(0,su.U)(e)?e7.e0.COMMUNITY_HUB_FILE:(0,su.xQ)(e)?e7.e0.COMMUNITY_HUB_WIDGET:e7.e0.COMMUNITY_HUB_PLUGIN;return l.createElement(dy.Q,{resource:e,viewContext:t})}}function uX({detailPendingCreatorInvite:e,detailPendingPluginPublisherInvite:t,anchorTabs:a,descriptionView:r,contentPreview:n,relatedContent:i,versionHistory:o,commentsView:s,communityPromoBanner:c,tagsContainer:d,socialLinks:m,metadata:u}){let{externalCommentScrollRef:_}=l.useContext(mf.H);return l.createElement(l.Fragment,null,e,t,a,l.createElement("div",{className:uV},l.createElement("div",{className:uH})),l.createElement("div",{className:uU},l.createElement("div",{className:"meta_container--leftSide--KSlX8",ref:_,id:dh.$O.DescriptionView},r,n,i,o,l.createElement("div",{id:dh.$O.CommentsView},s)),l.createElement("div",{className:"meta_container--rightSide--FQNL-"},c,d,m,u)))}function uJ({detailPendingCreatorInvite:e,detailPendingPluginPublisherInvite:t,anchorTabs:a,descriptionView:r,contentPreview:n,relatedContent:i,versionHistory:o,commentsView:s,communityPromoBanner:c,tagsContainer:d,socialLinks:m,metadata:u}){return l.createElement(l.Fragment,null,e,t,a,l.createElement("div",{className:uV},l.createElement("div",{className:uH})),l.createElement("div",{className:uU},l.createElement("div",{className:uW,"data-mobile-view":!0,id:dh.$O.DescriptionView},r,n,c,d,i,o,l.createElement("div",{id:dh.$O.CommentsView},s),m,u)))}function u0({detailPendingPluginPublisherInvite:e,descriptionView:t,relatedContent:a,versionHistory:r,commentsView:n,communityPromoBanner:i,tagsContainer:o,socialLinks:s,metadata:c}){let{externalCommentScrollRef:d}=l.useContext(mf.H);return l.createElement(l.Fragment,null,l.createElement("div",{className:uW,"data-mobile-view":!0,ref:d},t,t&&l.createElement("hr",null),e,i,o,a,r,l.createElement("div",{id:dh.$O.CommentsView},n),s,c))}function u1({resource:e,resourceContent:t,rdpImpressionId:a,isMobileSize:r}){let n=(0,sc.K2)(e),i=(0,sc.zY)(e),o=t.related_content,s=o&&o.content.length>0,c=(0,sI.g0)(e),d=(0,c$.N)(`(min-width: ${my.w3}px)`),m={detailPendingCreatorInvite:l.createElement(uz,{resourceId:t.id,resourceType:(0,sI.Vm)(t),containerClassName:uU}),detailPendingPluginPublisherInvite:c?l.createElement(mv,{pluginId:t.id,containerClassName:r?void 0:uU}):void 0,anchorTabs:l.createElement(uK,{commentCount:t.comment_count,hasCommentsEnabled:(0,iy.e5)(t)}),descriptionView:l.createElement(uM.u,{description:i,hideDivider:!r}),contentPreview:l.createElement(uq,{resource:e}),relatedContent:s?l.createElement(l.Fragment,null,l.createElement(uA,{resourceId:e.id,resourceType:(0,sI.Vm)(t),content:o.content,types:o.types,creators:e.community_publishers,rdpImpressionId:a}),l.createElement("hr",null)):void 0,versionHistory:l.createElement(uB,{resource:e}),commentsView:l.createElement(mp,{resource:t}),communityPromoBanner:l.createElement(mF,{resourceId:e.id,resourceType:(0,sI.Vm)(t)}),tagsContainer:l.createElement(uD,{resource:t,showBottomDivider:d}),socialLinks:l.createElement(uR.R,{author:(0,c2.Lj)(t),resourceType:(0,sI.Vm)(t),resourceURL:(0,so.DV)(t),resourceId:e.id,resourceName:n??""}),metadata:l.createElement(uT,{resource:e})};return l.createElement(l.Fragment,null,l.createElement("div",{className:r?"meta_container--metaContainer--kaSwh":""},l.createElement(sd.Ay,{mediaQuery:`(max-width: ${my.YW-1}px)`},l.createElement(u0,{...m})),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${my.YW}px) and (max-width: ${my.w3-1}px)`},l.createElement(uJ,{...m})),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${my.w3}px)`},l.createElement(uX,{...m}))))}function u2({resource:e}){let t=(0,m_.M)()?"mobile_logged_in":"mobile_logged_out",a=l.useMemo(()=>(0,su.I0)(e)||(0,su.xQ)(e)?l.createElement(l.Fragment,null,l.createElement(d1,{resource:e,viewContext:t,enableWideButtonForStickyFooter:!0}),l.createElement(uZ,{resource:e})):l.createElement(l.Fragment,null,l.createElement(d6,{resource:e,resourceContent:e,enableWideButtonForStickyFooter:!0}),l.createElement(uZ,{resource:e}),l.createElement(d0,{resource:e,viewContext:t})),[e,t]);return l.createElement("div",{className:B()("meta_container--mobileButtonRow--a-eRc","meta_container--wideMobileButtonRow--ahIrA")},a)}let u4=a(218795).s;function u8({resource:e,resourceContent:t,hasScrolled:a}){let r=(0,sc.K2)(e),n=(0,s.d4)(e=>(0,iy.Tm)(e)),i=(0,so.Qo)(t)?e7.e0.COMMUNITY_HUB_FILE:(0,su.xQ)(t)?e7.e0.COMMUNITY_HUB_WIDGET:e7.e0.COMMUNITY_HUB_PLUGIN,o=null,c=l.createElement(d6,{resource:e,resourceContent:t}),d=(0,sI.$9)(e);if(u4&&d){let e=(0,so.qD)(d),t=Object.values(n).some(e=>(0,su.I0)(d)&&e.plugins_whitelist_enforced||(0,su.xQ)(d)&&e.widgets_whitelist_enforced);!(e&&"is_private"in e&&e.is_private)&&t&&(o=l.createElement(u4,{resource:d,viewContext:i}))}let m=l.createElement(d0,{"data-onboarding-key":"save-button",resource:t,viewContext:i}),u=o?null:l.createElement(dy.Q,{resource:t,viewContext:i}),_=l.createElement(dN,{resource:e,resourceContent:t}),p=l.createElement(md,{resource:e,resourceContent:t,viewContext:i});return a?l.createElement("div",{className:"basic_resource_header--resourcePageHeaderSticky--z2Rga"},l.createElement("div",{className:"basic_resource_header--resourcePageHeaderStickyContainer--XiXE-"},l.createElement("div",{className:"basic_resource_header--headerStickyLeftSide--OkZLQ"},l.createElement("h1",{className:"basic_resource_header--stickyTitle--oG0u0 ellipsis--ellipsis--Tjyfa text--fontPos18--rYXJb text--_fontBase--QdLsd"},r),l.createElement(u9,{hasCommentsEnabled:(0,iy.e5)(t),commentCount:t.comment_count})),l.createElement("div",{className:mo},c,o,u,m))):l.createElement(u3,{publishers:e.community_publishers.accepted,title:r??"",resourceHeaderStats:p,CTAButton:c,approveButton:o,likeButton:u,saveButton:m,headerBadges:_})}function u3({CTAButton:e,publishers:t,title:a,description:r,resourceHeaderStats:n,approveButton:i,likeButton:o,saveButton:s,learnMore:c,headerBadges:d,openInNewTab:m=!1}){let u=[...t.filter(e=>(0,db.J3)(e.badges)),...t.filter(e=>!(0,db.J3)(e.badges))];return l.createElement("div",{className:"basic_resource_header--headerContainer--YYSPX"},l.createElement("div",{className:"basic_resource_header--authors--1PIBq text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(du.L,{publishers:u,showFigmaPartnerBadge:!0}),l.createElement(du.I,{publishers:u,openInNewTab:m,useSmallWidth:!0,removeByLabel:!0})),l.createElement("div",{className:"basic_resource_header--title_badge_container--vH8BZ"},l.createElement("div",{className:"basic_resource_header--title--9jW4i text--fontPos24--YppUD text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},l.createElement("h1",null,a)),d),n,!!r&&l.createElement("div",{className:"basic_resource_header--description--718b9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},r),l.createElement("div",{className:mo},e,c,i,o,s))}function u5({resource:e,resourceContent:t,hasScrolled:a}){let r=(0,sc.K2)(e),n=e.community_publishers.accepted,i=(0,iy.e5)(t),o=t.comment_count;return a?l.createElement("div",{className:"basic_resource_header--mobileResourcePageHeaderSticky--k2EHs basic_resource_header--mobileResourcePageHeader--EgM2G"},l.createElement("div",{className:mt},l.createElement("div",{className:ml},l.createElement("h1",{className:ma},l.createElement("span",{className:mr},r))),l.createElement(u2,{resource:t}),l.createElement(u9,{hasCommentsEnabled:i,commentCount:o}))):l.createElement("div",{className:"basic_resource_header--resourcePageHeaderMobile--pJLU0 basic_resource_header--mobileResourcePageHeader--EgM2G"},l.createElement("div",{className:mt},l.createElement("div",{className:ml},l.createElement("h1",{className:ma},l.createElement("span",{className:mr},r)),l.createElement("div",{className:"basic_resource_header--mobileAttributionLine--SVYDo basic_resource_header--attributionLine--3-ssm text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"mobile-header-attribution"},l.createElement(dN,{resource:e,resourceContent:t}),l.createElement(md,{resource:e,resourceContent:t}),l.createElement("div",{className:"basic_resource_header--attributionCreator--rV-9C"},l.createElement(du.L,{publishers:n}),l.createElement(du.I,{publishers:n})))),l.createElement(u2,{resource:t}),l.createElement(u9,{hasCommentsEnabled:i,commentCount:o})))}function u9({hasCommentsEnabled:e,commentCount:t}){let[a,r]=(0,ef.fp)(dv);l.useEffect(()=>{let e=()=>{let e=document.getElementById(dh.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,so._m)(t,window.innerHeight,window.scrollY)?r(dh.$O.CommentsView):r(dh.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]);let n=(e,t)=>{if(e.preventDefault(),t===dh.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=dh.bK,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}};return l.createElement("div",{className:"basic_resource_header--anchorLinkContainer--UaF3S"},l.createElement("button",{onClick:e=>n(e,dh.$O.DescriptionView)},l.createElement("div",{className:B()(mn,{[mi]:a===dh.$O.DescriptionView})},(0,k.t)("community.resource_page.about"))),e&&l.createElement("button",{onClick:e=>n(e,dh.$O.CommentsView)},l.createElement("div",{className:B()(mn,{[mi]:a===dh.$O.CommentsView})},(0,k.tx)("community.resource_page.comments",{numComments:l.createElement("span",{className:B()(uG,{[uY]:a===dh.$O.CommentsView})},t)}))))}var u6=a(560945),u7=a(30637);let _e=(0,n1.eU)(!1);var _t=a(491679);function _a({thumbnailUrls:e,altText:t,size:a,tileAspectRatio:r="16 / 9"}){let n=0;e.length>12&&(n=e.length-12,e=e.slice(0,12));let i=l.useMemo(()=>{let[t,a]=e.length>8?[4,3]:e.length>4?[4,2]:[2,2];return tV.sx.add({gridTemplateColumns:`repeat(${t}, 1fr)`,gridTemplateRows:`repeat(${a}, 1fr)`}).$},[e.length]),o=l.useMemo(()=>{switch(a){case"thumbnail":return"grid_view--carouselGridViewThumbnail--VQ4Aa grid_view--carouselGridView--kG9U6";case"hero":return"grid_view--carouselGridViewHero--fJM2n grid_view--carouselGridView--kG9U6 text--fontNeg20--h0WuY text--_fontBase--QdLsd text--_negText--j9g-L";case"fullscreen_hero":return"grid_view--carouselGridViewFullscreenHero--wJryP grid_view--carouselGridView--kG9U6 text--fontNeg40--v1X92 text--_fontBase--QdLsd text--_negText--j9g-L";default:(0,x.xb)(a)}},[a]),s=l.useMemo(()=>tV.sx.if(!!r,{aspectRatio:r}).$,[r]);return l.createElement("div",{className:B()("grid_view--carouselGridViewContainer--LoaLV",{[sN]:"fullscreen_hero"===a})},l.createElement("div",{"aria-label":t,style:i,className:o},e.map((e,t,r)=>l.createElement("div",{key:e,style:s,"aria-hidden":!0,className:"grid_view--carouselGridImageContainer--e2OUP"},l.createElement("img",{src:e,draggable:!1}),"thumbnail"!==a&&t===r.length-1&&n>0&&l.createElement("div",{className:"grid_view--overflowThumbnailCount--2YPuu"},l.createElement("span",null,`+${n}`))))))}var _r=a(921211);let _n="hero--lightboxButton--5mIOs";function _i({children:e,showLetterbox:t=!1,showSlidesPreviewButton:a=!1}){let r=l.useRef(null),[n,i]=(0,ef.fp)(_e);return l.useEffect(()=>{let e=r.current;if(e){let t=e=>{"Escape"===e.key&&i(!1)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[i]),l.createElement("div",{ref:r,className:t?"hero--heroImageWrapperWithLetterbox--68M0e hero--heroImageWrapper--Tr0mE":"hero--heroImageWrapper--Tr0mE",onClick:()=>i(!0),role:"button",tabIndex:-1},l.createElement("div",{className:"hero--heroImage--fwiPW","data-testid":"rdp-carousel-hero"},e),a?l.createElement("div",{className:"hero--heroImageSlidesPreviewButton--ymaXm"},l.createElement(_r.K,null),(0,k.tx)("community.embed.preview_title")):l.createElement("div",{className:"hero--heroImageFullScreenIcon--Mn7mU"},l.createElement(eD.In,{icon:"full-screen-enter-32",fill:"menu"})))}function _o({children:e,is16to9AspectRatio:t}){let[a,r]=(0,ef.fp)(_e),n=e=>{e.stopPropagation(),r(!1)};return a?l.createElement("div",{className:"hero--modalBackground--zjoAE",onClick:n,role:"button",tabIndex:-1},l.createElement("div",{className:t?"hero--rdpImageCloseupModal--7mxym":"hero--rdpImageCloseupModal2to1AspectRatio---JVP8 hero--rdpImageCloseupModal--7mxym",onClick:n,role:"button",tabIndex:-1},e,l.createElement("div",{className:"hero--heroImageExitFullScreenIcon--OjJSh hero--heroImageFullScreenIcon--Mn7mU"},l.createElement(eD.In,{icon:"full-screen-exit-32",fill:"menu"})))):null}function _l({children:e,currentIndex:t,totalItems:a,onPrev:r,onNext:n,onRestart:i,imageAspectRatio:o="16 / 9",showLetterbox:s=!1}){let c=l.useRef(null),d=l.useRef(null),m=l.useMemo(()=>0===t,[t]),u=l.useMemo(()=>t===a-1,[t,a]),[_,p]=(0,ef.fp)(_e),f=l.useCallback(()=>{d.current?.focus({preventScroll:!0})},[]);l.useEffect(()=>{let e=c.current;if(_&&e){f();let t=e=>{"ArrowLeft"===e.key?r():"ArrowRight"===e.key?n():"Escape"===e.key&&p(!1)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[f,n,r,p,_]);let g=l.useCallback(e=>{e.stopPropagation(),p(!1)},[p]),E=l.useMemo(()=>tV.sx.if(!!o,{aspectRatio:o}).$,[o]);return _?l.createElement("div",{ref:c,className:"hero--lightboxContainer--c8JpB hero--modalBackground--zjoAE"},l.createElement("div",{className:"hero--lightboxTopRow---zayD"},l.createElement("button",{onClick:g,className:_n},l.createElement(eD.In,{icon:"x-32",fill:"menu"}))),l.createElement("div",{className:"hero--lightboxMediumRow---Gopf",onBlur:f},l.createElement("button",{className:_n,disabled:m,onClick:r},l.createElement(eD.In,{icon:"chevron-left-32",fill:m?"menu-disabled":"menu"})),l.createElement("div",{ref:d,style:E,className:s?"hero--lightboxHeroImageWithLetterbox--0kTBx hero--lightboxHeroImage--3orhF":"hero--lightboxHeroImage--3orhF",role:"button",tabIndex:0,onClick:u?i:n},s?l.createElement("div",{className:"hero--lightboxHeroImageWithLetterboxInnerContainer--buJug"},e):e),l.createElement("button",{className:_n,disabled:u,onClick:n},l.createElement(eD.In,{icon:"chevron-right-32",fill:u?"menu-disabled":"menu"}))),l.createElement("div",{className:"hero--lightboxBottomRow--wnrYI"},l.createElement("div",{className:"hero--lightboxControlsContainer--9MZdh"},l.createElement("button",{className:"hero--lightboxControlsRestartButton--mVitF hero--lightboxControlsButton--Ve597 text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",disabled:m,onClick:i},l.createElement(eD.In,{icon:"return-32",fill:m?"menu-disabled":"menu"}),(0,k.tx)("community.resource_page.media_carousel.restart")),l.createElement("button",{className:"hero--lightboxControlsButton--Ve597",disabled:m,onClick:r},l.createElement(eD.In,{icon:"navigate-back-32",fill:m?"menu-disabled":"menu"})),l.createElement("span",{className:"hero--lightboxProgressIndicator--w-JVT text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},`${t+1} / ${a}`),l.createElement("button",{className:"hero--lightboxControlsButtonMirrored--8Ljmt hero--lightboxControlsButton--Ve597",disabled:u,onClick:n},l.createElement(eD.In,{icon:"navigate-back-32",fill:u?"menu-disabled":"menu"}))))):null}let _s=l.forwardRef(({index:e,selectedIndex:t,onClick:a,children:r},n)=>l.createElement("div",{ref:n,role:"button",tabIndex:e,onClick:a,className:e===t?"thumbnail--carouselThumbnailSelected--htIXX thumbnail--carouselThumbnailBase--WdkqA":"thumbnail--carouselThumbnail--Gr5mS thumbnail--carouselThumbnailBase--WdkqA"},r));function _c({thumbnailUrl:e,resizedThumbnailUrls:t,resourceId:a,altText:r,isVideo:n}){return l.createElement(l.Fragment,null,l.createElement(sL,{thumbnailUrl:e,resourceId:a,altText:r,thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:t}),n&&l.createElement("div",{className:"thumbnail--carouselThumbnailOverlayForVideo--pfKHV"},l.createElement(s2,null)))}function _d(e){let t=(0,sI.XW)(e)?e.name:(0,so.qD)(e).name;return`${t} preview`}function _m({resource:e,resourceContent:t,is16to9AspectRatio:a}){let r=l.useRef(null),n=l.useRef(null),[i,o]=l.useState(!1),[s,c]=l.useState(0),[d,m]=l.useState(!1),[u,_]=l.useState(!0),p=l.useMemo(()=>(0,so.N6)(e),[e]),f=function(e,t,a=!1){let r=(0,_t.fq)((0,sI.cX)(e)?sI.eO(e)?.library_key:void 0);return l.useMemo(()=>{let e=void 0===r,n=e?t:r.length;if(n<=1)return[];let i=a?function(e){let t=e,a=[];for(;t>16;)a.push(12),t-=12;return t>12&&(a.push(8),t-=8),t>0&&a.push(t),a}(n):[n],o=[];return i.reduce((t,a)=>{let n=e?[]:r.slice(t,t+a);return o.push({type:"grid",thumbnailUrls:n}),t+a},0),o},[a,t,r])}(e,p.length),g=l.useMemo(()=>[...f,...p],[p,f]),E=l.useRef([]),h=(0,sl.lZ)();l.useEffect(()=>{c(f.length)},[f.length,e]);let v=l.useCallback(()=>{r.current&&o(r.current.scrollWidth>r.current.clientWidth)},[]);l.useEffect(v,[v,g.length]),(0,u6.wY)(r,v);let y=l.useCallback(()=>{let e=r.current,t=E.current[g.length-1];if(e&&t){let a=e.getBoundingClientRect(),r=t.getBoundingClientRect();m(e.scrollLeft>0),_(Math.abs(r.right-a.right)>1)}},[g.length]);l.useEffect(()=>{let e=r.current,t=E.current[s];if(e&&t){let a=e.getBoundingClientRect(),r=t.getBoundingClientRect(),n=(()=>{let e=parseInt("32px")/2+parseInt("12px"),t=0===s,n=a.left+(t?0:e);if(r.left<n)return r.left-n;let i=s===g.length-1,o=a.right-(i?0:e);return r.right>o?r.right-o:0})();(0,u7.Lg)()||0===n||e.scrollBy({left:n,behavior:"smooth"})}},[g.length,s]);let b=l.useCallback(()=>{c(e=>Math.max(0,e-1))},[]),w=l.useCallback(()=>{c(e=>Math.min(g.length-1,e+1))},[g.length]),T=l.useCallback(()=>{c(0)},[]),[I,C]=(0,ef.fp)(_e);l.useEffect(()=>{let e=n.current;if(!I&&e){E.current[s]?.focus({preventScroll:!0});let t=e=>{let t=!0;"ArrowLeft"===e.key?b():"ArrowRight"===e.key?w():"Enter"===e.key?C(!0):t=!1,t&&e.preventDefault()};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[w,b,s,C,I]);let N=(0,si.J)(),S=(0,so.z$)(e),k=(0,sI.cX)(e);if(S===mw.Z4.EMBED||0===g.length)return l.createElement(_u,{resource:e,heroType:S,is16to9AspectRatio:a});let L=s<g.length?g[s]:g[0],A=Object.keys(g).length>1;return l.createElement(l.Fragment,null,function(r){let n=_d(e);switch(r.type){case"image":let[i,o]=sk(r);return l.createElement(l.Fragment,null,l.createElement(_i,{showLetterbox:k,showSlidesPreviewButton:k&&h()},l.createElement(sL,{thumbnailUrl:i,resourceId:e.id,altText:n,thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:o})),k?l.createElement(_l,{currentIndex:s,totalItems:g.length,onPrev:b,onNext:w,onRestart:T,showLetterbox:k},l.createElement(sA,{thumbnailUrl:i,altText:n,resourceId:e.id})):l.createElement(_o,{is16to9AspectRatio:a},l.createElement(sA,{thumbnailUrl:i,altText:n,resourceId:e.id})));case"video":return l.createElement("div",{className:"hero--heroVideo--XAdfp hero--heroImage--fwiPW"},l.createElement(sY,{src:sR(r,e),fallbackSrc:r.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,el.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:(0,sI.Vm)(t),searchSessionId:N})}}));case"grid":return l.createElement(l.Fragment,null,l.createElement(_i,{showSlidesPreviewButton:k&&h()},l.createElement(_a,{thumbnailUrls:r.thumbnailUrls,altText:n,size:"hero"})),k?l.createElement(_l,{currentIndex:s,totalItems:g.length,onPrev:b,onNext:w,onRestart:T},l.createElement(_a,{thumbnailUrls:r.thumbnailUrls,altText:n,size:"fullscreen_hero"})):l.createElement(_o,{is16to9AspectRatio:a},l.createElement(_a,{thumbnailUrls:r.thumbnailUrls,altText:n,size:"fullscreen_hero"})));default:(0,x.xb)(r)}}(L),A&&l.createElement("div",{ref:n,className:"resource_page_media_carousel--carouselThumbnailsContainer--YuKP9","data-testid":"rdp-carousel-thumbnails"},l.createElement("div",{ref:r,className:i?"resource_page_media_carousel--carouselThumbnails--VkVVj":"resource_page_media_carousel--centeredCarouselThumbnails--20mlm resource_page_media_carousel--carouselThumbnails--VkVVj",onScroll:y},Object.values(g).map(function(a,r){let n=null,i=_d(e);if("image"===a.type||"video"===a.type){let[t,r]=sk(a);n=l.createElement(_c,{thumbnailUrl:t,resizedThumbnailUrls:r,resourceId:e.id,altText:i,isVideo:"video"===a.type})}else"grid"===a.type?n=l.createElement(_a,{thumbnailUrls:a.thumbnailUrls,altText:i,size:"thumbnail"}):(0,x.xb)(a);return l.createElement(_s,{ref:e=>{E.current[r]=e},key:r,index:r,selectedIndex:s,onClick:()=>{c(r),(0,el.sx)("CTA Clicked",{name:"Resource Carousel Thumbnail Clicked",community_resource_id:e.id,index:r,media_type:a.type,resouce_type:(0,sI.Vm)(t),searchSessionId:N})}},n)})),i&&d&&l.createElement(l.Fragment,null,l.createElement("div",{className:"resource_page_media_carousel--fadeOutMaskLeft--J1Skk resource_page_media_carousel--fadeOutMask--hqP3b"}),l.createElement("div",{className:"resource_page_media_carousel--carouselArrowLeft--VYt1X resource_page_media_carousel--arrow--5g-tR",role:"button",tabIndex:0,onClick:b},l.createElement(eD.In,{icon:"chevron-left-32"}))),i&&u&&l.createElement(l.Fragment,null,l.createElement("div",{className:"resource_page_media_carousel--fadeOutMaskRight--1NzE3 resource_page_media_carousel--fadeOutMask--hqP3b"}),l.createElement("div",{className:"resource_page_media_carousel--carouselArrowRight--1Dlxa resource_page_media_carousel--arrow--5g-tR",role:"button",tabIndex:0,onClick:w},l.createElement(eD.In,{icon:"chevron-right-32"})))))}function _u({resource:e,heroType:t,is16to9AspectRatio:a}){let r=(0,sl.lZ)();if(t!==mw.Z4.EMBED){let t=e.thumbnail_url??void 0,n=(0,sI.XW)(e)?e.thumbnail_src_set:(0,su.U)(e)&&e.resized_thumbnail_urls,i=(0,sI.cX)(e);return l.createElement(l.Fragment,null,l.createElement(_i,{showSlidesPreviewButton:i&&r()},l.createElement(sL,{thumbnailUrl:t,resourceId:e.id,altText:_d(e),thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:n||void 0})),l.createElement(_o,{is16to9AspectRatio:a},l.createElement(sA,{thumbnailUrl:t,altText:_d(e),resourceId:e.id})))}let n=(0,sI.XW)(e)?(0,sI.qY)(e):e;return n?l.createElement("div",{className:"resource_page_media_carousel--canvasViewerWrapper--wZlH-","data-testid":"rdp-embed"},l.createElement(mR,{enableEmbedOnSmallScreens:!0,resource:n})):null}function __({title:e,description:t,children:a}){return l.createElement("section",{className:B()("collection_section--section--RLij0","collection_section--breadcrumbsPadding--JYTAp")},l.createElement("div",{className:"collection_section--title--tNWji text--fontPos24--YppUD text--_fontBase--QdLsd"},e),!!t&&l.createElement("div",{className:"collection_section--description--UH-JN text--fontPos16--oMC-G text--_fontBase--QdLsd"},t),l.createElement("div",{className:"collection_section--content--rIF8z"},a))}var _p=a(375360);let _f="two_column_resource_page--leftSideRedesign--W3m0M",_g="two_column_resource_page--rightSideRedesignCarousel--d7GTz two_column_resource_page--rightSideRedesign--KsU3v",_E="two_column_resource_page--rightSideRedesignFallbackThumbnail--Ydb1e two_column_resource_page--rightSideRedesign--KsU3v";function _h({title:e,resource:t,meta:a,showCTA:r=!0}){let n=(0,c$.N)(`(max-width: ${my.YW}px)`),i=(0,sa.C)(t),o=cx(t,a),s=r?l.createElement(d6,{resource:t,resourceContent:t}):null,c=(0,so._t)({resource:t}),d=l.createElement(ez.o3,{className:"hero_section--learnMore--a7m3e text--fontPos13--xW8hS text--_fontBase--QdLsd",to:c,trackingEventName:"community_collections",trackingProperties:{href:c},target:"_blank"},(0,k.tx)("community.collections.learn_more")),m=(0,so.qD)(t),u=l.createElement(md,{resource:t,resourceContent:t});return l.createElement(__,{title:e},n?l.createElement("div",null,l.createElement(_p.rS,{resource:t,title:o?.title,description:o?.description})):l.createElement("div",{className:"hero_section--section--xyS5J"},l.createElement(nH.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},l.createElement("div",{className:_f},l.createElement(u3,{publishers:t.community_publishers.accepted,resourceHeaderStats:u,CTAButton:s,learnMore:d,title:o?.title??m.name,description:o?.description,openInNewTab:!0})),l.createElement("div",{className:i?_g:_E},l.createElement(_m,{resource:t,resourceContent:t,is16to9AspectRatio:i})))))}var _v=a(407844),_y=a(164795),_b=a(967063);function _w(){let e={id:_y.om.communityResourceInReviewBanner,bannerType:_y.x1.WARN,icon:_b.A,mainText:(0,k.t)("community.collections.unpublished_banner.this_page_is_not_published"),description:(0,k.t)("community.collections.unpublished_banner.only_admins_can_see_this_page"),dismissible:!1,positionStatic:!0};return l.createElement(_v.C,{content:e,onDismiss:g.lQ})}let _T=a(643233).i,_I="resource_bundle_section--resources--h-L7L";function _C({title:e,description:t,resources:a,meta:r}){let n=a.filter(e=>!!e);return n.length?l.createElement(__,{title:e,description:t},l.createElement("div",{className:_I},n.map(e=>{let t=cx(e,r);return l.createElement(_p.rS,{resource:e,title:t?.title,description:t?.description,key:e.id})}))):null}function _x({title:e,description:t,meta:a,preview:r=!1}){return l.createElement(__,{title:e,description:t},l.createElement("div",{className:_I},r?"Preview not supported":(a.figjam_ai??[]).map(e=>l.createElement(_T,{title:e.title,description:e?.description??"",imageUrl:e.imageUrl,prompt:e.prompt,promptCategory:e.category,key:`${e.title}-${e.prompt}`}))))}function _N(){let{urlSlug:e}=(0,lJ.g)(),[{data:t,status:a}]=(0,f.IT)(cH({urlSlug:e,isTemplateUrl:function(e){try{return/^\/community\/templates\/.+$/.test(new URL(e).pathname)}catch{return!1}}(m.Ay.location.href)}));return((0,l.useLayoutEffect)(()=>{let t=cN[e];(0,df.N)(t,cq.LJ)&&m.Ay.replace(new cZ.IE({categorySlug:t}).href);let a=cS[e];a&&m.Ay.replace(`/community/collections/${a}`)},[e]),"loading"===a)?null:t?(document.title=t.meta_title||"Collection | Figma",l.createElement(l.Fragment,null,l.createElement(_S,{collection:t}),!(0,d.y3)()&&l.createElement("div",{className:"collection_page--footerContainer--Y-BuI collection_page--pageSections--mndLy"},l.createElement(c1,null)))):l.createElement(dr,null)}function _S({collection:e,preview:t=!1}){return l.createElement(ez.fu,{name:"community_collections",properties:{urlSlug:e.url_slug,title:e.title}},!("published"===e.publishing_status&&e.latest_published_at)&&l.createElement(_w,null),l.createElement("div",{className:"collection_page--page--XgZLM"},l.createElement(dp,{collection:e,preview:t}),!!e.sections.length&&l.createElement("section",{className:"collection_page--pageSectionsRedesign--CwAe3"},e.sections.map((e,a)=>e.section_type===cE.BUNDLE_SECTION&&e.resources?l.createElement(_C,{title:e.title||"",description:e.description||"",resources:e.resources,meta:e.meta,key:a}):e.section_type===cE.HERO_SECTION&&e.resource?l.createElement(_h,{title:e.title||"",resource:e.resource,meta:e.meta,showCTA:!t,key:a}):e.section_type===cE.BUNDLE_SECTION&&e.meta.figjam_ai?l.createElement(_x,{title:e.title||"",description:e.description||"",meta:e.meta,preview:t,key:a}):void 0)),!!e.faqs&&l.createElement(dE,{faqs:e.faqs})))}function _k(){let e=(0,si.J)(),[t,a]=l.useState();return l.useEffect(()=>m.Ay.listen(()=>{a(e)}),[e]),l.useEffect(()=>{t&&!m.Ay.location.state?.searchSessionId&&m.Ay.replace(null,{...m.Ay.location.state,searchSessionId:t})},[t]),null}function _L(){return(0,l.useEffect)(()=>m.Ay.listen(e=>{"PUSH"===e&&window.scrollTo(0,0)}),[]),null}var _A=a(62589),_R=(e=>(e.COLLECTIONS="collections",e.TEMPLATES="templates",e))(_R||{});class _F extends _A.nS{}_F.path="/community/:collectionType(collections|templates)/:urlSlug",_F.deserializeParams=e=>({...e,collectionType:e.collectionType}),_F.serializeParams=e=>e;class _P extends _A.nS{}_P.path="/community/collections";var _O=a(697170),_D=a(177131),_M=a(343427);function _B(e){let t;return()=>t??=e()}let _U=_B(function(){return{designTemplates:[{urlSlug:cq.LJ.desktopAppsWebsites,text:(0,k.t)("categories.desktop_apps_websites")},{urlSlug:cq.LJ.mobileApps,text:(0,k.t)("categories.mobile_apps")},{urlSlug:cq.LJ.portfolios,text:(0,k.t)("categories.portfolios")},{urlSlug:cq.LJ.resumes,text:(0,k.t)("categories.resumes")}],libraries:[{urlSlug:cq.LJ.uiKits,text:(0,k.t)("categories.ui_kits")},{urlSlug:cq.LJ.wireframes,text:(0,k.t)("categories.wireframes")}],plugins:[{urlSlug:cq.LJ.editingEffects,text:(0,k.t)("categories.editing_effects")},{urlSlug:cq.LJ.fileOrganization,text:(0,k.t)("categories.file_organization")},{urlSlug:cq.LJ.development,text:(0,k.t)("categories.development")},{urlSlug:cq.LJ.whiteboarding,resourceType:"widgets",text:(0,k.t)("categories.widgets")},{urlSlug:cq.LJ.importExport,text:(0,k.t)("categories.import_export")},{urlSlug:cq.LJ.prototypingAnimation,text:(0,k.t)("categories.prototyping_animation")}],visualAssets:[{urlSlug:cq.LJ.illustrations,text:(0,k.t)("categories.illustrations")},{urlSlug:cq.LJ.icons,text:(0,k.t)("categories.icons")},{urlSlug:cq.LJ.shapesColors,text:(0,k.t)("categories.shapes_colors")}],whiteboarding:[{urlSlug:cq.LJ.brainstorming,text:(0,k.t)("categories.brainstorming")},{urlSlug:cq.LJ.diagramming,text:(0,k.t)("categories.diagramming")},{urlSlug:cq.LJ.funGames,text:(0,k.t)("categories.fun_games")},{urlSlug:cq.LJ.teamMeetings,text:(0,k.t)("categories.team_meetings")},{urlSlug:cq.LJ.strategicPlanning,text:(0,k.t)("categories.strategic_planning")}],presentations:[{urlSlug:cq.LJ.presentations,resourceId:"1382483546106051977",text:(0,k.t)("categories.presentations.pitch_deck")},{urlSlug:cq.LJ.presentations,resourceId:"1382445842871959915",text:(0,k.t)("categories.presentations.product_roadmap")}]}}),_V=_B(function(){return{libraries:{urlSlug:cq.LJ.libraries,text:(0,k.t)("categories.design_libraries"),allText:(0,k.t)("categories.all_design_libraries")},designTemplates:{urlSlug:cq.LJ.designTemplates,text:(0,k.t)("categories.design_templates"),allText:(0,k.t)("categories.all_design_templates")},visualAssets:{urlSlug:cq.LJ.visualAssets,text:(0,k.t)("categories.assets"),allText:(0,k.t)("categories.all_assets")},plugins:{urlSlug:cq.LJ.designTools,resourceType:"plugins",text:(0,k.t)("community.view_bar.plugins"),allText:(0,k.t)("categories.all_plugins")},whiteboarding:{urlSlug:cq.LJ.whiteboarding,text:(0,k.t)("categories.whiteboarding"),allText:(0,k.t)("categories.all_whiteboarding")},presentations:{urlSlug:cq.LJ.presentations,text:(0,k.t)("categories.presentations"),allText:(0,k.t)("categories.all_presentations")}}});function _H(e){return e.resourceId?new sE.ax({resourceId:e.resourceId,apiResourceType:sE.Uo.FILE}).href:e.resourceType&&e.urlSlug?new cZ.IE({categorySlug:e.urlSlug},{resource_type:e.resourceType}).href:new cZ.IE({categorySlug:e.urlSlug}).href}function _W(e){let t=_H(e);return{key:function(e){let t=e.urlSlug;return e.resourceId?t+"-"+e.resourceId:e.resourceType?t+"-"+e.resourceType:t}(e),text:e.allText?e.allText:e.text,path:t,className:e.allText?S.cx.underline.$:void 0,trackingProps:{trackingEventName:"community_mobile_nav_category_clicked",trackingProperties:{slug:e.urlSlug,url:t}}}}var _j=a(232655);let _$="mobile_flyout_item--mobileFlyoutItem--7KYhr text--fontPos20--Bcz97 text--_fontBase--QdLsd";function _G({navItem:e,onClose:t}){let a={trackingEventName:"mobile_flyout_item_select",trackingProperties:{path:e.path},...e.trackingProps};return l.createElement("div",{className:_$},l.createElement(ez.o3,{key:e.key,to:e.path,onClick:a=>{e.onClick&&e.onClick(a),t()},className:B()(S.cx.colorText.block.$,e.className??""),...a},e.text))}function _Y({isExpanded:e,toggleExpanded:t,navItemGroup:a,onClose:r}){let n=l.useRef(null);return l.useEffect(()=>{if(e&&n.current?.style.maxHeight==="0px"){let e=0;n.current.childNodes.forEach(t=>{t instanceof HTMLElement&&(e+=t.offsetHeight)}),n.current.style.maxHeight=`${e}px`}else!e&&n.current&&(n.current.style.maxHeight="0px")},[e]),l.createElement("div",{className:_$},l.createElement("button",{onClick:t,className:S.cx.flex.justifyStart.alignLeft.colorText.itemsCenter.$},a.text,l.createElement(j.B,{svg:rq.A,className:B()("mobile_flyout_item_group--mobileFlyoutItemGroupCaret--lbbaU",{"mobile_flyout_item_group--mobileFlyoutItemGroupCaretExpanded--P269f":e}),svgClassName:S.cx.w8.h8.$,style:{fill:(0,_j.TD)("default")}})),l.createElement("div",{ref:n,className:"mobile_flyout_item_group--mobileFlyoutSubItems--Ze8c7"},a.children.map(e=>l.createElement(_G,{key:e.key,navItem:e,onClose:r}))))}var _z=a(234269),_Q=a(137466);function _K({navItems:e,onClose:t,trackingContext:a}){let[r,n]=l.useState(!1);l.useEffect(()=>{let e=document.body.style.overflow;return document.body.style.overflow="hidden",n(!0),()=>{document.body.style.overflow=e}},[]);let[i,o]=l.useState(null),s={name:"mobile_flyout",...a};return l.createElement(l.Fragment,null,l.createElement("div",{className:"mobile_flyout--mobileFlyoutContainer--Z9i-T",onClick:e=>{e.stopPropagation(),t()}},l.createElement("div",{className:B()("mobile_flyout--mobileFlyout--YX14z",{"mobile_flyout--mobileFlyoutMounted--RUFmS":r}),onClick:e=>e.stopPropagation()},l.createElement(ez.fu,{...s},l.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.$},l.createElement(j.B,{svg:_z.A,className:"mobile_flyout--communitySvgContainer--R6Qs9",style:{fill:(0,_j.TD)("default")},svgClassName:S.cx.w32.h32.$,onClick:e=>{(0,sg.qG)("/community",e,!1),t()}}),l.createElement(j.B,{svg:_Q.A,svgWidth:"18px",onClick:t,style:{fill:(0,_j.TD)("default")}})),l.createElement("div",{className:S.cx.flex.flexWrap.flexColumn.gap2.pt32.$},e.map(e=>"children"in e?l.createElement(_Y,{key:e.key,isExpanded:i===e.key,toggleExpanded:()=>o(i===e.key?null:e.key),navItemGroup:e,onClose:t}):l.createElement(_G,{key:e.key,navItem:e,onClose:t})))))))}function _q({showNewIcon:e}){let[t,a]=l.useState(!1),r=function(){let e=function(){let e=_U(),t=_V();return(0,l.useMemo)(()=>[{category:t.libraries,dropdownCategories:e.libraries},{category:t.designTemplates,dropdownCategories:e.designTemplates},{category:t.visualAssets,dropdownCategories:e.visualAssets},{category:t.plugins,dropdownCategories:e.plugins},{category:t.whiteboarding,dropdownCategories:e.whiteboarding},{category:t.presentations,dropdownCategories:e.presentations}],[t,e])}();return(0,l.useMemo)(()=>e.reduce((e,{category:t,dropdownCategories:a})=>{if(!("urlSlug"in t||"resourceId"in t))return e;if(a&&a.length>0){let r=[...a.map(e=>_W(e)),_W(t)];return[...e,{key:t.urlSlug,text:t.text,children:r}]}return[...e,{key:t.urlSlug,text:t.text,path:_H(t)}]},[{key:"home",text:(0,k.t)("community.view_bar.home"),path:"/community"}]),[e])}();return l.createElement("div",{"data-testid":"flyout-category-selector",className:S.cx.p12.flexShrink0.$},t&&l.createElement(_K,{navItems:r,onClose:()=>a(!1),trackingContext:{name:"community_mobile_nav_flyout"}}),l.createElement("button",{className:S.cx.flex.gap6.flexNowrap.fontMedium.colorText.itemsCenter.$,onClick:()=>a(!0)},e?l.createElement(_M.Z,null):l.createElement(eD.In,{icon:"workspace-16"}),l.createElement("span",{className:S.cx.font13.$},(0,k.tx)("community.view_bar.browse"))))}let _Z="nav_dropdown_card--linearGradientBackground--lJEst",_X="nav_dropdown_card--animatedImage--K1GI2",_J="nav_dropdown_card--icon--i86uY",_0="nav_dropdown_card--card--byB-G",_1="nav_dropdown_card--smallCard---QRv1",_2=e=>e.backgroundDotted&&e.backgroundFading?_Z:e.backgroundDotted?"nav_dropdown_card--dottedBackground--JKonD":e.backgroundDottedSmall?"nav_dropdown_card--dottedBackgroundSmall--SQfOI":e.backgroundFading?_Z:void 0,_4={scaleOut:"nav_dropdown_card--scaleOut--qGBOE",slideLeft:"nav_dropdown_card--slideLeft--TxPHT",shuffle:"nav_dropdown_card--shuffle--1xZAE",slideUp:"nav_dropdown_card--slideUp--ihkWb",iconFan:"nav_dropdown_card--iconFan--ujwnb",cardFan:"nav_dropdown_card--cardFan--AxUDL",accordian:"nav_dropdown_card--accordian--vOvt0"};var _8=(e=>(e.HALF="HALF",e.FULL="FULL",e))(_8||{});function _3(e){let{cardSize:t,title:a,subtitle:r,url:n,animation:i,backgroundColor:o}=e;return l.createElement(ez.jm,{className:"nav_dropdown_card--navDropdownCard--MAs6u","data-card-size":t,trackingEventName:"community_global_nav_category_clicked",trackingProperties:{url:n},onClick:()=>m.Ay.push(n)},l.createElement("div",{className:"nav_dropdown_card--titleAndSubtitle--gq1Eu"},l.createElement("a",{className:"nav_dropdown_card--title--ytbFI text--fontPos13--xW8hS text--_fontBase--QdLsd",href:n,onClick:e=>e.preventDefault()},a),r&&l.createElement("div",{className:"nav_dropdown_card--subTitle--Z3jMj text--fontPos11--2LvXf text--_fontBase--QdLsd"},r)),l.createElement("div",{className:B()("nav_dropdown_card--imagesContainer--BXAtR",_2(e),_4[i]),style:{backgroundColor:o},"data-card-size":t},"accordian"===i&&l.createElement(l.Fragment,null,l.createElement("div",{"data-animation-index":"2",className:_X}),l.createElement("div",{"data-animation-index":"1",className:_X,style:{backgroundColor:e.middleCardColor}}),l.createElement("img",{alt:a,"data-animation-index":"0",...e.images[0],className:B()(e.images[0].className,_X)})),!!i&&"accordian"!==i&&e.images.map((e,t)=>l.createElement("img",{key:t,alt:a,"data-animation-index":t,...e,className:B()(e.className,_X)}))))}function _5(e){return({[cq.LJ.visualAssets]:(0,k.t)("community.categories.visual_assets"),[cq.LJ.development]:(0,k.t)("community.categories.development"),[cq.LJ.accessibility]:(0,k.t)("categories.accessibility"),[cq.LJ.brainstorming]:(0,k.t)("categories.brainstorming"),[cq.LJ.classroomActivities]:(0,k.t)("categories.classroom_activities"),[cq.LJ.designTemplates]:(0,k.t)("community.categories.design_templates"),[cq.LJ.designTools]:(0,k.t)("community.categories.design_tools"),[cq.LJ.desktopAppsWebsites]:(0,k.t)("categories.desktop_apps_websites"),[cq.LJ.diagramming]:(0,k.t)("categories.diagramming"),[cq.LJ.editingEffects]:(0,k.t)("categories.editing_effects"),[cq.LJ.education]:(0,k.t)("community.categories.education"),[cq.LJ.fileOrganization]:(0,k.t)("categories.file_organization"),[cq.LJ.fontsTypography]:(0,k.t)("categories.fonts_typography"),[cq.LJ.funGames]:(0,k.t)("categories.fun_games"),[cq.LJ.icons]:(0,k.t)("community.categories.icons"),[cq.LJ.illustrations]:(0,k.t)("categories.illustrations"),[cq.LJ.importExport]:(0,k.t)("categories.import_export"),[cq.LJ.libraries]:(0,k.t)("categories.libraries"),[cq.LJ.mobileApps]:(0,k.t)("categories.mobile_apps"),[cq.LJ.portfolios]:(0,k.t)("categories.portfolios"),[cq.LJ.calendarTemplates]:(0,k.t)("categories.calendar_templates"),[cq.LJ.presentations]:(0,k.t)("categories.presentations"),[cq.LJ.prototypingAnimation]:(0,k.t)("categories.prototyping_animation"),[cq.LJ.resumes]:(0,k.t)("categories.resumes"),[cq.LJ.shapesColors]:(0,k.t)("categories.shapes_colors"),[cq.LJ.stockPhotography]:(0,k.t)("categories.stock_photography"),[cq.LJ.strategicPlanning]:(0,k.t)("categories.strategic_planning"),[cq.LJ.teamMeetings]:(0,k.t)("categories.team_meetings"),[cq.LJ.tutorials]:(0,k.t)("categories.tutorials"),[cq.LJ.uiKits]:(0,k.t)("categories.ui_kits"),[cq.LJ.wireframes]:(0,k.t)("categories.wireframes"),[cq.LJ.whiteboarding]:(0,k.t)("community.categories.whiteboarding")})[e]}function _9({links:e}){return l.createElement("div",{className:"nav_dropdown_list--navDropdownList--WMnxk"},e.map(({route:e,textOverride:t,isBold:a})=>{let r=_5(e.params.categorySlug);return l.createElement(ez.o3,{trackingEventName:"community_global_nav_category_clicked",to:e.href,key:e.pathname,trackingProperties:{slug:e.params.categorySlug}},l.createElement("div",{className:a?"nav_dropdown_list--navDropdownListLinkBold--TAZNI nav_dropdown_list--navDropdownListLink--fjC8M text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_dropdown_list--navDropdownListLink--fjC8M text--fontPos13--xW8hS text--_fontBase--QdLsd"},t||r))}))}let _6="nav_category_selector_2--navDropdownContainer--qK25n",_7="nav_category_selector_2--navDropdownCardColumn--bCxFr";function pe(){let{uikitRoute:e,wireframesRoute:t,designTemplatesRoute:a,desktopAppRoute:r,mobileAppRoute:n,portfolioRoute:i,resumeRoute:o,visualAssetsRoute:s,illustrationsRoute:c,iconsRoute:d,shapesColorsRoute:m}=(0,l.useMemo)(()=>({uikitRoute:new cZ.IE({categorySlug:cq.LJ.uiKits}),wireframesRoute:new cZ.IE({categorySlug:cq.LJ.wireframes}),designTemplatesRoute:new cZ.IE({categorySlug:cq.LJ.designTemplates}),desktopAppRoute:new cZ.IE({categorySlug:cq.LJ.desktopAppsWebsites}),mobileAppRoute:new cZ.IE({categorySlug:cq.LJ.mobileApps}),portfolioRoute:new cZ.IE({categorySlug:cq.LJ.portfolios}),resumeRoute:new cZ.IE({categorySlug:cq.LJ.resumes}),visualAssetsRoute:new cZ.IE({categorySlug:cq.LJ.visualAssets}),illustrationsRoute:new cZ.IE({categorySlug:cq.LJ.illustrations}),iconsRoute:new cZ.IE({categorySlug:cq.LJ.icons}),shapesColorsRoute:new cZ.IE({categorySlug:cq.LJ.shapesColors})}),[]);return l.createElement("div",{className:_6},l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.U1R})`},l.createElement(_3,{cardSize:_8.FULL,title:(0,k.t)("categories.ui_kits"),subtitle:(0,k.t)("categories.navbar.ui_kits.subtitle"),url:e.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/c9620888b341fdf8bfcb6cb53ef798b8efd27159",className:_0},{src:"https://static.figma.com/uploads/f5921b0ab0398572836ad5724607bab4431bb730",className:_0}]})),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.U1R})`},l.createElement(_3,{cardSize:_8.FULL,title:(0,k.t)("categories.wireframes"),subtitle:(0,k.t)("categories.navbar.wireframes.subtitle"),url:t.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/da71ee40d7bcd76b5f8857c1694056d19da681b2",className:_0},{src:"https://static.figma.com/uploads/d50b185c8aba27a30207c8d938fcd13faadf9f32",className:_0}]})),l.createElement(sd.Ay,{mediaQuery:`(max-width: ${(0,iL.jz)(i4.U1R)-1}px)`},l.createElement("div",{className:_7},l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.ui_kits"),subtitle:(0,k.t)("categories.navbar.ui_kits.subtitle"),url:e.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/c9620888b341fdf8bfcb6cb53ef798b8efd27159",className:_1}]}),l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.wireframes"),subtitle:(0,k.t)("categories.navbar.wireframes.subtitle"),url:t.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/d50b185c8aba27a30207c8d938fcd13faadf9f32",className:_1}]}))),l.createElement(_9,{links:[{route:a,isBold:!0},{route:r},{route:n},{route:i},{route:o}]}),l.createElement(_9,{links:[{route:s,textOverride:(0,k.t)("categories.assets"),isBold:!0},{route:c},{route:d},{route:m}]}))}function pt(){let e=(0,iM.DP)(),{editingEffectsRoute:t,fileOrganizationRoute:a,developmentRoute:r,widgetsRoute:n,pluginsRoute:i,importExportRoute:o,accessibilityRoute:s,prototypingAnimationRoute:c}=(0,l.useMemo)(()=>({editingEffectsRoute:new cZ.IE({categorySlug:cq.LJ.editingEffects},{resource_type:"plugins"}),fileOrganizationRoute:new cZ.IE({categorySlug:cq.LJ.fileOrganization},{resource_type:"plugins"}),developmentRoute:new cZ.IE({categorySlug:cq.LJ.development},{resource_type:"plugins"}),widgetsRoute:new cZ.IE({categorySlug:cq.LJ.whiteboarding},{resource_type:"widgets"}),pluginsRoute:new cZ.IE({categorySlug:cq.LJ.designTools},{resource_type:"plugins"}),importExportRoute:new cZ.IE({categorySlug:cq.LJ.importExport},{resource_type:"plugins"}),accessibilityRoute:new cZ.IE({categorySlug:cq.LJ.accessibility},{resource_type:"plugins"}),prototypingAnimationRoute:new cZ.IE({categorySlug:cq.LJ.prototypingAnimation},{resource_type:"plugins"})}),[]);return l.createElement("div",{className:_6},l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.U1R})`},l.createElement(_3,{cardSize:_8.FULL,title:(0,k.t)("categories.editing_effects"),subtitle:(0,k.t)("categories.navbar.editing_effects.subtitle"),url:t.href,animation:"slideLeft",images:[{src:"dark"===e?"https://static.figma.com/uploads/c55e977611400609a084e5620d40edc6c50a9a1b":"https://static.figma.com/uploads/5c737368bdd000ee52eb78e6424e14baeded37fb",className:_0,style:{boxShadow:"none"}}]})),l.createElement("div",{className:_7},l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.file_organization"),subtitle:(0,k.t)("categories.navbar.file_organization.subtitle"),url:a.href,animation:"scaleOut",images:[{src:"https://static.figma.com/uploads/ea10da5555080d6f61eceb6403aa7c1cef613347",className:_J}]}),l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.development"),subtitle:(0,k.t)("categories.navbar.development.subtitle"),url:r.href,animation:"iconFan",images:[{src:"https://static.figma.com/uploads/33deabb795dc9e08a039e2f0994d68dfb5770cbc",className:_J},{src:"https://static.figma.com/uploads/48bc4dd034de8b31df987fa89dbf6a1faa65c194",className:_J}]})),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.U1R})`},l.createElement(_3,{cardSize:_8.FULL,title:(0,k.t)("categories.widgets"),subtitle:(0,k.t)("categories.navbar.widgets.subtitle"),url:n.href,animation:"shuffle",images:[{src:"https://static.figma.com/uploads/b1db3193a01e80c6c6875e569a65db5785d85903"},{src:"https://static.figma.com/uploads/859671379f19079b85b3611c4934611a1c915174"}],backgroundDotted:!0,backgroundFading:!0})),l.createElement(sd.Ay,{mediaQuery:`(max-width: ${(0,iL.jz)(i4.U1R)-1}px)`},l.createElement("div",{className:_7},l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.editing_effects"),subtitle:(0,k.t)("categories.navbar.editing_effects.subtitle"),url:t.href,animation:"iconFan",images:[{src:"https://static.figma.com/uploads/9fed7cff708002c2773ec818595f3c9e6cdd86e6",className:_J},{src:"https://static.figma.com/uploads/d32402204d96164f250d67fea5576b7175b3b663",className:_J}]}),l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.widgets"),subtitle:(0,k.t)("categories.navbar.widgets.subtitle"),url:n.href,animation:"scaleOut",images:[{src:"https://static.figma.com/uploads/b1db3193a01e80c6c6875e569a65db5785d85903",style:{width:"64px"}}],backgroundDottedSmall:!0}))),l.createElement(_9,{links:[{route:i,textOverride:(0,k.t)("categories.more_plugins"),isBold:!0},{route:o},{route:s},{route:c}]}))}var pa=a(357611);function pr(){let e=new cZ.IE({categorySlug:cq.LJ.presentations},{editor_type:pa.k.Editors.SLIDES}),[t,a]="staging"===(0,p.Ay)().cluster_name?[{route:new sE.ax({resourceId:"1380690018201193525",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new sE.ax({resourceId:"1380614040001429551",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new sE.ax({resourceId:"1380608789812079661",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.research_readout")},{route:new sE.ax({resourceId:"1380608691855352876",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.all_hands_meeting")},{route:new sE.ax({resourceId:"1380280625154305056",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.design_review")}]:"prod"===(0,p.Ay)().cluster_name?[{route:new sE.ax({resourceId:"1382483546106051977",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new sE.ax({resourceId:"1382445842871959915",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new sE.ax({resourceId:"1382481559228932486",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.research_readout")},{route:new sE.ax({resourceId:"1382859851486347871",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.all_hands_meeting")},{route:new sE.ax({resourceId:"1383475610293894214",apiResourceType:sE.Uo.FILE}),text:(0,k.t)("categories.presentations.design_review")}]:"local"===(0,p.Ay)().cluster_name?[{route:new cZ.IE({categorySlug:cq.LJ.uiKits}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new cZ.IE({categorySlug:cq.LJ.uiKits}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new cZ.IE({categorySlug:cq.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")},{route:new cZ.IE({categorySlug:cq.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")},{route:new cZ.IE({categorySlug:cq.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")}]:[];return l.createElement("div",{className:_6},l.createElement(_3,{cardSize:_8.FULL,title:t.text,subtitle:t.subText,url:t.route.href,animation:"accordian",images:[{src:"https://static.figma.com/uploads/b88b1be49cdff971481ddb424741db908d32e124"}],middleCardColor:"#FFFAD0"}),l.createElement(_3,{cardSize:_8.FULL,title:a.text,subtitle:a.subText,url:a.route.href,animation:"accordian",images:[{src:"https://static.figma.com/uploads/0386cedef8498e1adb43cd3d338558dba27e0961"}],middleCardColor:"#F5F0EC"}),l.createElement(_3,{cardSize:_8.FULL,title:(0,k.t)("categories.more_presentations"),subtitle:(0,k.t)("categories.more_presentations.subheader"),url:e.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/c798a639e2b774985f1fcc4677d056b62e9d070d",className:_0,style:{borderRadius:"4px"}},{src:"https://static.figma.com/uploads/550755dd0003cb7431de9233c72a37f7569ecad9",className:_0,style:{borderRadius:"4px"}}]}))}function pn(){let{brainstormingRoute:e,diagrammingRoute:t,funGamesRoute:a,teamMeetingsRoute:r,whiteboardingRoute:n,strategicPlanningRoute:i}=(0,l.useMemo)(()=>({brainstormingRoute:new cZ.IE({categorySlug:cq.LJ.brainstorming}),diagrammingRoute:new cZ.IE({categorySlug:cq.LJ.diagramming}),funGamesRoute:new cZ.IE({categorySlug:cq.LJ.funGames}),teamMeetingsRoute:new cZ.IE({categorySlug:cq.LJ.teamMeetings}),whiteboardingRoute:new cZ.IE({categorySlug:cq.LJ.whiteboarding}),strategicPlanningRoute:new cZ.IE({categorySlug:cq.LJ.strategicPlanning})}),[]);return l.createElement("div",{className:_6},l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.U1R})`},l.createElement(_3,{cardSize:_8.FULL,title:(0,k.t)("categories.brainstorming"),subtitle:(0,k.t)("categories.navbar.brainstorming.subtitle"),url:e.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/60a2ac68e6705460d12ac34906f51091a7873a9c",className:_0},{src:"https://static.figma.com/uploads/8c15440f329bf3dc8940ad1d2267c4a67e592964",className:_0}]})),l.createElement("div",{className:_7},l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.diagramming"),subtitle:(0,k.t)("categories.navbar.diagramming.subtitle"),url:t.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/881b987a3b8af1a1ee08a8316f7688e1bf34376c",className:_1}],backgroundDottedSmall:!0}),l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.fun_games"),subtitle:(0,k.t)("categories.navbar.fun_games.subtitle"),url:a.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/7b72cc0729e30a7918fceeb4b4b3a86b4a900e18",className:_1}],backgroundColor:"#FFE9F2"})),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.U1R})`},l.createElement(_3,{cardSize:_8.FULL,title:(0,k.t)("categories.team_meetings"),subtitle:(0,k.t)("categories.navbar.team_meetings.subtitle"),url:r.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/24ec653794817747706ab7225c4c200e599fc7f8",className:_0},{src:"https://static.figma.com/uploads/fcbfaf7de5395838863bf7d8dd3dc5805bb509d6",className:_0}]})),l.createElement(sd.Ay,{mediaQuery:`(max-width: ${(0,iL.jz)(i4.U1R)-1}px)`},l.createElement("div",{className:_7},l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.brainstorming"),subtitle:(0,k.t)("categories.navbar.brainstorming.subtitle"),url:e.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/8c15440f329bf3dc8940ad1d2267c4a67e592964",className:_1}]}),l.createElement(_3,{cardSize:_8.HALF,title:(0,k.t)("categories.team_meetings"),subtitle:(0,k.t)("categories.navbar.team_meetings.subtitle"),url:r.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/fcbfaf7de5395838863bf7d8dd3dc5805bb509d6",className:_1}]}))),l.createElement(_9,{links:[{route:n,textOverride:(0,k.t)("categories.more_whiteboarding"),isBold:!0},{route:i}]}))}function pi(){return l.createElement("div",{"data-testid":"nav-category-selector",className:"nav_category_selector_2--categorySelector--b-k5b"},l.createElement(po,{text:(0,k.t)("community.homepage.figma_section.header"),slug:"design_template"},l.createElement(pe,null)),l.createElement(po,{text:(0,k.t)("categories.plugins"),slug:"plugins"},l.createElement(pt,null)),l.createElement(po,{text:(0,k.t)("categories.whiteboarding"),slug:"whiteboarding"},l.createElement(pn,null)),l.createElement(po,{text:(0,k.t)("categories.presentations"),slug:"presentations",showNewBadge:!0},l.createElement(pr,null)))}function po({text:e,slug:t,children:a,showNewBadge:r}){let[n,i]=l.useState(!1),o=l.useRef(null);return(0,l.useLayoutEffect)(()=>{if(o.current){let e=o.current.getBoundingClientRect().width,t=`${Math.min(150,(document.documentElement.clientWidth-e)/2)}px`;o.current.style.left=t}}),l.createElement("div",{onMouseEnter:()=>{i(!0)},onMouseMove:()=>{n||i(!0)},onMouseLeave:()=>{i(!1)},role:"button",tabIndex:0,className:S.cx.flex.itemsCenter.$},l.createElement(ez.fu,{name:"Global Nav Category",properties:{slug:t}},l.createElement("div",{className:n?"nav_category_selector_2--navCategorySelectorTextHover--viMyk nav_category_selector_2--navCategorySelectorText--Tkc7a text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_category_selector_2--navCategorySelectorText--Tkc7a text--fontPos13--xW8hS text--_fontBase--QdLsd"},e,r&&l.createElement("div",{className:"nav_category_selector_2--newBadge--3isz- text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.t)("community.badge.new")),l.createElement(j.B,{svg:oS.A,style:{fill:(0,_j.TD)("default")}})),l.createElement("div",{className:B()("nav_category_selector_2--navDropdownWrapper--UbL1U",{"nav_category_selector_2--navDropdownWrapperHover--SJqCp":n}),onClick:e=>{e.stopPropagation(),i(!1)},ref:o},a)))}let pl=(0,n1.eU)(!1);var ps=a(582064);let pc=(0,n1.eU)({}),pd=(0,n1.eU)({idx:-1}),pm=(0,n1.eU)({}),pu=(0,n1.eU)({idx:-1});function p_(e){let t=e===cq.PF.LANDING?pm:pc,a=e===cq.PF.LANDING?pu:pd,[r,n]=(0,ef.fp)(t),[i,o]=(0,ef.fp)(a),s=l.useMemo(()=>["files","plugins","widgets","creators"].reduce((e,t)=>{let a=(r?.[t]??[]).map((e,a)=>({type:t,idx:a})).slice(0,4);return e.concat(a)},[]),[r]),c=l.useMemo(()=>s.findIndex(e=>e.type===i?.type&&e.idx===i?.idx),[s,i]);return{renderedOrder:s,renderedSelectedIdx:c,resources:r,setResources:n,selectedIdx:i,setSelectedIdx:o}}var pp=a(440248),pf=a(159696);function pg({query:e,inSearchPath:t,onChange:a,onSubmit:r,inputPlaceholder:n,context:i,className:o,searchIconClassName:c,closeIconClassName:d}){let m=(0,s.wA)(),u=(0,si.J)(!0),_=(0,l.useRef)(null),{renderedOrder:p,renderedSelectedIdx:f,resources:g,setResources:E,selectedIdx:h,setSelectedIdx:v}=p_(i),y=(0,l.useCallback)(()=>{v({idx:-1})},[v]);return l.createElement("div",{className:o,tabIndex:0,onFocus:()=>{null!==_.current&&_.current.focus(),m(ps.Dy({entryPoint:"community"}))}},l.createElement(j.B,{svg:pp.A,className:c}),l.createElement("input",{type:"text",value:e,spellCheck:!1,placeholder:n??(0,k.t)("community.search.search_community"),ref:_,onChange:e=>{let n=e.currentTarget.value;a(n),t&&n&&r(n)},onBlur:y,onKeyDown:n=>{let i=n.currentTarget.value.trim();if("Enter"===n.key){if(n.preventDefault(),f>=0&&h.type){let t=g[h.type]?.[h.idx],r="model"in t?new sm.xn({profileHandle:t.model.profile_handle}).href:(0,so._t)({resource:t});(0,sg.VJ)(r),_.current?.blur(),a(""),E({}),m(ps.ky()),(0,el.sx)("search_result_clicked",{query:e,resourceType:p[f]?.type,scope:"community",is_preview:!0,index:f,entry_point:"community_via_enter",searchSessionId:u})}else r(i),t&&!i?m(ps.ky()):!t&&i&&m(ps.Je({entryPoint:"community"}))}else if("Escape"===n.key)_.current?.blur();else if(n.keyCode===P.Uz.DOWN_ARROW||n.keyCode===P.Uz.UP_ARROW){n.preventDefault();let e=f===p.length-1?f:f+1,t=f<=0?f:f-1;switch(n.keyCode){case P.Uz.DOWN_ARROW:v(p[e]||{idx:-1});break;case P.Uz.UP_ARROW:v(p[t]||{idx:-1})}}},required:!0}),e&&e.length>0&&l.createElement(j.B,{svg:pf.A,className:d,onClick:()=>{a(""),t&&r(""),m(ps.ky())}}))}var pE=a(792199),ph=a(709495),pv=a(367935),py=a(56714);let pb="search_dropdown--meta--a-aV4",pw="search_dropdown--pluginOrWidgetTilePreview--Rfef1",pT="search_dropdown--section--VJbkB",pI="search_dropdown--sectionTitle--x7FyO",pC="search_dropdown--title--eiIIy",px="search_dropdown--authorRow--Uk00Y",pN="search_dropdown--authorRowText--vsAii",pS="search_dropdown--authorRowAvatar--jFZyx",pk="search_dropdown--resourceRowExtension--v4dY8 search_dropdown--resourceRow--P-Lig",pL="search_dropdown--hover--stEGe";function pA({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){return e&&0!==e.length?l.createElement("div",{className:pT},l.createElement("div",{className:pI},(0,k.tx)("community.view_bar.creators")),l.createElement(pR,{profiles:e.map(e=>e.model),onResourceClick:t,onResourceHover:a,selectedIdx:r})):null}function pR({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){return l.createElement("div",{className:"search_dropdown--resourceRowProfiles--bz2ck"},e.map((e,n)=>l.createElement("div",{onMouseEnter:()=>a(n),key:e.id,className:B()({[pL]:r===n})},l.createElement(pF,{profile:e,onResourceClick:t}))))}function pF({profile:e,onResourceClick:t}){return l.createElement("div",{className:"search_dropdown--profile--HRd2s",key:e.id},l.createElement(se.N_,{to:new sm.xn({profileHandle:e.profile_handle}).to,className:"search_dropdown--resourceRowProfile--HScpw",onClick:()=>{document.activeElement.blur(),t()}},l.createElement(lH.e,{adtlClassName:"search_dropdown--profileRowAvatar--TOSBT",entity:e,size:40}),l.createElement("div",{className:"search_dropdown--profileRowName--oRTAf ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},e.name),l.createElement("div",{className:"search_dropdown--profileRowProfileHandle--DuEYR ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},"@",e.profile_handle)))}function pP({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,s.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null);return e&&0!==e.length?l.createElement("div",{className:pT},l.createElement("div",{className:pI},(0,k.tx)("community.view_bar.widgets")),e.slice(0,4).map((e,i)=>{let o=(0,so.qD)(e);return l.createElement("div",{onMouseEnter:()=>a(i),key:e.id,className:B()({[pL]:r===i})},l.createElement(sg.A6,{to:(0,so._t)({resource:e}),className:pk,onClick:()=>{document.activeElement.blur(),t()}},l.createElement(s_.V,{plugin:o,className:pw,alt:o.name,onError:e=>e.target.src=so.ZD}),l.createElement("div",{className:pb},l.createElement("div",{className:pC},o.name),l.createElement("div",{className:px},e.community_publishers.accepted.map(e=>l.createElement(lH.e,{key:e.id,entity:e,size:16,adtlClassName:pS})),l.createElement("div",{className:pN},(0,c2.Lj)(e)))),(0,st.$3)({resource:e,authedActiveCommunityProfile:n})))})):null}function pO({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,s.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null);return e&&0!==e.length?l.createElement("div",{className:pT},l.createElement("div",{className:pI},(0,k.tx)("community.view_bar.plugins")),e.slice(0,4).map((e,i)=>{let o=(0,so.qD)(e);return l.createElement("div",{onMouseEnter:()=>a(i),key:e.id,className:B()({[pL]:r===i})},l.createElement(sg.A6,{to:(0,so._t)({resource:e}),className:pk,onClick:()=>{document.activeElement.blur(),t()}},l.createElement("img",{src:o.redirect_icon_url,className:pw,alt:o.name,onError:e=>e.target.src=so.ZD}),l.createElement("div",{className:pb},l.createElement("div",{className:pC},o.name),l.createElement("div",{className:px},e.community_publishers.accepted.map(e=>l.createElement(lH.e,{key:e.id,entity:e,size:16,adtlClassName:pS})),l.createElement("div",{className:pN},(0,c2.Lj)(e)))),(0,st.$3)({resource:e,authedActiveCommunityProfile:n})))})):null}function pD({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,s.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null);if(!e||0===e.length)return null;let i=(0,p.kc)().cmty_thumbnail_16x9_ar;return l.createElement("div",{className:pT},l.createElement("div",{className:pI},(0,k.tx)("community.view_bar.files")),e.slice(0,4).map((e,o)=>{let s=(0,so.qD)(e);return l.createElement("div",{onMouseEnter:()=>a(o),key:e.id,className:B()({[pL]:r===o})},l.createElement(sg.A6,{to:(0,so._t)({resource:e}),className:"search_dropdown--resourceRow--P-Lig",onClick:()=>{document.activeElement.blur(),t()}},l.createElement("img",{src:e.thumbnail_url,className:i?"search_dropdown--fileTilePreview16x9---1A4y":"search_dropdown--fileTilePreview--uCbva",alt:s.name,onError:e=>e.target.src=so.ZD}),l.createElement("div",{className:pb},l.createElement("div",{className:pC},s.name),l.createElement("div",{className:px},e.community_publishers.accepted.map(e=>l.createElement(lH.e,{key:e.id,entity:e,size:16,adtlClassName:pS})),l.createElement("div",{className:pN},(0,c2.Lj)(e)))),(0,st.$3)({resource:e,authedActiveCommunityProfile:n})))}))}let pM=function(e,t){let a;return(...t)=>new Promise(r=>{clearTimeout(a),a=setTimeout(()=>{r(e.apply(e,t))},250)})}((e,t)=>t((0,pE.nC)().filter({query:e,sort_by:ph.e.Search.RELEVANCY}).searchResourcesAndProfiles({resourceType:"mixed",limit:12,isPreview:!0,profileLimit:3})),0);function pB(e){let{query:t,context:a,width:r,clearSearchInput:n}=e,{resources:i,setResources:o,selectedIdx:c,setSelectedIdx:d}=p_(a),m=(0,s.wA)(),u=(0,si.J)(!0),_=l.useCallback(()=>{m(ps.Pj({})),(0,el.sx)("search_show_all_clicked",{query:t,scope:"community",entry_point:"community",searchSessionId:u})},[m,t,u]);l.useEffect(()=>{t&&pM(t,m).then(([e,r])=>{let n=e.data.meta.results.map(e=>e.model),i=n.filter(e=>(0,pv.zj)(e)),l=n.filter(e=>(0,pv.bT)(e)).map(py.I$),s=n.filter(e=>(0,pv.AS)(e)).map(py.I$);o({files:i,plugins:l,widgets:s,creators:r.data.meta.results.slice(0,3)}),d({idx:-1});let c=a===cq.PF.LANDING?"searchPreviewLanding":"searchPreview",m=l.filter(e=>void 0!==e.roles&&e.roles.is_public).length,_=s.filter(e=>void 0!==e.roles&&e.roles.is_public).length;(0,el.sx)("search_query_result",{query:t,responseCounts:n.length,scope:"community",entry_point:"community",context:c,searchSessionId:u,files:i.length,private_plugins:l.length-m,private_widgets:s.length-_,public_plugins:m,public_widgets:_,projects:0,teams:0,users:r.data.meta.results.length})}).catch(()=>{})},[t,m,u,a,o,d]);let p=l.useCallback(e=>{(0,el.sx)("search_result_clicked",{query:t,resourceType:e,scope:"community",is_preview:!0,entry_point:"community",searchSessionId:u}),n(),o({}),m(ps.ky())},[t,m,u,o,n]),f=l.useCallback((e,t)=>{i[t]&&!((i[t]??[]).length<e)&&d({idx:e,type:t})},[i,d]);if(!t)return null;let g=i.files?.length||i.widgets?.length||i.plugins?.length||i.creators?.length,E=(0,ie.Mc)({...ie.qd,query:t});return l.createElement("div",{className:B()("search_dropdown--searchDropdown--HqMrn",{"search_dropdown--searchDropdownLanding--HJ002":a===cq.PF.LANDING,"search_dropdown--categoryNavDropdownResponsiveWidth--HzoIl":"small-responsive"===r}),style:"small-responsive"!==r?{width:`${r}px`}:void 0},l.createElement(pD,{resources:i.files,onResourceClick:()=>p("files"),onResourceHover:e=>f(e,"files"),selectedIdx:c?.type==="files"?c?.idx:null}),l.createElement(pO,{resources:i.plugins,onResourceClick:()=>p("plugins"),onResourceHover:e=>f(e,"plugins"),selectedIdx:c?.type==="plugins"?c?.idx:null}),l.createElement(pP,{resources:i.widgets,onResourceClick:()=>p("widgets"),onResourceHover:e=>f(e,"widgets"),selectedIdx:c?.type==="widgets"?c?.idx:null}),l.createElement(pA,{profiles:i.creators,onResourceClick:()=>p("profiles"),onResourceHover:e=>f(e,"creators"),selectedIdx:c?.type==="creators"?c?.idx:null}),g?l.createElement("div",{className:"search_dropdown--searchAllLink--VCaxM text--fontPos12--YsUAh text--_fontBase--QdLsd"},l.createElement(sg.A6,{to:E,onClick:_},(0,k.tx)("community.search.show_all_search_results"))):null)}var pU=a(639685);function pV({query:e,inSearchPath:t,onChange:a,onSubmit:r,inputPlaceholder:n}){let i=l.useRef(null),o=(0,s.wA)(),[c,d]=l.useState(!1);return l.createElement("div",{className:"search_input_mobile--mobileSearchContainer--VsAJK text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("button",{className:"search_input_mobile--searchIconButton--jvchC",onClick:()=>{c?o(ps.ky()):(i.current?.focus(),o(ps.Dy({entryPoint:"community"}))),d(!c)}},l.createElement(j.B,{className:"search_input_mobile--searchIcon--ExTte",svg:pU.A})),l.createElement("div",{className:"search_input_mobile--searchInput--bt9OT"},l.createElement("input",{type:"text",value:e,spellCheck:!1,ref:i,placeholder:n??(0,k.t)("community.search.search_community"),onChange:e=>{let n=e.currentTarget.value;a(n),t&&n&&r(n)},onKeyDown:e=>{let a=e.currentTarget.value.trim();"Enter"===e.key?(e.preventDefault(),r(a),i.current?.blur(),t&&!a?o(ps.ky()):!t&&a&&o(ps.Je({entryPoint:"community"}))):"Escape"===e.key&&i.current?.blur()},required:!0}),l.createElement("button",{className:"search_input_mobile--clearInputButton--cjPyc",onClick:e=>{a(""),e.preventDefault()}},"\xd7")))}function pH({onSubmit:e,pathname:t,isMobile:a}){let r=(0,ie.zX)(t)===ie.hX.SEARCH,[n,i]=l.useState(""),o=(0,ef.md)(pl);l.useEffect(()=>{let e=(0,ie.wl)();e&&(0,cq.OE)(e)&&e.query&&i(e.query)},[]);let s=(0,li.A)(e,a?600:400),c=l.useCallback(()=>{i("")},[]);if(!function(e,t){let a=(0,_.ZC)(e);l.useEffect(()=>{e!==ie.hX.SEARCH&&a!==e&&t()},[e,t,a])}(t,c),o&&!n)return null;if(a)return l.createElement(pV,{onChange:i,onSubmit:s,query:n,inSearchPath:r,inputPlaceholder:(0,k.t)("community.search.placeholder")});{let e=n&&!r&&window.innerWidth>800?l.createElement(pB,{query:n,clearSearchInput:c,context:cq.PF.NAV,width:(0,iL.jz)(i4.h63)}):null;return l.createElement(sf.ms,{preview:e,className:"dropdown_search_input--dropdown--fBh7I dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",disableRepositioning:!0},l.createElement(pg,{onChange:i,onSubmit:s,query:n,inSearchPath:r,inputPlaceholder:(0,k.t)("community.search.placeholder"),context:cq.PF.NAV,className:"dropdown_search_input--searchInput--ALtDK text--fontPos13--xW8hS text--_fontBase--QdLsd",searchIconClassName:"dropdown_search_input--searchIcon--edfC0",closeIconClassName:"dropdown_search_input--closeIcon--Zfoh0"}))}}function pW(){let e=(0,ie.UH)(),t=!!(e&&(0,cq.OE)(e));return{onSubmit:a=>{a.length?m.Ay.push(function({query:e,view:t,inSearchPath:a}){let r={...ie.qd,editor_type:t?.editor_type||ie.qd.editor_type,resourceType:t?.resourceType||ie.qd.resourceType,price:t?.price||ie.qd.price,query:e};return a&&(r.sort_by=t?.sort_by||ie.qd.sort_by),(0,ie.Mc)(r)}({query:a,view:e,inSearchPath:t})):t&&m.Ay.push("/community")},inSearchPath:t}}function pj(e){let{pathname:t}=(0,lJ.zy)(),{onSubmit:a}=pW(),r=e.isMobile??E.Ay.mobile;return l.createElement(pH,{isMobile:r,onSubmit:a,pathname:t})}var p$=a(164377);function pG({parentBackgroundColor:e}){let t=l.useRef(window.history.length-1),[a,r]=l.useState(t.current);return l.useEffect(()=>m.Ay.listen(e=>{"PUSH"===e&&r(e=>e+1)}),[]),l.createElement(p$.f,{onLeftClick:()=>{m.Ay.back(),r(e=>e-1)},onRightClick:()=>{m.Ay.forward(),r(e=>e+1)},isLeftEnabled:a>t.current,isRightEnabled:a<window.history.length-1,parentBackgroundColor:e})}var pY=a(63397),pz=a(950142);function pQ(){let e=(0,s.wA)(),t=(0,iy.kc)();return t?.primary_user_id?l.createElement(l.Fragment,null):l.createElement("div",{className:"admin_profile_banner--root--HDfDA"},l.createElement("span",{className:"admin_profile_banner--text--cpDIW text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},t?.org_id?(0,k.tx)("community.banner.browsing_community_as_the_current_profile_name_organization",{profileName:t?.name}):(0,k.tx)("community.banner.browsing_community_as_the_current_profile_name_team",{profileName:t?.name})),l.createElement("div",{className:"admin_profile_banner--closeIconContainer--bm5wf",onClick:()=>{e((0,pY.rO)())}},l.createElement(j.B,{svg:pz.A,className:"admin_profile_banner--close--ib2wO"})))}var pK=a(679282);function pq(){return l.createElement("div",{className:S.cx.flex.flexShrink0.alignCenter.alignCenter.gap16.$},l.createElement(ez.$z,{className:"auth_buttons--logInButton--ln482 shared--_button--qcVz- text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{trackingDescriptor:eg.c.LOGGED_OUT_NAV_LOGIN},onClick:()=>(0,dA.FL)(dL.qB.SIGN_IN,{preventDefaultRedirect:!0}),type:"button"},(0,k.t)("community.signed_out_modal.log_in")),l.createElement(ez.$z,{className:"auth_buttons--signUpButton--lM9GB shared--_button--qcVz- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>(0,dA.FL)(dL.qB.SIGN_UP,{preventDefaultRedirect:!0}),trackingProperties:{trackingDescriptor:eg.c.LOGGED_OUT_NAV_SIGN_UP},type:"button"},(0,k.t)("community.signed_out_modal.sign_up")))}function pZ(){return l.createElement("svg",{className:"svg",width:"38",height:"57",viewBox:"0 0 38 57",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#1abcfe",stroke:"none"}),l.createElement("path",{d:"M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#0acf83",stroke:"none"}),l.createElement("path",{d:"M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z",fillRule:"nonzero",fillOpacity:"1",fill:"#ff7262",stroke:"none"}),l.createElement("path",{d:"M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#f24e1e",stroke:"none"}),l.createElement("path",{d:"M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#a259ff",stroke:"none"}))}function pX({showCommunityText:e}){return l.createElement("div",{className:B()("homepage_link--homepageLinkContainer---EZRJ",{"homepage_link--rightBorder--hQMW-":!e})},l.createElement(ez.o3,{trackingEventName:"community_nav_click_communitiy_heading",to:"/community",className:S.cx.font14.fontSemiBold.lh24.flex.flexNowrap.$},l.createElement("div",{className:"homepage_link--logoLinkWrapper---5vec"},l.createElement(pZ,null)),e&&(0,k.t)("community.community")))}let pJ=a(754915).i,p0=a(765612).Xg;function p1({}){let e=(0,m_.M)(),t=!!d.eD||(0,c.ce)(),a=(0,c$.N)(`(max-width: ${i4._C6})`),r=(0,ef.md)(dA.U8).mounted,n=(0,iL.jz)(i4.qvA)+(t?(0,iL.jz)(i4.ngI):0),i=(0,c$.N)(`(max-width: ${n}px)`),o=(0,c$.N)(`(max-width: ${i4.g8m})`),u=l.useRef(null),_=(0,cq.OE)((0,ie.wl)(location.pathname)),p=!1,f=l.useCallback(e=>{},[]),g=null;return _=(0,s.d4)(e=>e?.selectedView?.view==="search"),p=(0,s.d4)(e=>e.communityHub.showingCommunityAdminBanner),f=(0,ef.fp)(_D.A)[1],g=(0,iy.kc)(),l.useLayoutEffect(()=>{f(u.current?.getBoundingClientRect())},[f]),l.createElement(l.Fragment,null,l.createElement("div",{className:"navbar--navbarContainer--4keOh",id:"cmty-consolidated-navbar","data-redesigned-navbar":!0},r&&l.createElement(pK.PQ,{origin:_O.DT.COMMUNITY,iFrameHandler:e=>{(0,dA.I9)({name:dL.mK,options:{redirectUrl:m.Ay.location.pathname+m.Ay.location.search}}),(0,dA.I9)({name:_O.aL,userInfo:e,redirectUrl:m.Ay.location.pathname,origin:_O.DT.COMMUNITY})}}),l.createElement("div",{className:"navbar--leftNav--ndjh7"},e&&l.createElement("div",{className:"navbar--accountAndNotificationsContainer--P-BiH"},l.createElement(p0,{hideNotifications:a})),t&&l.createElement("div",{className:"navbar--navigationChevronsContainer--RLmsc"},l.createElement(pG,null)),l.createElement(pX,{showCommunityText:!1}),o?l.createElement(_q,{showNewIcon:!0}):l.createElement("div",{className:"navbar--navCategoriesContainer--PN1Ov"},l.createElement(pi,null))),l.createElement("div",{className:"navbar--rightNav--Shg9M"},l.createElement("div",{className:"navbar--searchInputContainer--wsxXk"},l.createElement(pj,{isMobile:i})),e?l.createElement(l.Fragment,null,g&&!a&&l.createElement(pJ,null)):l.createElement(pq,null))),p&&!_&&l.createElement(pQ,null))}var p2=a(566083),p4=a(580857),p8=a(971120);let p3="feed_controls--feedFilterDropdown--0rv-X dropdown--selectDropdown--Lqj6J dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd";function p5({onUpdate:e,value:t,isSearch:a}){return l.createElement(sf.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__creators"),onUpdate:([t])=>{e(t)},options:[function(e){let t=!e&&(0,m_.M)();return[{key:p4.Z.ALL,label:(0,k.t)("community.view_bar.all_creators")},t?{key:p4.Z.FOLLOWING,label:(0,k.t)("community.view_bar.following")}:null,{key:p4.Z.FIGMA_PARTNER,label:(0,k.t)("community.view_bar.figma_partners_only")}].filter(Boolean)}(!!a)],initialValues:[t],adtlClassName:p3})}var p9=a(251960);function p6({onUpdate:e,editorType:t,resourceType:a,allowedEditorTypes:r}){let n,i,o,s,c;return r&&1===r.length?null:l.createElement(sf.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__editor"),onUpdate:([t])=>{e(t)},initialValues:[t],adtlClassName:p3,dataOnboardingKey:"community_feed_product_filter",onClick:()=>{(0,el.sx)("editor_type_filter_clicked")},options:[(n=!0,i=!0,o=a===p8.L.BrowseResourceTypes.MIXED||a===p8.L.BrowseResourceTypes.FILES,s=!1,c=!1,(0,sl.Oh)()?r&&r.length>0&&(n=r.includes(pa.k.Editors.FIGMA),i=r.includes(pa.k.Editors.FIGJAM),o=r.includes(pa.k.Editors.SLIDES)&&o):(s=a===p8.L.BrowseResourceTypes.MIXED||a===p8.L.BrowseResourceTypes.PLUGINS,c=a===p8.L.BrowseResourceTypes.FILES),[{key:pa.k.Editors.ALL,label:(0,k.t)("community.landing_page.sort.all_products")},n?{key:pa.k.Editors.FIGMA,label:(0,k.t)("general.figma_design")}:null,s?{key:pa.k.Editors.DEV_MODE,label:(0,k.t)("community.view_bar.dev_mode")}:null,c?{key:pa.k.Editors.PROTOTYPE,label:(0,k.t)("community.view_bar.figma_prototype")}:null,i?{key:pa.k.Editors.FIGJAM,label:(0,k.t)("community.view_bar.fig_jam")}:null,o?{key:pa.k.Editors.SLIDES,label:(0,k.t)("community.view_bar.slides")}:null].filter(Boolean))]})}function p7({onUpdate:e,value:t}){return l.createElement(sf.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__paid"),onUpdate:([t])=>{e(t)},adtlClassName:p3,initialValues:[t],options:[[{key:p2.C.ALL,label:(0,k.t)("community.landing_page.sort.paid_and_free")},{key:p2.C.PAID,label:(0,k.t)("community.landing_page.sort.paid")},{key:p2.C.FREE,label:(0,k.t)("community.landing_page.sort.free")}]]})}function fe({onUpdate:e,resourceType:t,isSearch:a,editorType:r}){return l.createElement(sf.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__resource_type"),onUpdate:([t])=>{e(t)},initialValues:[t],adtlClassName:p3,options:[function(e,t){if(!e&&t===pa.k.Editors.DEV_MODE)return[{key:p8.L.BrowseResourceTypes.PLUGINS,label:(0,k.t)("community.view_bar.plugins")}];if(!e&&t===pa.k.Editors.PROTOTYPE||!e&&t===pa.k.Editors.SLIDES)return[{key:p8.L.BrowseResourceTypes.FILES,label:(0,k.t)("community.view_bar.files")}];let a=[{key:p8.L.BrowseResourceTypes.MIXED,label:(0,k.t)("community.view_bar.all_resources")},{key:p8.L.BrowseResourceTypes.FILES,label:(0,k.t)("community.view_bar.files")},{key:p8.L.BrowseResourceTypes.PLUGINS,label:(0,k.t)("community.view_bar.plugins")},{key:p8.L.BrowseResourceTypes.WIDGETS,label:(0,k.t)("community.view_bar.widgets")}];return e&&a.push({key:"profiles",label:(0,k.t)("community.view_bar.creators")}),a}(a,r)]})}function ft({onUpdate:e,value:t,isSearch:a,price:r}){return l.createElement(sf.A5,{name:(0,k.t)("community.curated_page.sort"),onUpdate:([t])=>e(t),initialValues:[t],options:[function(e,t){let a=[{key:ph.e.Shared.POPULAR,label:(0,k.t)("community.landing_page.sort.trending")},{key:ph.e.Shared.ALL_TIME,label:(0,k.t)("community.curated_page.popular")},{key:ph.e.Shared.PUBLISHED_AT,label:(0,k.t)("community.landing_page.sort.recent")}];return e&&(a.unshift({key:ph.e.Search.RELEVANCY,label:(0,k.t)("community.landing_page.sort.relevancy")}),t!==p2.C.FREE&&a.push({key:ph.e.Search.PRICE_DESC,label:(0,k.t)("community.landing_page.sort.price_high_to_low")},{key:ph.e.Search.PRICE_ASC,label:(0,k.t)("community.landing_page.sort.price_low_to_high")})),a}(a,r)]})}function fa({filterState:e,onUpdate:t,containerRef:a,context:r,allowedEditorTypes:n}){let{resourceType:i,editorType:o=pa.k.Editors.ALL,price:s,sortBy:c,creators:d=p4.Z.ALL}=e,m=(0,c$.N)(`(max-width: ${i4._C6})`);return l.createElement("div",{className:"feed_controls--feedFilterControls--eiYSY","data-resource-type":i,ref:a,"data-feed-filter-context":r},l.createElement("div",{className:"feed_controls--leftSideControls--Xr-DO"},"category"===r&&l.createElement("div",{className:S.cx.flex.itemsCenter.font13.fontMedium.$},(0,k.tx)("categories.filter_by")),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.glm})`},"profiles"!==i&&l.createElement(p6,{onUpdate:e=>{let a=[{key:"editorType",value:e}];(0,sl.Oh)()||"search"===r||(e===pa.k.Editors.DEV_MODE?a.push({key:"resourceType",value:p8.L.BrowseResourceTypes.PLUGINS}):(e===pa.k.Editors.SLIDES||e===pa.k.Editors.PROTOTYPE)&&a.push({key:"resourceType",value:p8.L.BrowseResourceTypes.FILES})),"search"!==r&&e===pa.k.Editors.SLIDES&&a.push({key:"resourceType",value:p8.L.BrowseResourceTypes.FILES}),t(a),(0,el.sx)("editor_type_filter_changed",{editor_type:e,from:o})},editorType:o,resourceType:i,allowedEditorTypes:(0,sl.Oh)()?n:void 0})),("explore"===r||"redesigned-homepage"===r||"category"===r||m)&&(o!==pa.k.Editors.SLIDES?l.createElement(fe,{onUpdate:e=>{let a=[{key:"resourceType",value:e}];o===pa.k.Editors.PROTOTYPE&&e!==p8.L.BrowseResourceTypes.FILES&&a.push({key:"editorType",value:pa.k.Editors.ALL}),t(a),(0,el.sx)("resource_type_filter_changed",{resource_type:e,from:i})},resourceType:i,isSearch:"search"===r,editorType:o}):o===pa.k.Editors.SLIDES&&i!==p8.L.BrowseResourceTypes.FILES?(t([{key:"resourceType",value:p8.L.BrowseResourceTypes.FILES}]),null):void 0),l.createElement(p7,{onUpdate:e=>{let a=[{key:"price",value:e}];e===p2.C.FREE&&(c===ph.e.Search.PRICE_ASC||c===ph.e.Search.PRICE_DESC)&&a.push({key:"sortBy",value:ph.e.Shared.POPULAR}),t(a),(0,el.sx)("price_filter_changed",{price:e,from:s})},value:s}),"category"!==r&&l.createElement(sd.Ay,{mediaQuery:`(min-width: ${i4.ltq})`},l.createElement(p5,{onUpdate:e=>{t([{key:"creators",value:e}]),(0,el.sx)("creators_filter_changed",{creators:e,from:d})},value:d,isSearch:"search"===r}))),"category"!==r&&"profiles"!==i&&l.createElement(ft,{onUpdate:e=>{t([{key:"sortBy",value:e}]),(0,el.sx)("ranking_type_filter_changed",{ranking_type:e})},value:c,isSearch:"search"===r,price:s}))}a(218997),a(15839);var fr=a(976999);function fn(){return l.createElement("div",{className:"resource_loading_row--loadingRow--o1YwH","data-testid":"resource-loading-row"},l.createElement(fr.Qp,{className:"resource_loading_row--loadingRowImage--KGDsz",animationType:fr.JR.NO_SHIMMER}),l.createElement("div",{className:"resource_loading_row--loadingRowMeta--T19Be"},l.createElement(fr.Wi,{className:"resource_loading_row--loadingTitleText--qN-3G",animationType:fr.JR.NO_SHIMMER}),l.createElement(fr.Wi,{className:"resource_loading_row--loadingSubTitleText--26zTk",animationType:fr.JR.NO_SHIMMER})))}function fi({plugins:e,onIntersectionChange:t,isOrgTeamBrowsing:a,isLoading:r,loadingRowCount:n=10}){return l.createElement("div",{className:S.cx.wFull.$,"data-testid":"plugin-list"},r?(0,lF.y1)(n).map(e=>l.createElement(fn,{key:e})):e.map((e,r)=>l.createElement(cs,{key:`plugin-row-${e.id}`,resource:e,onIntersectionChange:a=>t(e,a.isIntersecting),isOrgTeamBrowsing:a,index:r})))}function fo(){return l.createElement("div",{className:S.cx.flex.flexColumn.gap12.$,"data-testid":"resource-loading-tile"},l.createElement("div",{className:"resource_loading_tile--loadingImageWrapper--J9BDB"},l.createElement(fr.Qp,{className:"resource_loading_tile--loadingImage--yFmKa",animationType:fr.JR.NO_SHIMMER})),l.createElement("div",{className:S.cx.flex.flexColumn.gap4.$},l.createElement(fr.Wi,{className:"resource_loading_tile--loadingTitleText--osfVq",animationType:fr.JR.NO_SHIMMER}),l.createElement(fr.Wi,{className:"resource_loading_tile--loadingSubTitleText--B4vzW",animationType:fr.JR.NO_SHIMMER})))}var fl=a(999021);function fs({resource:e}){let t=null,a=(0,sI.Vm)(e);return[d4.vt.DESIGN_TEMPLATE,d4.vt.FIGJAM_TEMPLATE,d4.vt.PROTOTYPE,d4.vt.SLIDE_TEMPLATE,d4.vt.UI_KIT].includes(a)?e.thumbnail_url?t=l.createElement(fl.c,{srcSet:"",src:e.thumbnail_url,image_type:"COMMUNITY_RESOURCE_THUMBNAIL",alt:e.name,imageProps:{loading:"lazy",className:"resource_tile--thumbnailImage--RJCYv"}}):(0,sw.$D)(np.FigmaTeam.COMMUNITY,Error("ResourceTileImage: resource has no thumbnail_url")):[d4.vt.PLUGIN,d4.vt.WIDGET].includes(a)&&(e.icon_url?t=l.createElement("div",{className:"resource_tile--iconWrapper--K9Ds6"},l.createElement(sT.oW,{className:B()({"resource_tile--pluginIcon--jtOsZ":a===d4.vt.PLUGIN,"resource_tile--widgetIcon--G6Tsn":a===d4.vt.WIDGET}),alt:e.name,src:e.icon_url,loading:"lazy"}),a===d4.vt.PLUGIN&&l.createElement("div",{className:"resource_tile--pluginTaglineOrDescription--kfqm7 text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,sc.G8)(e))):(0,sw.$D)(np.FigmaTeam.COMMUNITY,Error("ResourceTileImage: resource has no icon_url"))),l.createElement("div",{className:"resource_tile--resourceTileImageContainer--s9lq8"},t)}function fc({resource:e,onIntersectionChange:t,isMetaHidden:a,index:r}){let n=(0,si.J)();return l.createElement("div",{className:"resource_tile--resourceTile--SiKPd","data-testid":"community-resource-tile"},l.createElement(cc.a,{callback:e=>{e[0]&&t(e[0])}}),l.createElement(sg.A6,{to:`/community/resources/${e.id}`,onClick:()=>{(0,sc.cB)(e.resource_type,e.id,r,n)},className:"resource_tile--resourceTileLink--6Aeyd"},l.createElement(fs,{resource:e}),!a&&l.createElement(cm.Mr,{resource:e})),!a&&l.createElement(sb.my,{resource:e}))}let fd="resource_tile_group--resourceTileGroup--gpDUh",fm="resource_tile_group--resourceTileGroupCarousel--Cy8Oc",fu="resource_tile_group--carouselCardWrapper--xwpG5";function f_({showCarousel:e,loadingTileCount:t}){return l.createElement(l.Fragment,null,(0,lF.y1)(t).map(t=>l.createElement("div",{key:t,className:B()({[fu]:e},S.cx.p1.$)},l.createElement(fo,{key:t}))))}function fp({resources:e,showCarousel:t,onIntersectionChange:a}){return l.createElement(l.Fragment,null,e.map((e,r)=>l.createElement("div",{key:e.id,className:B()({[fu]:t},S.cx.p1.$)},(0,sI.ws)(e)?l.createElement(fc,{resource:e,index:r,onIntersectionChange:t=>a(e,t.isIntersecting),subView:"communityHomepage"}):l.createElement(cm.fz,{resource:e,index:r,onIntersectionChange:t=>a(e,t.isIntersecting),subView:"communityHomepage"}))))}function ff({resources:e,maxGridDim:t,mobileMaxGridDim:a={rows:1},onIntersectionChange:r,mobileBreakpoint:n=i4.ikM,xScrollLocked:i=!0,isLoading:o,loadingTileCount:s=6}){let c=(0,c$.N)(`(max-width: ${n})`),{rows:d,cols:m}=c&&a?a:t,u=o?s:e.length;if(!u)return null;m&&!d?d=Math.floor(u/m):d&&!m&&(m=Math.floor(u/d));let _=(m=m||1)*(d=d||1);u<_&&(d=Math.ceil(u/m),_=m*d);let p=e.slice(0,_),f=!!(c&&m&&m>1);if(i)return l.createElement("div",{className:B()(fd,{[fm]:f}),style:{gridTemplateColumns:`repeat(${m}, 1fr)`,gridTemplateRows:`repeat(${d}, 1fr)`},"data-testid":"resource-tile-group"},o?l.createElement(f_,{showCarousel:f,loadingTileCount:_}):l.createElement(fp,{resources:p,showCarousel:f,onIntersectionChange:r}));let g=p.reduce((e,t,a)=>{Math.floor(a/m)>e.length-1&&e.push([]);let r=e[e.length-1];return r&&r.push(t),e},[]);return l.createElement("div",{className:"resource_tile_group--nestedResourceTileGroup--PFO-3"},g.slice(0,d).map((e,t)=>l.createElement("div",{key:t,className:B()(fd,{[fm]:f}),style:{gridTemplateColumns:`repeat(${m}, 1fr)`,gridTemplateRows:"1"},"data-testid":"resource-tile-group"},o?l.createElement(f_,{showCarousel:f,loadingTileCount:m}):l.createElement(fp,{resources:e,showCarousel:f,onIntersectionChange:r}))))}var fg=a(897088);function fE({editorType:e,resourceType:t,price:a,sortBy:r,limit:n,creators:i,category:o,tags:s},c=!0){let[d,m]=l.useState([]),[u,_]=l.useState(!1),[p,f]=l.useState(null),[g,E]=l.useState(),h=l.useRef((0,pE.nC)()),v=(0,l.useCallback)(async()=>{if(g?.next_page){_(!0),f(null);try{let e=await (0,td.GD)(g.next_page);m(t=>[...t,...e.data.meta.resources]),E(e.data.pagination)}catch(e){console.error("Error fetching popular resources",e),f(e)}finally{_(!1)}}},[g]);return l.useEffect(()=>{let l=async()=>{_(!0),f(null);try{var l;let c=await h.current.filter({editor_type:(l={editorType:e,resourceType:t,price:a,sortBy:r,limit:n,creators:i,category:o,tags:s}).editorType,price:l.price,creators:l.creators,sort_by:l.sortBy,category:l.category,tags:l.tags}).browse(t,n??fg.b);m(c.data.meta.resources),E(c.data.pagination)}catch(e){console.error("Error fetching popular resources",e),f(e)}finally{_(!1)}};c&&l()},[t,e,a,r,n,i,o,c,s]),{resources:d,loading:u,error:p,loadMore:v,canLoadMore:h.current.isMoreToFetch(g)&&d.length>0}}var fh=a(357142);let fv="all_resources--allResources--vIYK6",fy=()=>({sortBy:(0,ph.H)(),editorType:pa.k.Editors.ALL,price:p2.C.ALL,resourceType:p8.L.BrowseResourceTypes.MIXED});function fb(e){let{sortBy:t,editorType:a,price:r,resourceType:n}=e,i=[],o=!1;return n===p8.L.BrowseResourceTypes.FILES?i=[d4.vt.DESIGN_TEMPLATE,d4.vt.FIGJAM_TEMPLATE,d4.vt.SLIDE_TEMPLATE,d4.vt.UI_KIT]:n===p8.L.BrowseResourceTypes.PLUGINS?(i=[d4.vt.PLUGIN],o=!0):n===p8.L.BrowseResourceTypes.WIDGETS&&(i=[d4.vt.WIDGET]),{sortBy:t,editorType:a,price:r,resourceType:i,caller:fh.z.HOMEPAGE,includeContent:o}}function fw({onIntersectionChange:e}){let t=(0,c$.N)(`(max-width: ${i4.ikM})`),a=(0,c$.N)(`(max-width: ${i4.g8m})`),[r,n]=(0,l.useState)(!0),[i,o]=(0,l.useState)(fy()),[c,d]=(0,l.useState)([]);(0,l.useEffect)(()=>{t&&o(fy())},[t]);let[{data:m,status:u,hasNextPage:_},{fetchNextPage:p}]=(0,f.IT)(fh.a.ResourcesPaginatedQuery(fb(i)));(0,l.useEffect)(()=>{"loaded"===u&&d(m)},[m,u]);let g=(0,l.useRef)(null),E=(0,s.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id));(0,l.useEffect)(()=>{r&&"loaded"===u&&n(!1)},[r,u]);let h=i.resourceType===p8.L.BrowseResourceTypes.PLUGINS&&(c??[]).every(e=>e.resource_type===d4.vt.PLUGIN),v=[];return h&&(v=(c??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e)),l.createElement("div",{className:fv},!t&&l.createElement(fa,{containerRef:g,filterState:i,onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[e]=a}),o(e=>({...e,...t}))},context:"redesigned-homepage"}),h?l.createElement(fi,{plugins:v,onIntersectionChange:e,isOrgTeamBrowsing:E,isLoading:r}):l.createElement(ff,{resources:c??[],maxGridDim:a?{cols:2}:{cols:3},mobileMaxGridDim:{cols:1},onIntersectionChange:e,isLoading:r}),_&&c.length>0&&!t&&l.createElement(c8,{onClick:e=>{e.preventDefault(),p()},isLoading:"loading"===u,isMoreToFetch:!0}))}function fT({onIntersectionChange:e}){let t=(0,c$.N)(`(max-width: ${i4.ikM})`),a=(0,c$.N)(`(max-width: ${i4.g8m})`),[r,n]=(0,l.useState)(!0),[i,o]=(0,l.useState)(fy());(0,l.useEffect)(()=>{t&&o(fy())},[t]);let{resources:c,loadMore:d,canLoadMore:m,loading:u}=fE(i),_=(0,l.useRef)(null),p=(0,s.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id));(0,l.useEffect)(()=>{r&&!u&&n(!1)},[r,u]);let f=i.resourceType===p8.L.BrowseResourceTypes.PLUGINS&&c.every(e=>"is_widget"in e&&!e.is_widget);return l.createElement("div",{className:fv},!t&&l.createElement(fa,{containerRef:_,filterState:i,onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[e]=a}),o(e=>({...e,...t}))},context:"redesigned-homepage"}),f?l.createElement(fi,{plugins:c,onIntersectionChange:e,isOrgTeamBrowsing:p,isLoading:r}):l.createElement(ff,{resources:c,maxGridDim:a?{cols:2}:{cols:3},mobileMaxGridDim:{cols:1},onIntersectionChange:e,isLoading:r}),m&&!t&&l.createElement(c8,{onClick:e=>{e.preventDefault(),d()},isLoading:u,isMoreToFetch:m}))}var fI=a(134288),fC=a(646240);function fx({isRedesignedHomepage:e}){let t=(0,c$.N)(`(max-width: ${i4.Ero})`),a=(0,c$.N)(`(max-width: ${i4.ikM})`),{onSubmit:r,inSearchPath:n}=pW(),[i,o]=l.useState(""),s=(0,li.A)(r,400),c=l.useCallback(()=>{o("")},[]),d=!i||n||(e?a:t)?null:l.createElement("div",{className:e?"homepage_dropdown_search_input--redesignedHomepageDropdownContentsPositionWrapper--qJcZD":void 0},l.createElement(pB,{query:i,clearSearchInput:c,context:cq.PF.LANDING,width:(0,iL.jz)(i4.eZi)}));return l.createElement("div",{className:e?"homepage_dropdown_search_input--redesignedHomepageSearchContainer--x42a- text--fontPos13--xW8hS text--_fontBase--QdLsd":"homepage_dropdown_search_input--homepageDropdownSearchContainer--OEViU"},l.createElement(sf.ms,{preview:d,className:e?"homepage_dropdown_search_input--redesignedHomepageDropdown--AsdzI dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd":"homepage_dropdown_search_input--dropdown--qY5GH dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",disableRepositioning:!0},l.createElement(pg,{onChange:o,onSubmit:s,query:i,inSearchPath:n,inputPlaceholder:e?(0,k.t)("community.search.placeholder.search_for_a_resource"):(0,k.t)("community.search.search_everything_in_community"),context:cq.PF.LANDING,className:e?"homepage_dropdown_search_input--redesignedSearchInput--CoAYJ text--fontPos11--2LvXf text--_fontBase--QdLsd":"homepage_dropdown_search_input--searchInput--8x2Cp text--fontPos13--xW8hS text--_fontBase--QdLsd",searchIconClassName:e?"homepage_dropdown_search_input--redesignedHomepageSearchIcon--RcD8I":"homepage_dropdown_search_input--searchIcon--55Xdx",closeIconClassName:e?"homepage_dropdown_search_input--redesignedHomepageCloseIcon--8bE70":"homepage_dropdown_search_input--closeIcon--iurnp"})))}let fN="hero--pluginImg--OXkw4",fS="hero--header--PlMZA text--fontPos24--YppUD text--_fontBase--QdLsd",fk="hero--themedIcon--EfFFN";var fL=a(165690),fA=a(505045),fR=a(288495),fF=a(360957),fP=a(945111),fO=a(261595),fD=a(353917),fM=a(763939),fB=a(962888),fU=a(746510),fV=a(181865),fH=a(156564),fW=a(18412),fj=a(69969),f$=a(793445);let fG={colorIllustration:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-431.2,y:48,rotate:0},hover:{opacity:1,scale:1.15,x:-448.8,y:48,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{className:"hero--colorIllustrations--SS5zw",svg:fF.A})},colorsIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-374,y:-8,rotate:0},hover:{opacity:1,scale:1.15,x:-391.6,y:-8,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{className:fk,svg:fP.A,style:{fill:(0,_j.TD)("default")}})},variableIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-440,y:-16,rotate:0},hover:{opacity:1,scale:1.15,x:-457.6,y:-16,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{className:fk,svg:f$.A,style:{fill:(0,_j.TD)("default")}})},designLibraryIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:169.4,y:-16,rotate:0},hover:{opacity:1,scale:1.15,x:187,y:-16,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{className:fk,svg:fU.A,style:{fill:(0,_j.TD)("default")}})},typeIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:105.6,y:-8,rotate:0},hover:{opacity:1,scale:1.15,x:123.2,y:-8,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{className:fk,svg:fj.A,style:{fill:(0,_j.TD)("default")}})},componentIllustration:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:123.2,y:48,rotate:0},hover:{opacity:1,scale:1.15,x:140.8,y:48,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fO.A,useOriginalSrcFills_DEPRECATED:!0,className:"hero--colorSwatches--Vz0OG"})}},fY={pluginIconTopLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-96.8,y:-24,rotate:16},hover:{opacity:1,scale:1.1,x:-114.4,y:-40,rotate:16}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:fN,src:"https://static.figma.com/uploads/ebe89d33f7040c60d83a01887800a522babf7de7"})},pluginIconMiddleLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-171.6,y:-16,rotate:-16},hover:{opacity:1,scale:1.1,x:-180.4,y:-32,rotate:-16}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:fN,src:"https://static.figma.com/uploads/65c3bfafc5758245135ea68c46bf8649e08fc682"})},pluginIconBottomLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-110,y:16,rotate:-8},hover:{opacity:1,scale:1.1,x:-127.6,y:16,rotate:-8}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:fN,src:"https://static.figma.com/uploads/4c694b59552bdaf728d6bbad5c5603c08e768dde"})},pluginIconTopRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:393.8,y:-24,rotate:-16},hover:{opacity:1,scale:1.1,x:400.4,y:-40,rotate:-16}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:fN,src:"https://static.figma.com/uploads/2a50b4b29af5a21bde6c7b4ef8cdfd97a2b16a39"})},pluginIconMiddleRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:448.8,y:-16,rotate:16},hover:{opacity:1,scale:1.1,x:466.4,y:-32,rotate:16}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:fN,src:"https://static.figma.com/uploads/0d28516cbda0bfcf87b214c919c6ed52f3358efb"})},pluginIconBottomRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:400.4,y:16,rotate:8},hover:{opacity:1,scale:1.1,x:418,y:16,rotate:8}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:fN,src:"https://static.figma.com/uploads/34cf09b757fec1181abee8d8ece8a06ee0383408"})}},fz={heartIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:48.4,y:-76,rotate:0},hover:{opacity:1,scale:1,x:48.4,y:-88,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fM.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})},libraryIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-8.8,y:-64,rotate:-8.5},hover:{opacity:1,scale:1,x:-26.4,y:-72,rotate:-8.5}},transition:{type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fB.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})},emojiIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:96.8,y:-64,rotate:6},hover:{opacity:1,scale:1,x:114.4,y:-72,rotate:6}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fD.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})},chatIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:158.4,y:-80,rotate:0},hover:{opacity:1,scale:1,x:178.2,y:-88,rotate:0}},transition:{delay:.125,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fR.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})},profileIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-79.2,y:-80,rotate:0},hover:{opacity:1,scale:1,x:-96.8,y:-88,rotate:0}},transition:{delay:.125,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fH.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})},mentionIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-162.8,y:12,rotate:0},hover:{opacity:1,scale:1,x:-180.4,y:20,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fV.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})},asterikIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-187,y:-32,rotate:0},hover:{opacity:1,scale:1,x:-215.6,y:-32,rotate:0}},transition:{delay:.15,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fL.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})},settingsIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:237.6,y:12,rotate:0},hover:{opacity:1,scale:1,x:255.2,y:20,rotate:0}},transition:{delay:.0725,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fW.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})},bookmarkIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:281.6,y:-32,rotate:0},hover:{opacity:1,scale:1,x:299.2,y:-32,rotate:0}},transition:{delay:.15,type:"spring",bounce:.4,duration:.25},element:l.createElement(j.B,{svg:fA.A,style:{fill:"none",stroke:(0,_j.TD)("default")}})}};function fQ({elements:e,elementWrapperClassname:t,text:a,onMouseEnter:r,onMouseLeave:n,isActive:i}){return l.createElement(fI.P.span,{className:S.cx.colorTextBrand.$,variants:{hidden:{opacity:.9},hover:{opacity:1}},initial:"hidden",animate:i?"hover":"hidden"},l.createElement("span",{className:B()("hero--textElement--lpZt8",{"hero--highlightedTextElement--Z3Qhc":i}),onMouseEnter:r,onMouseLeave:n},a),l.createElement("div",{className:t,"aria-hidden":!0},Object.entries(e).map(([e,t])=>l.createElement(fI.P.span,{className:S.cx.absolute.top0.left0.eventsNone.$,key:e,variants:t.variants,transition:t.transition},t.element))))}let fK=(e,t)=>{r=setTimeout(()=>{e(e=>(e+1)%6),fq(e)},t??500)},fq=e=>{r=setTimeout(()=>{e(e=>(e+1)%6),fK(e)},3e3)};function fZ(){let e=(0,c$.N)(`(max-width: ${(0,iL.jz)(i4.ikM)-1}px)`),[t,a]=l.useState(2*Math.floor(3*Math.random())),[n,i]=l.useState(null);(0,l.useEffect)(()=>(fK(a),()=>{clearTimeout(r)}),[]),(0,l.useEffect)(()=>{null!==n?(clearTimeout(r),r=void 0,a(e=>e%2==1?(e+1)%6:e)):r||fK(a,3e3)},[n]);let o=t%2==0?null:Math.ceil(t/2),s=n??o;return e?l.createElement(l.Fragment,null,l.createElement("h1",{className:fS},(0,k.tx)("community.homepage.mobile_header")),l.createElement("div",{className:"hero--subHeader--74gIe text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.homepage.mobile_subheader"))):l.createElement("h1",{className:fS},(0,k.tx)("community.homepage.header",{librariesLink:l.createElement(fQ,{elements:fG,elementWrapperClassname:"hero--libraryElementsWrapper--8uOC3",text:(0,k.t)("community.homepage.header_libraries"),onMouseEnter:()=>i(1),onMouseLeave:()=>i(null),isActive:1===s}),pluginsLink:l.createElement(fQ,{elements:fY,elementWrapperClassname:"hero--pluginElementsWrapper--E7QTs",text:(0,k.t)("community.homepage.header_plugins"),onMouseEnter:()=>i(2),onMouseLeave:()=>i(null),isActive:2===s}),iconSetsLink:l.createElement(fQ,{elements:fz,elementWrapperClassname:"hero--iconElementWrapper--UvEtl",text:(0,k.t)("community.homepage.header_icon_sets"),onMouseEnter:()=>i(3),onMouseLeave:()=>i(null),isActive:3===s})}))}function fX(){let e=(0,fC.Xr)(pl);return l.createElement("div",{className:"hero--hero--a1ML6"},l.createElement(fZ,null),l.createElement(fx,{isRedesignedHomepage:!0}),l.createElement(cc.a,{callback:(0,l.useCallback)(t=>{e(t[0].isIntersecting)},[e]),cleanupCallback:(0,l.useCallback)(()=>e(!1),[e])}))}let fJ=(0,l.forwardRef)(({href:e,navigate:t,title:a,onClick:r,categoryHighlight:n},i)=>{let o=(0,c$.N)(`(max-width: ${i4.ikM})`);return l.createElement("div",{ref:i,key:n.category,className:"homepage_categories_highlight--homepageCategoriesHighlightItemWrapper--iQwAJ"},l.createElement("div",{className:"homepage_categories_highlight--homepageCategoriesHighlightItem--peoMf",onClick:e=>{r&&r(e),t()},tabIndex:0,role:"link","aria-label":a},l.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCard--25fAI"},l.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardTitleAndSubtitle--T8YwD"},l.createElement("a",{className:"homepage_categories_highlight--homepageCategoryHighlightCardTitle--9FmzL text--fontPos13--xW8hS text--_fontBase--QdLsd",href:e,onClick:e=>{e.preventDefault()}},a),l.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardSubheader--EXycZ text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.text)),l.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardImageContainer--lOChl"},l.createElement("img",{alt:a,src:o&&n.mobileSrc?n.mobileSrc:n.src,className:B()("homepage_categories_highlight--homepageCategoryHighlightCardImage--HD0cW"),"data-category":n.category})))))});function f0({categoryHighlights:e}){return l.createElement("div",{className:"homepage_categories_highlight--homepageCategoriesHighlight--XCng9"},e.map(e=>{let t=new cZ.IE({categorySlug:e.category});return l.createElement(ez.o3,{key:e.category,to:t.href,trackingEventName:"community_homepage_category_highlight_clicked",trackingProperties:{slug:e.category},title:_5(e.category),href:t.href,categoryHighlight:e,component:fJ})}))}var f1=a(171603);function f2({buttonLabel:e,route:t}){return l.createElement(ez.o3,{className:"homepage_section--viewAllLinks--ZxJcd text--fontPos13--xW8hS text--_fontBase--QdLsd",to:t.to,trackingEventName:"community_homepage_section_link_clicked",trackingProperties:{slug:t.pathname}},e,l.createElement(j.B,{svg:f1.A,className:"homepage_section--chevron--alHAr"}))}function f4({header:e,subHeader:t,buttonLabel:a,route:r,content:n}){return l.createElement("div",{className:S.cx.wFull.$},l.createElement("div",{className:S.cx.alignLeft.pb16.$},l.createElement("h3",{className:S.cx.fontMedium.font15.lh24.$},e),l.createElement("div",{className:"homepage_section--subheaderAndLink---Rv7r"},t&&l.createElement("div",{className:S.cx.font13.colorTextSecondary.lh24.pt4.$},t),a&&r&&l.createElement(f2,{buttonLabel:a,route:r}))),n)}let f8=(0,eh.Fu)(it.E_);function f3(){let e=(0,s.wA)(),t=(0,ef.md)(f8);return t?.status!=="loaded"||t?.status==="loaded"&&t?.data?null:l.createElement(ez.fu,{name:"cmty_slides_promo_banner"},l.createElement("div",{className:"slides_promo_banner--banner--C7dcs","data-editor-theme":"piper"},l.createElement("div",{className:"slides_promo_banner--iconContainer--HC1lS"},l.createElement(rN.oS,{type:rN.y1.SLIDES,size:rN.LE.MEDIUM})),l.createElement("div",{className:"slides_promo_banner--description--DybQR text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.homepage.slides_promo_banner")),l.createElement(ez.L0,{name:"slides_promo_banner_cta",className:"slides_promo_banner--ctaButton--g9W36 text--fontPos11--2LvXf text--_fontBase--QdLsd",href:"https://www.figma.com/slides/",target:"_blank"},(0,k.tx)("community.learn_more")),l.createElement(nv.Jn,{onClick:()=>{e(t9.b({[it.E_]:!0}))},className:"slides_promo_banner--dismissButton--8RidG","aria-label":(0,k.t)("banner.shared.close_banner")})))}let f5=e=>`${e.id}---${(0,sI.Vm)(e)}`,f9=e=>{let[t,a]=e.split("---");return{id:t,type:a}};function f6({debounceWaitInMs:e=1e3,extraProperties:t={}}={}){let{name:a=e7.e0.COMMUNITY_HUB,properties:r}=(0,ez.j6)(),n=(0,l.useRef)([]),i=(0,l.useRef)(new Set),o=(0,l.useCallback)(e=>{if(0===n.current.length)return;let i=[],o=[];n.current.forEach(e=>{let{id:t,type:a}=f9(e);i.push(t),o.push(a)}),(0,el.sx)("hub_impressed_resources",{impressedItems:i,impressedItemTypes:o,trackingContext:a,...r,...t},{sendAsBeacon:e}),n.current=[]},[t,a,r]),s=(0,l.useMemo)(()=>(0,tF.s)(o,e),[e,o]);return(0,l.useEffect)(()=>s.flush,[s]),(0,l.useEffect)(()=>{let e=()=>{"hidden"===document.visibilityState&&o(!0)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[o]),{trackResourceImpression:(0,l.useCallback)(e=>{let t=f5(e);i.current.has(t)||(i.current.add(t),n.current.push(t),s())},[s]),flushAndResetResourceImpressions:(0,l.useCallback)(()=>{s.flush(),i.current.clear()},[s])}}function f7(){return(0,p.kc)().cmty_feed_resource_platform?l.createElement(gt,null):l.createElement(ge,null)}function ge(){let e=function({limit:e}={limit:fg.b}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,pE.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:pa.k.Editors.SLIDES,sort_by:(0,ph.H)()}).browse(p8.L.BrowseResourceTypes.FILES,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular slide templates",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),t=function({limit:e}={limit:fg.b}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,pE.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:pa.k.Editors.FIGMA,sort_by:(0,ph.H)()}).browse(p8.L.BrowseResourceTypes.FILES,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular figma files",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),a=function({limit:e}={limit:fg.N}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,pE.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({category:cq.LJ.designTools,sort_by:(0,ph.H)()}).browse(p8.L.BrowseResourceTypes.PLUGINS,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular plugins",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),r=function({limit:e}={limit:fg.b}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,pE.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:pa.k.Editors.FIGJAM,sort_by:(0,ph.H)()}).browse(p8.L.BrowseResourceTypes.FILES,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular figjam files",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),n=function({limit:e}={limit:fg.b}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,pE.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({category:cq.LJ.whiteboarding,sort_by:(0,ph.H)()}).browse(p8.L.BrowseResourceTypes.WIDGETS,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular widgets",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}();return l.createElement(ga,{popularSlideTemplates:e,popularFigmaFiles:t,popularPlugins:a,popularFigJamFiles:r,popularWidgets:n})}function gt(){let[{data:e,status:t}]=(0,f.IT)(fh.a.ResourcesPaginatedQuery({resourceType:[d4.vt.SLIDE_TEMPLATE],caller:fh.z.HOMEPAGE})),[{data:a,status:r}]=(0,f.IT)(fh.a.ResourcesPaginatedQuery({resourceType:[d4.vt.DESIGN_TEMPLATE],caller:fh.z.HOMEPAGE})),[{data:n,status:i}]=(0,f.IT)(fh.a.ResourcesPaginatedQuery({resourceType:[d4.vt.PLUGIN],caller:fh.z.HOMEPAGE,includeContent:!0})),[{data:o,status:s}]=(0,f.IT)(fh.a.ResourcesPaginatedQuery({resourceType:[d4.vt.FIGJAM_TEMPLATE],caller:fh.z.HOMEPAGE})),[{data:c,status:d}]=(0,f.IT)(fh.a.ResourcesPaginatedQuery({resourceType:[d4.vt.WIDGET],caller:fh.z.HOMEPAGE}));return l.createElement(ga,{popularSlideTemplates:{resources:e??[],loading:"loading"===t},popularFigmaFiles:{resources:a??[],loading:"loading"===r},popularPlugins:{resources:(n??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),loading:"loading"===i},popularFigJamFiles:{resources:o??[],loading:"loading"===s},popularWidgets:{resources:c??[],loading:"loading"===d}})}function ga({popularSlideTemplates:e,popularFigmaFiles:t,popularPlugins:a,popularFigJamFiles:r,popularWidgets:n}){let i=(0,c$.N)(`(max-width: ${i4.g8m})`)?{rows:3,cols:2}:{rows:2,cols:3},{trackResourceImpression:o}=f6(),{slideTemplatesRoute:s,designResourcesRoute:c,pluginsRoute:d,figjamAssetsRoute:m,widgetsRoute:u}=(0,l.useMemo)(()=>({slideTemplatesRoute:new cZ.IE({categorySlug:cq.LJ.presentations}),designResourcesRoute:new cZ.IE({categorySlug:cq.LJ.designTemplates}),pluginsRoute:new cZ.IE({categorySlug:cq.LJ.designTools},{resource_type:"plugins"}),figjamAssetsRoute:new cZ.IE({categorySlug:cq.LJ.whiteboarding}),widgetsRoute:new cZ.IE({categorySlug:cq.LJ.whiteboarding},{resource_type:p8.L.BrowseResourceTypes.WIDGETS})}),[]),_=(0,l.useCallback)((e,t)=>{t&&o(e)},[o]);return l.createElement("div",{className:"homepage--homepageContainer--q0JuX"},l.createElement("div",{className:"homepage--homepageContent--XDBs9"},l.createElement(fX,null),(0,p.kc)().piper_cmty_home_banner&&l.createElement(f3,null),l.createElement("div",{className:"homepage--homepageSectionsContainer--rXSN9"},l.createElement(f4,{header:(0,k.t)("community.homepage.slides_section.header"),subHeader:(0,k.t)("community.homepage.slides_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.slides_section.browse_all"),route:s,content:l.createElement(ff,{resources:e.resources,maxGridDim:i,onIntersectionChange:_,isLoading:e.loading,loadingTileCount:6})}),l.createElement(f4,{header:(0,k.t)("community.homepage.figma_section.header"),subHeader:(0,k.t)("community.homepage.figma_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.figma_section.browse_all"),route:c,content:l.createElement(ff,{resources:t.resources,maxGridDim:i,onIntersectionChange:_,isLoading:t.loading,loadingTileCount:6})}),l.createElement(f4,{header:(0,k.t)("community.view_bar.plugins"),subHeader:(0,k.t)("community.homepage.plugins_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.plugins_section.browse_all"),route:d,content:l.createElement(fi,{plugins:a.resources,onIntersectionChange:_,isOrgTeamBrowsing:!1,isLoading:a.loading,loadingRowCount:10})}),l.createElement(f4,{header:(0,k.t)("community.homepage.figjam_section.header"),subHeader:(0,k.t)("community.homepage.figjam_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.figjam_section.browse_all"),route:m,content:l.createElement(ff,{resources:r.resources,maxGridDim:i,onIntersectionChange:_,isLoading:r.loading,loadingTileCount:6})}),l.createElement(f4,{header:(0,k.t)("community.view_bar.widgets"),subHeader:(0,k.t)("community.homepage.widgets.sub_header"),buttonLabel:(0,k.t)("community.homepage.widgets.browse_all"),route:u,content:l.createElement(ff,{resources:n.resources,maxGridDim:i,onIntersectionChange:_,isLoading:n.loading,loadingTileCount:6})}),l.createElement(f4,{header:(0,k.t)("community.homepage.categories_section.header"),subHeader:(0,k.t)("community.homepage.categories_section.sub_header"),content:l.createElement(f0,{categoryHighlights:[{category:cq.LJ.designTemplates,src:"https://static.figma.com/uploads/f35144ac6be1301b0c300fdb5ba0761f85d610da",mobileSrc:"https://static.figma.com/uploads/d09077ccb81fdbb9d927f28eab6d6aff62def241",text:(0,k.t)("categories.homepage_highlight.design_templates")},{category:cq.LJ.uiKits,src:"https://static.figma.com/uploads/6b7af7165268ef5a4d90fc48f1a9d311bb52780a",mobileSrc:"https://static.figma.com/uploads/bbe5c1f9cc2c99dce19c64a5c3667bac836def1d",text:(0,k.t)("categories.homepage_highlight.ui_kits")},{category:cq.LJ.icons,src:"https://static.figma.com/uploads/12cea3d845a2aebb7027af6890160caeb7e4ce9f",mobileSrc:"https://static.figma.com/uploads/478f606904a2341a2b01fb2ef3cafb9f63b29f79",text:(0,k.t)("categories.homepage_highlight.icons")},{category:cq.LJ.designTools,src:"https://static.figma.com/uploads/404bbfd2c09daf145970196f3d762807fd711299",text:(0,k.t)("categories.homepage_highlight.design_tools")},{category:cq.LJ.visualAssets,src:"https://static.figma.com/uploads/8857bb67fa108380ce502139054754c89feb9f3e",mobileSrc:"https://static.figma.com/uploads/3a887f58127d5e03c61c7884b9fce47ae6c6c16b",text:(0,k.t)("categories.homepage_highlight.visual_assets")},{category:cq.LJ.whiteboarding,src:"https://static.figma.com/uploads/e1915a29a858e7c0d717471cf0108aeba02c7dbe",mobileSrc:"https://static.figma.com/uploads/bfeb514427f6279d7e6b4902a38fd7f576b394e4",text:(0,k.t)("categories.homepage_highlight.whiteboarding")}]})}),l.createElement(f4,{header:(0,k.t)("community.view_bar.all_resources"),content:(0,p.kc)().cmty_feed_resource_platform?l.createElement(fw,{onIntersectionChange:_}):l.createElement(fT,{onIntersectionChange:_})}),l.createElement("div",{className:S.cx.wFull.$},l.createElement(c1,null)))))}var gr=a(740222),gn=a.n(gr),gi=a(135876),go=a(746058),gl=a(827553),gs=a(782501),gc=a(336599),gd=a(163056);let gm=[{img:"https://static.figma.com/uploads/49e43aec887df7422ff9643d11465bcdeded548e",color:c3.S0},{img:"https://static.figma.com/uploads/c00f8b3e0cd9a66eb8c4ee4e6d307fff82c9ab27",color:c3.S0},{img:"https://static.figma.com/uploads/3f772c66c1cddf1d0b6c5f8f41395bcafd135566",color:c3.S0},{img:"https://static.figma.com/uploads/960d3a00ab8d8c4db2f27b7814c911ae974c770b",color:c3.fr},{img:"https://static.figma.com/uploads/cda2753116908ec0abf57b611934479cebbcdbeb",color:c3.fr},{img:"https://static.figma.com/uploads/37f4db88a8104a239f3d761763f8d7e0826d7765",color:c3.fr}],gu=function({profile:e,onImageUploaded:t}){let a=l.useRef(null),r=(0,s.wA)(),n=(0,s.d4)(e=>e.loadingState),i=pY.Ai.loadingKeyForPayload({profileId:e.id}),o=(0,gc.VP)(n,i),c=l.useCallback(()=>{a.current?.click()},[]),d=l.useCallback(a=>{null!=a&&r(pY.Ai({profileId:e.id,file:a,onSuccessCallback:t}))},[r,t,e.id]),m=l.useCallback(async()=>{try{let e=a.current?.files;if(!e||0===e.length||!e[0])throw Error("File not found");let t=e[0];(0,iy.YU)(t);let r=await (0,gs.l8)(URL.createObjectURL(t));if(r.width>iy.M0||r.height>iy.Zs)throw Error((0,k.t)("community.profiles.cover_image_must_be_less_than_dimensions",{PROFILE_COVER_IMAGE_MAX_WIDTH:iy.M0,PROFILE_COVER_IMAGE_MAX_HEIGHT:iy.Zs}));if(r.width<iy.gZ||r.height<iy.xj)throw Error((0,k.t)("community.profiles.cover_image_must_be_at_least_dimensions",{PROFILE_COVER_IMAGE_MIN_WIDTH:iy.gZ,PROFILE_COVER_IMAGE_MIN_HEIGHT:iy.xj}));d(t)}catch(e){r($.s.error(e.message))}a.current&&(a.current.value="")},[r,d]);return l.createElement(l.Fragment,null,l.createElement("input",{type:"file",accept:"image/*",ref:a,onChange:m,style:{display:"none"}}),l.createElement(j.B,{svg:gd.A,className:"profile_header--uploadIcon--FFtoL",onClick:c}),o&&l.createElement(tM.qc,null))};function g_({profile:e}){let t=(0,s.d4)(t=>(0,iy.jG)(e,t)),a=(0,iy.si)(e),r=(0,p.kc)().cmty_deprecate_browse_as_admin?a:t,[n,i]=l.useState((0,dk.g)()),o=l.useCallback(()=>{i((0,dk.g)())},[]),c=l.useMemo(()=>e.redirect_cover_image_url?{backgroundColor:"rgba(0, 0, 0, 0.03)",backgroundImage:`url(${e.redirect_cover_image_url}?${n})`}:function(e){if(null==e||!e.id)return;let t=gm[parseInt(e.id.length>=4?e.id.slice(e.id.length-4):"0")%gm.length];return{backgroundImage:`url(${t.img})`,backgroundColor:t.color}}(e),[e,n]);return l.createElement("div",{className:"profile_header--profileHeaderContainer--C-0mY",key:e?.cover_image_path,style:c},l.createElement("div",{className:"profile_header--profileHeaderAvatarContainer--1REx-"},l.createElement(ap.Ro,{entity:{...e,img_url:e?.img_urls["500_500"]||e?.img_url||void 0},size:96,className:"profile_header--avatarBackground--5XTWL"})),r&&l.createElement(gu,{profile:e,onImageUploaded:o}))}var gp=a(107897),gf=a(153234),gg=a(158950);let gE=/(https?:\/\/)?(www\.)?figma.com\/@/;function gh(e){return l.createElement(gp.A,{options:{target:{url:"_blank"},attributes:{rel:"noopener nofollow ugc",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()}},className:"formatted_expanding_textarea--blueLink--GWaek blue_link--blueLink--9rlnd",format:e=>e.replace(gE,"@")}},e)}class gv extends gf.uA{constructor(e){super(e),this.onChange=e=>{this.setState({value:e.target.value})},this.onMouseDown=e=>{this.props.readOnly||e.preventDefault(),this.setState({isEditing:!0})},this.onFocus=()=>{this.state.isEditing||this.setState({isEditing:!0})},this.onSubmit=e=>{this.props.submit&&this.props.submit(e)},this.onBlur=()=>{this.setState({isEditing:!1})},this.state={value:this.props.value,isEditing:!1}}componentDidUpdate(e){this.props.value!==e.value&&this.setState({value:this.props.value})}renderFormattedValue(){return l.createElement("div",{dir:"auto",className:"formatted_expanding_textarea--value--XJ2Gh"},this.props.formatter?this.props.formatter(this.state.value):this.state.value)}renderPlaceholder(){return l.createElement("div",{className:"formatted_expanding_textarea--placeholder--JJ8AZ"},this.props.readOnly?"":this.props.placeholder)}render(){let e=!this.props.readOnly&&this.state.isEditing,t=["formatted_expanding_textarea--container--3NuYC text--fontPos13--xW8hS text--_fontBase--QdLsd",e?"formatted_expanding_textarea--editMode--wvP9s":"formatted_expanding_textarea--viewMode--GHMnM",this.props.readOnly?"formatted_expanding_textarea--readOnly--w19iZ":"formatted_expanding_textarea--canEdit--UVjHq",this.props.className||""].join(" ");return l.createElement("div",{className:t,onMouseDown:this.onMouseDown,onFocus:this.onFocus,tabIndex:0},!e&&(this.state.value?this.renderFormattedValue():this.renderPlaceholder()),e&&l.createElement(gg.v,{maxLength:this.props.maxLength||1e4,onChange:this.onChange,value:this.state.value,placeholder:this.props.placeholder,submit:this.onSubmit,onBlur:this.onBlur,selectOnMount:!0,className:"formatted_expanding_textarea--expandingTextarea--LLtsJ"}))}}gv.displayName="FormattedExpandingTextarea";var gy=a(752207),gb=a(988932),gw=a(370855),gT=a(709595),gI=a(820642),gC=a(301400),gx=a(93623),gN=a(492330),gS=a(354438),gk=a(432035);function gL(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--title--IfgQI text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.t)("community.seller.profiles.check_out_your_stats")),l.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--description--2j8hj"},(0,k.t)("community.seller.profiles.added_some_metrics")))}let gA="metrics_tab_onboarding_key",gR="community_hub_view_bar--stickyHeaderIsSticky--jlnEf";class gF extends l.PureComponent{render(){return l.createElement("div",{className:`community_hub_view_bar--viewBar--T8-MS ${this.props.className||""}`},this.props.children)}}let gP=(0,s.Ng)(e=>({user:e.user||null}))(gF);class gO extends l.PureComponent{constructor(){super(...arguments),this.headerContentRef=l.createRef(),this.onIntersectionChange=e=>{this.node&&(e.isIntersecting?this.node.classList.remove(gR):e.boundingClientRect.y<window.innerHeight&&this.node.classList.add(gR))}}render(){return l.createElement("div",{className:["community_hub_view_bar--container--PBrf3",this.props.user?"community_hub_view_bar--viewBarSignedInSticky--swRMi":"community_hub_view_bar--viewBarSignedOutSticky--fpGkz"].join(" "),ref:e=>this.node=e},l.createElement(tU.a,{onIntersectionChange:this.onIntersectionChange,className:this.props.user?"community_hub_view_bar--scrollSentinelSignedIn--u73PI":"community_hub_view_bar--scrollSentinelSignedOut--9xL9d"}),l.createElement(gP,null,l.createElement("div",{ref:this.headerContentRef},this.props.children)))}}var gD=a(402609),gM=a(147829),gB=a(746806),gU=a(63666);let gV=(0,eh.r1)(it.e9);function gH({onboardingKey:e}){let t=(0,ef.md)(gV),a=(0,eE.e)({overlay:ew.O9D,priority:ev.N.SECONDARY_MODAL},[t]);return(0,u.h)(()=>{a.show({canShow:e=>!e})}),(0,p9.E)(a.uniqueId,"profile-metrics-tab-clicked",()=>{a.isShowing&&a.complete()}),l.createElement(gM.M,{isShowing:a.isShowing,userFlagOnShow:it.e9},l.createElement(ez.fu,{name:"Community monetization creator dashboard onboarding"},l.createElement(gU.NJ,{targetKey:e,width:300,topPadding:16,shouldCenterArrow:gB.EL.FALLBACK,dismissModal:a.complete},l.createElement(gL,null))))}var gW=a(677664),gj=a(320741);let g$=(0,tm.nF)(async(e,t,{loadingKey:a})=>{try{let r=td.Ay.post("/api/community/seller/stripe_dashboard");(0,gj.N)(r,e,a);let n=await r;if(!n?.data?.meta){t?.callback(!1);return}let i=n.data.meta;e.dispatch((0,gW.RK)({rawInput:i})),setTimeout(()=>{t?.callback(!0)},1e3)}catch(e){t?.callback(!1)}});var gG=a(583894),gY=a(82388),gz=a(596578),gQ=a(139387);let gK=(0,aA.Ju)(function(){let e=(0,s.wA)(),t=(0,e1.iZ)(),[a,r]=l.useState([]),[n,i]=l.useState(!0),[o,c]=l.useState(!0),[d,m]=l.useState(!1),[_,p]=l.useState(!1),f=l.useRef(null);(0,u.h)(()=>{gz.C.getCmtyCreatorPayoutStatements({userId:t?.id}).then(({data:e})=>{i(!1),r(e.meta)}).catch(()=>{e(a0.F.enqueue({type:"get-payout-statements-error",message:(0,k.t)("community.seller.payout_statement_error"),error:!0}))})});let E=e=>new Date(e.year,e.month-1).toLocaleDateString(void 0,{year:"numeric",month:"long"}),h="creator_payout_statements_modal--scrollContainer--8j6P4";return _&&(o||(h+=" creator_payout_statements_modal--topBorder--OHBCp"),d||(h+=" creator_payout_statements_modal--bottomBorder--tNtIc")),l.createElement(aR.Rw,{title:(0,k.t)("community.seller.community_payout_statements"),titleClassName:"creator_payout_statements_modal--title--t9wed",confirmText:(0,k.t)(0===a.length?"general.got_it":"general.done"),onConfirm:g.lQ,hideConfirmationTitle:!0,hideCancel:!0},n?l.createElement("div",{className:"creator_payout_statements_modal--loadingSpinner--HMTTZ"},l.createElement(tM.kt,null)):l.createElement("div",null,0===a.length&&l.createElement("div",null,(0,k.tx)("community.seller.no_payout_statements_yet")),a.length>0&&l.createElement(l.Fragment,null,l.createElement("div",null,(0,k.tx)("community.seller.click_to_download_statements")),l.createElement(tB.P,{className:h,ref:f,onCanScrollChange:e=>{p(e)},onScroll:(e,t)=>{c(0===e),m(e+t.trackHeight>=t.scrollHeight)}},a.map(e=>l.createElement("a",{className:"creator_payout_statements_modal--payoutStatementRow--4fDH3",key:`payout-statement-${e.year}-${e.month}`,href:e.signed_s3_url,download:`payout_statement_${e.year}_${e.month}.csv`},l.createElement(j.B,{svg:gQ.A}),E(e)))))))},"CreatorPayoutStatementsModal");var gq=a(358157);let gZ="profile_resources_grid--tabContainer--UsmoU",gX="profile_resources_grid--tabLink--8x9Of text--fontPos14--OL9Hp text--_fontBase--QdLsd",gJ="profile_resources_grid--tabBadge--l97Nx",g0="profile_resources_grid--labelBadgeContainer--gc9j0",g1="profile_resources_grid--selected--6CtGL",g2="profile_resources_grid--newBadge--LOtSf",g4="profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",g8="profile_resources_grid--profileDataReadOnly--Juje2 profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",g3="profile_resources_grid--followsData--WkXSx",g5="profile_resources_grid--followsDataClickable--PHNwr",g9="profile_resources_grid--followsDataCount--MoS2I",g6="profile_resources_grid--loadingContainer--hsPEQ",g7="profile_resources_grid--profileResourcesGridOuterContainer--ynOxv",Ee="profile_resources_grid--profileMetricsStatsOuterContainer--FAXLb",Et="profile_resources_grid--profileMetricsTabLoadingButtonContent--lkd-l",Ea="profile_resources_grid--profileMetricsTabLoadingButton--6tsqO",Er="profile_resources_grid--profileResourcesGridAndDataContainer--2gQaO",En="profile_resources_grid--emptyStateContainer--EJug9",Ei="profile_resources_grid--emptyStateHeader--c9srx text--fontPos14--OL9Hp text--_fontBase--QdLsd",Eo="profile_resources_grid--emptyStateText--oEJHa",El="profile_resources_grid--emptyStateMetricLabel--XqzzA",Es="profile_resources_grid--bannerContainer--eb6mO",Ec="profile_resources_grid--stripeDashboardButtonContainer--1DAQE",Ed="profile_resources_grid--metricContainer--SuhZ3",Em="profile_resources_grid--creatorLink--Rmyz- text--fontPos13--xW8hS text--_fontBase--QdLsd",Eu="profile_resources_grid--lockIcon--4VJCL",E_="profile_metrics_stats--divider--U2a8K";var Ep=a(419902);let Ef=(0,iL.jz)(i4.dxy);function Eg({tooltipText:e}){return l.createElement(iA.z,{query:`(min-width: ${Ef}px)`},l.createElement("span",{className:"profile_metrics_stats--infoTooltipContainer---MeEH","data-tooltip-type":eR.Ib.TEXT,"data-tooltip":e,"data-tooltip-max-width":"250"},l.createElement(j.B,{svg:Ep.A,className:"profile_metrics_stats--infoTooltip--lsZkn"})))}function EE({valueClassName:e,value:t,labelClassName:a,label:r,children:n}){return l.createElement("div",{className:Ed},l.createElement("div",{className:e},t),l.createElement("div",{className:"profile_metrics_stats--metricLabelContainer--24AJ-"},l.createElement("span",{className:a},r),n))}function Eh(){return l.createElement("div",{className:Ed},l.createElement("div",{className:"profile_resources_grid--emptyStateMetric--ktaw6"}),l.createElement("div",{className:El}))}function Ev({children:e}){return l.createElement("div",{className:Ee},l.createElement(Eh,null),l.createElement("div",{className:E_}),l.createElement(Eh,null),l.createElement("div",{className:E_}),l.createElement(Eh,null),e)}function Ey({totalViewCount:e,metricValueStyle:t,metricLabelStyle:a,totalPurchases:r,totalEarned:n,children:i}){return l.createElement("div",{className:Ee},l.createElement(EE,{valueClassName:t,value:e,labelClassName:a,label:(0,k.t)("community.seller.total_views")}),l.createElement("div",{className:E_}),l.createElement(EE,{valueClassName:t,value:r,labelClassName:a,label:(0,k.t)("community.seller.total_purchases")},l.createElement(Eg,{tooltipText:(0,k.t)("community.seller.total_purchases_includes")})),l.createElement("div",{className:E_}),l.createElement(EE,{valueClassName:t,value:n,labelClassName:a,label:(0,k.t)("community.seller.total_earned")},l.createElement(Eg,{tooltipText:(0,k.t)("community.seller.all_sales_before_figmas_fees")})),i)}var Eb=a(820113);let Ew="resource_stat_row--rowContainer--rapbF",ET="resource_stat_row--resourceMetadataContainer--bdvI3",EI="resource_stat_row--allStatContainer--vXmae",EC="resource_stat_row--statContainer--gp6KZ",Ex="resource_stat_row--statValue--69Rff text--fontPos24--YppUD text--_fontBase--QdLsd",EN="resource_stat_row--statLabel--bgvwH text--fontPos13--xW8hS text--_fontBase--QdLsd",ES="resource_stat_row--verticalDivider--Whn5d",Ek="resource_stat_row--textMetadataContainer--oQv9J",EL=(0,iL.jz)(i4.ZI8);function EA({resource:e}){return(0,so.Qo)(e)?l.createElement(cm.Cv,{resource:e,isMetaHidden:!0}):"plugin"===(0,sI.Vm)(e)?l.createElement(cm.cS,{resource:e,isMetaHidden:!0}):l.createElement(cm.bN,{resource:e,isMetaHidden:!0})}function ER({resource:e}){let{name:t,created_at:a}=(0,so.qD)(e),r=new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),n=e.monetized_resource_metadata?(0,ss.bV)(e.monetized_resource_metadata):"",i=`/community/${(0,so.ss)(e)}/${e.id}`;return l.createElement("div",{className:ET},l.createElement("div",{className:"resource_stat_row--thumbnailWrapper--M0vtN"},l.createElement(EA,{resource:e})),l.createElement(iA.z,{query:`(min-width: ${EL}px)`},l.createElement("div",{className:Ek},l.createElement("div",null,l.createElement(sg.A6,{to:i,className:"resource_stat_row--resourceName--LFWUk text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),l.createElement("div",{className:"resource_stat_row--publishDate--oDkDH text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.t)("community.seller.last_updated_on",{date:r}))),l.createElement("div",{className:"resource_stat_row--price--1YYVn text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n))))}function EF({value:e,label:t}){return l.createElement("div",{className:EC},l.createElement("span",{className:Ex},e),l.createElement("span",{className:EN},t))}function EP(){return l.createElement("div",{className:EC},l.createElement("span",{className:Ex},l.createElement("div",{className:"profile_resources_grid--emptyStateStatsMetric--qs3QD"})),l.createElement("span",{className:EN},l.createElement("div",{className:El})))}function EO(){return l.createElement("div",{className:ET},l.createElement("div",{className:"resource_stat_row--emptyThumbnailWrapper--NNO1Y resource_stat_row--thumbnailWrapper--M0vtN"},l.createElement(tM.kt,null)),l.createElement(iA.z,{query:`(min-width: ${EL}px)`},l.createElement("div",{className:Ek},l.createElement("div",null,l.createElement("div",{className:"resource_stat_row--emptyResourceName--gZCwX"}),l.createElement("div",{className:"resource_stat_row--emptyPublishDate--WVyqw"})),l.createElement("div",{className:"resource_stat_row--emptyPrice--HlOMG"}))))}function ED({resource:e}){return l.createElement("div",{className:Ew},l.createElement(EO,null),l.createElement("div",{className:EI},l.createElement(EP,null),l.createElement("div",{className:ES}),l.createElement(EP,null),l.createElement("div",{className:ES}),l.createElement(EP,null),l.createElement("div",{className:ES}),l.createElement(EP,null)))}function EM({resource:e}){let t=(0,s.wA)(),{id:a,is_subscription:r}=e.monetized_resource_metadata,n=(0,nf.Rs)(nE.aom,{monetizedResourceMetadataId:a}),i=new Eb.vr("usd");if("loading"===n.status)return l.createElement(ED,{resource:e});if("loaded"!==n.status||n.errors?.length)return t(a0.F.enqueue({message:(0,k.t)("community.actions.unable_to_load_stats_for_a_resource"),error:!0})),l.createElement(ED,{resource:e});{let t=n.data.communityM10nResourceStat,a={monetized_resource_metadata_id:t?.monetizedResourceMetadataId,all_time_total_earned:parseInt(t?.allTimeTotalEarned||"0"),monthly_total_earned:parseInt(t?.monthlyTotalEarned||"0"),num_purchases:parseInt(t?.numPurchases||"0")},o=e.view_count||0;return l.createElement("div",{className:Ew},l.createElement(ER,{resource:e}),l.createElement("div",{className:EI},l.createElement(EF,{label:(0,k.t)("community.seller.views_label",{num:o}),value:o.toLocaleString()}),l.createElement("div",{className:ES}),r?l.createElement(EF,{label:(0,k.t)("community.seller.subscribers_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}):l.createElement(EF,{label:(0,k.t)("community.seller.purchases_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}),l.createElement("div",{className:ES}),l.createElement(EF,{label:(0,k.t)("community.seller.total_earned"),value:i.formatMoney(a.all_time_total_earned)}),l.createElement("div",{className:ES}),l.createElement(EF,{label:(0,k.t)("community.seller.earned_this_month"),value:i.formatMoney(a.monthly_total_earned)})))}}function EB({paidResources:e}){return(0,p.kc)().cmty_m10n_turn_creator_dash_off?l.createElement(l.Fragment,null):l.createElement("div",{className:"resource_stats_list--resourceStatsListContainer--3Xmb3"},l.createElement("p",{className:"resource_stats_list--resourceCount--SHJGY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("community.seller.resources_for_sale",{numResources:e.length})),e.map((e,t,a)=>l.createElement("div",{key:e.id,className:"resource_stats_list--resourceStatContainer--GxfxK"},l.createElement(EM,{resource:(0,su.Ch)(e)}),t<a.length-1&&l.createElement("div",{key:`${e.id}-divider`,className:"resource_stats_list--divider--F4HpT"}))))}function EU(){return l.createElement("svg",{width:"274",height:"133",viewBox:"0 0 274 133",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M124.179 65.3591C125.935 65.3591 127.359 63.9355 127.359 62.1795C127.359 60.4235 125.935 59 124.179 59C122.423 59 121 60.4235 121 62.1795C121 63.9355 122.423 65.3591 124.179 65.3591Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),l.createElement("path",{d:"M149.861 62.1795C149.861 63.9355 148.437 65.3591 146.681 65.3591C144.925 65.3591 143.502 63.9355 143.502 62.1795C143.502 60.4235 144.925 59 146.681 59C148.437 59 149.861 60.4235 149.861 62.1795Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),l.createElement("path",{d:"M123.092 73.4119V71.9119H120.092V73.4119C120.092 81.9723 127.032 88.9119 135.592 88.9119C144.152 88.9119 151.092 81.9723 151.092 73.4119V71.9119H148.092V73.4119C148.092 80.3154 142.496 85.9119 135.592 85.9119C128.688 85.9119 123.092 80.3154 123.092 73.4119Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),l.createElement("path",{d:"M232.862 51.8912L214.45 64.9049L240.999 74.0556L209.704 95.1483L208.027 92.6606L234.332 74.931L207.938 65.8337L231.13 49.4413L232.862 51.8912Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.2828 0H148.05L185.283 38.0308V47.1645L188.993 45.3563L196.545 23.4452L218.456 30.9974L239.307 20.8359L249.468 41.6862L271.414 49.2505L263.85 71.1971L274 92.0236L253.173 102.174L245.609 124.12L223.663 116.556L202.812 126.717L192.651 105.867L185.283 103.327V133H82.2828V109.541L31.3574 128.076C27.4651 129.493 23.1613 127.486 21.7446 123.593L16.9646 110.46C16.4165 108.954 17.1953 107.612 18.0665 106.887C18.9369 106.163 20.3041 105.686 21.6406 106.175C24.3362 107.162 27.171 107.252 29.8132 106.29C36.5897 103.824 40.064 94.9827 36.8557 86.168C33.6474 77.3533 25.303 72.8139 18.5265 75.2803C15.8843 76.242 13.7706 78.1332 12.3398 80.6217C11.6304 81.8554 10.2763 82.3687 9.14412 82.3734C8.01076 82.3782 6.55152 81.8507 6.00341 80.3447L1.22339 67.2118C-0.193304 63.3194 1.8136 59.0156 5.70593 57.5989L18.1219 53.0799C18.1237 53.0772 18.1258 53.0738 18.1282 53.0695C18.1529 53.0257 18.1896 52.9235 18.1889 52.7663C18.1882 52.6115 18.1509 52.4593 18.0918 52.3414C18.0341 52.2263 17.9741 52.1774 17.9418 52.1588C14.9078 50.4143 12.5056 47.7738 11.2767 44.3974C8.07639 35.6046 14.0889 25.815 23.9574 22.2231C33.8259 18.6313 44.7244 22.2658 47.9247 31.0587C49.1536 34.435 49.0107 38.0019 47.8079 41.2884C47.7951 41.3234 47.7805 41.3994 47.8104 41.5248C47.8409 41.653 47.9101 41.7936 48.0091 41.9127C48.1096 42.0335 48.2035 42.0882 48.2505 42.1059C48.2551 42.1076 48.2589 42.1089 48.262 42.1098L62.0875 37.0777C65.9798 35.661 70.2836 37.6679 71.7003 41.5603L82.2828 70.6354V0ZM182.283 40.1429V48.6266V56.5V76.5V98V102.293V130H85.2828V108.449V107C85.2828 107 85.2828 102.5 85.2828 98.5V78.8779V3H145.919V40.1429H182.283ZM185.283 50.5018V100.154L194.803 103.435L204.195 122.706L223.466 113.314L243.75 120.306L250.742 100.021L269.989 90.6411L260.609 71.3943L267.601 51.1092L247.316 44.1175L237.924 24.847L218.654 34.2385L198.404 27.2591L191.424 47.5087L185.283 50.5018ZM68.8813 42.5863L82.2828 79.4069V106.348L30.3314 125.257C27.996 126.107 25.4137 124.903 24.5637 122.567L19.7881 109.447C19.789 109.443 19.7903 109.44 19.792 109.435C19.8097 109.388 19.8644 109.294 19.9852 109.194C20.1043 109.095 20.2449 109.025 20.3731 108.995C20.4985 108.965 20.5745 108.98 20.6095 108.992C23.896 110.195 27.4629 110.338 30.8392 109.109C39.6321 105.909 43.2666 95.0105 39.6748 85.1419C36.0829 75.2734 26.2933 69.2609 17.5005 72.4613C14.1241 73.6901 11.4836 76.0923 9.7391 79.1263C9.72052 79.1586 9.67163 79.2186 9.55647 79.2764C9.43858 79.3354 9.28639 79.3728 9.13155 79.3734C8.97443 79.3741 8.87215 79.3374 8.82842 79.3127C8.82414 79.3103 8.82071 79.3082 8.81802 79.3064L4.04247 66.1857C3.19245 63.8503 4.39659 61.268 6.73199 60.418L19.1602 55.8945C20.6662 55.3464 21.1936 53.8871 21.1889 52.7538C21.1841 51.6216 20.6709 50.2675 19.4371 49.5581C16.9487 48.1273 15.0575 46.0135 14.0958 43.3714C11.6294 36.5949 16.1688 28.2505 24.9835 25.0422C33.7981 21.8339 42.6392 25.3082 45.1057 32.0847C46.0673 34.7269 45.9772 37.5617 44.9907 40.2573C44.5015 41.5938 44.9788 42.961 45.7029 43.8314C46.4278 44.7026 47.7698 45.4814 49.2758 44.9333L63.1136 39.8968C65.449 39.0468 68.0312 40.2509 68.8813 42.5863ZM148.919 5.17631L180.215 37.1429H148.919V5.17631Z",fill:"var(--color-icon-disabled, #D9D9D9)"}))}function EV({paidResources:e,primaryUserId:t}){let a=(0,s.wA)(),r=(0,e1.iZ)(),[n,i]=l.useState(!1),[o,c]=l.useState(!1),d=(0,nf.Rs)(nE.wW7,{userId:t}),m=()=>{c(!0),a((0,eY.to)({type:gY.s,data:{setupStripeCallback:e=>{i(!1),c(!1),e||a($.s.error((0,k.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},u=()=>{i(!0),(0,tN.Cu)({user_id:r.id},"stripe_dasbhboard_link_clicked"),a(g$({callback:e=>{i(!1),e||a($.s.error((0,k.t)("community.seller.unable_to_open_stripe_dashboard")))}}))};function _(){return r?.stripe_account_status===gG.P5.ENABLED||r?.stripe_account_status===gG.P5.DISABLED?l.createElement("div",{className:Ec},l.createElement("button",{className:"profile_resources_grid--stripeDashboardButton--LHyS8 profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:u},l.createElement("div",{className:Et},n&&l.createElement("div",{className:Ea},l.createElement(tM.kt,{shouldMatchTextColor:!0})),(0,k.tx)("community.seller.view_stripe_dashboard"))),l.createElement("button",{className:"profile_resources_grid--blueLink--WjRaq blue_link--blueLink--9rlnd",onClick:()=>{a((0,eY.to)({type:gK,data:{}}))}},(0,k.tx)("community.seller.view_payout_statements"))):l.createElement("div",{className:Ec},l.createElement("button",{className:"profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",disabled:n,onClick:m},l.createElement("div",{className:Et},n&&l.createElement("div",{className:Ea},l.createElement(tM.kt,{shouldMatchTextColor:!0})),l.createElement("div",null,f))),l.createElement("div",{className:"profile_resources_grid--creatorAgreement--seV1h text--fontPos11--2LvXf text--_fontBase--QdLsd"},g))}let f=(0,k.tx)("community.seller.set_up_stripe"),g=(0,k.tx)("community.seller.agree_to_figma_terms_of_service",{link:gq.Hl});n?f=(0,k.tx)("community.seller.stripe_loading_text"):r?.stripe_account_status===gG.P5.STARTED_ONBOARDING&&(f=(0,k.tx)("community.seller.finish_stripe_setup_button"));let E="profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",h="profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd",v=(0,k.tx)("community.seller.resource_metrics_coming_soon"),y=(0,k.tx)("community.seller.working_on_bringing_you_more_in_depth_metrics");r?.stripe_account_status!==gG.P5.ENABLED&&(E="profile_resources_grid--metricValueDisabled--mYlXF profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",h="profile_resources_grid--metricLabelDisabled--dTvu- profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd");let b=e.length>0,w=e.reduce((e,t)=>e+(t.view_count||0),0);return v=(0,k.tx)("community.seller.youre_all_set_up_to_sell_on_community"),y=r?.cmty_seller_capabilities?.includes(gG.D6.FILE)?(0,k.tx)("community.seller.to_publish_your_first_resource"):(0,k.tx)("community.seller.to_publish_your_first_extension"),r?.stripe_account_status!==gG.P5.ENABLED&&(v=(0,k.tx)("community.seller.resources_youre_selling_will_appear_here"),y=(0,k.tx)("community.seller.well_show_you_stripe_metrics")),l.createElement("div",{className:"profile_resources_grid--profileMetricsTabOuterContainer--d-PPR"},l.createElement("div",{className:"profile_resources_grid--stripeBannerContainer--xRX1g"},l.createElement(l7.S,{isFirstTimeLoading:o})),(()=>{let e=l.createElement(Ev,null,l.createElement(_,null));if((0,p.kc)().cmty_m10n_turn_creator_dash_off||"loading"===d.status)return e;if("loaded"!==d.status||d.errors?.length)return a(a0.F.enqueue({message:(0,k.t)("community.actions.unable_to_load_creator_stats"),error:!0})),e;{let e=d.data.userMonetizationMetadata?.stripeCmtyCreatorStatsMeta,t={num_purchases:e?.numPurchases||e?.num_purchases||0,all_time_total_earned:e?.allTimeTotalEarned||e?.all_time_total_earned||0};return l.createElement(Ey,{totalViewCount:w,metricValueStyle:E,metricLabelStyle:h,totalPurchases:t[gG.VU.NUM_PURCHASES],totalEarned:(0,ss.up)(t[gG.VU.ALL_TIME_TOTAL_EARNED])},l.createElement(_,null))}})(),l.createElement("div",{className:"profile_resources_grid--divider--GZynB"}),b?l.createElement(EB,{paidResources:e}):l.createElement("div",{className:En},l.createElement("div",{className:"profile_resources_grid--profileMetricsStatsEmptyStateIcon--DvLAr"},l.createElement(EU,null)),l.createElement("div",{className:Ei},v),l.createElement("div",{className:Eo},y)))}var EH=a(239671),EW=a(217288);let Ej=(0,eh.r1)(it.cX);function E$({profile:e}){let[t,a]=l.useState(!1),r=(0,ef.md)(Ej),n=(0,s.wA)();if(t||r.data)return l.createElement(l.Fragment,null);let i=l.createElement("div",null,(0,k.tx)("community.profile.creator_banner.you_can_now_add_image_and_video_previews"),l.createElement(ez.L0,{href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",trackingProperties:{profileId:e.id},target:"_blank"},(0,k.tx)("community.learn_more"))),o={id:_y.om.CommunityResourceCreatorBanner,bannerType:_y.x1.INFO,icon:EW.A,iconSize:"large",mainText:(0,k.t)("community.profile.creator_banner.lets_spruce_things_up"),description:i,dismissible:!0,positionStatic:!0};return l.createElement(ez.fu,{name:"Profile Creator Upsell Banner",properties:{name:"profile_creator_upsell_banner",profileId:e.id}},l.createElement(_v.C,{content:o,editorType:EH.nT.Design,onDismiss:()=>{n(t9.b({[it.cX]:!0})),a(!0),(0,el.sx)("cmty_profile_creator_upsell_banner_dismissed",{profileId:e.id})}}))}var EG=a(560718),EY=a(688734),Ez=(e=>(e.COPY_LINK="Copy profile link",e.RESTRICT_USER="Restrict user",e.UNRESTRICT_USER="Unrestrict user",e))(Ez||{});let EQ=e=>{switch(e){case"Copy profile link":return(0,k.t)("community.profiles.copy_profile_link");case"Restrict user":return(0,k.t)("community.profiles.restrict_user");case"Unrestrict user":return(0,k.t)("community.profiles.unrestrict_user");default:return""}};function EK(){let e=(0,s.wA)(),t=(0,e1.iZ)(),a=(0,s.d4)(e=>e.dropdownShown?.data?.profile),r=(0,s.d4)(e=>e.dropdownShown?.data?.targetRect);if(!a)return l.createElement(l.Fragment,null);let n=a.is_restricted_by_current_user,i=()=>{e(a3.lW({stringToCopy:`${window.location.origin}${(0,sm.bL)(a.profile_handle)}`}))},o=a=>{e(pY._8({blockedProfileId:a,profileId:t?.community_profile_id||"",onSuccess:()=>{e(a0.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{m(a)}}})),(0,el.sx)("comment_profile_restricted",{restricted_by_profile_id:t?.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},c=()=>{e((0,eY.to)({type:EY.H,data:{onBlock:()=>o(a.id),confirmationTitle:`Restrict ${a.name}?`,confirmButtonText:"Restrict"}}))},d=a=>{e(pY._8({blockedProfileId:a,profileId:t?.community_profile_id||"",onSuccess:()=>{e(a0.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{m(a)}}})),(0,el.sx)("comment_profile_restricted",{restricted_by_profile_id:t?.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},m=a=>{e(pY.dL({blockedProfileId:a,profileId:t?.community_profile_id||"",onSuccess:()=>{e(a0.F.enqueue({message:"Unrestricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{d(a)}}})),(0,el.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:t?.community_profile_id,unrestricted_profile_id:a,entry_point:"profile_page"})}}))},u=[{displayText:EQ("Copy profile link")}];return(t?.community_profile_id&&a.entity_type===cg.o1.USER&&(n?u.push({displayText:EQ("Unrestrict user")}):u.push({displayText:EQ("Restrict user")})),r)?l.createElement(aP.j,{dispatch:e,items:u,showPoint:!0,parentRect:r,onSelectItem:(e,t)=>{"Copy profile link"===e.displayText?i():"Restrict user"===e.displayText?c():"Unrestrict user"===e.displayText&&m(a.id)},minWidth:96}):null}EK.displayName="ProfileMoreActionsDropdown";var Eq=a(728859);function EZ(e){let t=(0,et.Um)(),a=l.useRef(null),r=!!(t&&t.type===EG.N9),n=(0,s.wA)(),i=l.useCallback(()=>{n(K.oB())},[n]);return l.useEffect(()=>(window.addEventListener("scroll",i,!1),()=>{window.removeEventListener("scroll",i,!1)}),[i]),l.createElement("div",null,l.createElement(eF.K0,{svg:Eq.A,ref:a,onClick:r=>{r.stopPropagation();let o=a.current;t?i():o&&n(K.j7({type:EG.N9,data:{profile:e.profile,targetRect:o.getBoundingClientRect()}}))},className:r?"profile_more_actions_button--iconButtonSelected--d85bU profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":"profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6","data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("community.profiles.profile_actions")}),r&&l.createElement(EK,null))}EZ.displayName="ProfileMoreActionsButton";var EX=a(183297),EJ=a(708389);let E0=new class{constructor(){this.CommunityResourceSavesSchemaValidator=(0,cB.ch)(),this.getCommunityResourceSaves=e=>this.CommunityResourceSavesSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resource_saves",cB.td.toAPIParameters(e))),this.CommunityUserResourceInstallsSchemaValidator=(0,cB.ch)(),this.getCommunityUserResourceInstalls=e=>this.CommunityUserResourceInstallsSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resources/installed/user",cB.td.toAPIParameters(e))),this.ProfileHasLikesSchemaValidator=(0,cB.vh)(),this.profileHasLikes=()=>this.ProfileHasLikesSchemaValidator.validate(async({xr:e})=>await e.get("/api/profile/has_likes"))}},E1=EJ.f.byProperty("saved_at",EJ.f.BY_DATETIME);function E2(){let[e,t]=l.useState([]),[a,r]=l.useState([]),[n,i]=l.useState([]),[o,s]=l.useState([]),[c,d]=l.useState(void 0),[m,_]=l.useState(void 0),[p,f]=l.useState(!1),[g,E]=l.useState(!1),h=o=>{Promise.all([v(o),y(o)]).then(([l,c])=>{let d=l?.meta.hub_files||[],m=c?.meta.plugins||[],u=c?.meta.widgets||[],_=e,p=a,f=n;o?.reset&&(_=[],p=[],f=[]);let{mergedResults:g,unmergedResultsList:[E,h,v]}=(0,EX.n0)([[..._,...d],[...p,...m],[...f,...u]],E1);o?.reset?s(g):s(e=>[...e,...g]),t(E),r(h),i(v)})},v=e=>{let t=c;if(e?.reset&&(t=void 0),null!==t&&!p)return f(!0),E0.getCommunityResourceSaves({cursor:t,pageSize:30}).then(e=>(d(e.data.pagination.nextPage),e.data)).finally(()=>{f(!1)})},y=e=>{let t=m;if(e?.reset&&(t=void 0),null!==t&&!g)return E(!0),E0.getCommunityUserResourceInstalls({cursor:t,pageSize:30}).then(e=>(_(e.data.pagination.nextPage),e.data)).finally(()=>{E(!1)})};(0,u.h)(()=>{h()});let b=p||g;return l.createElement(l.Fragment,null,l.createElement("div",{className:g6},l.createElement("div",{className:g7},b||0!==o.length?l.createElement(cf,{adtlClassName:cp("profile"),resources:o,viewContext:"ProfileSavesView",showMoreCallback:h}):l.createElement("div",{className:"profile_resources_grid--emptySavesTabContainer--4oQx-"},l.createElement(E8,null)),l.createElement("div",{className:"profile_resources_grid--loadingMoreContainer--jp4W1 profile_resources_grid--loadingContainer--hsPEQ"},b&&l.createElement(tM.kt,null)))))}function E4(){return l.createElement("svg",{width:"86",height:"126",viewBox:"0 0 86 126",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.1772 97.1417L43 94.6L39.8228 97.1417L38.5735 95.58L43 92.0388L47.4266 95.58L46.1772 97.1417ZM36.6457 99.6835L35.3963 98.1217L29.042 103.205L30.2914 104.767L36.6457 99.6835ZM27.1142 107.309L25.8648 105.747L19.5105 110.83L20.7599 112.392L27.1142 107.309ZM17.5827 114.934L16.3333 113.372L9.97901 118.456L11.2284 120.017L17.5827 114.934ZM8.05125 122.559L6.80185 120.997L3.62469 123.539C2.96993 124.063 2 123.597 2 122.758V118.933H0V122.758C0 125.274 2.90979 126.672 4.87408 125.101L8.05125 122.559ZM0 115.108H2V107.457H0V115.108ZM0 103.632H2V95.9812H0V103.632ZM0 92.156H2V84.5054H0V92.156ZM0 80.6801H2V73.0296H0V80.6801ZM0 69.2043H2V61.5538H0V69.2043ZM0 57.7285H2V50.078H0V57.7285ZM0 46.2527H2V38.6022H0V46.2527ZM0 34.7769H2V27.1263H0V34.7769ZM0 23.3011H2V15.6505H0V23.3011ZM0 11.8253H2V8C2 6.90362 2.29224 5.88157 2.80175 5.00098L1.07063 3.99936C0.389718 5.1762 0 6.54259 0 8V11.8253ZM3.99936 1.07063L5.00097 2.80175C5.88157 2.29224 6.90362 2 8 2H11.8889V0H8C6.54259 0 5.1762 0.389719 3.99936 1.07063ZM15.7778 0V2H23.5556V0H15.7778ZM27.4444 0V2H35.2222V0H27.4444ZM39.1111 0H46.8889V2H39.1111V0ZM50.7778 0V2H58.5556V0H50.7778ZM62.4444 0V2H70.2222V0H62.4444ZM74.1111 0V2H78C79.0964 2 80.1184 2.29224 80.999 2.80175L82.0006 1.07063C80.8238 0.389718 79.4574 0 78 0H74.1111ZM84.9294 3.99936L83.1983 5.00097C83.7078 5.88157 84 6.90362 84 8V11.8253H86V8C86 6.54259 85.6103 5.1762 84.9294 3.99936ZM86 15.6505H84V23.3011H86V15.6505ZM86 27.1264H84V34.7769H86V27.1264ZM86 38.6022H84V46.2527H86V38.6022ZM86 50.078H84V57.7285H86V50.078ZM86 61.5538H84V69.2043H86V61.5538ZM86 73.0296H84V80.6802H86V73.0296ZM86 84.5054H84V92.156H86V84.5054ZM86 95.9812H84V103.632H86V95.9812ZM86 107.457H84V115.108H86V107.457ZM86 118.933H84V122.758C84 123.597 83.0301 124.063 82.3753 123.539L79.1981 120.997L77.9488 122.559L81.1259 125.101C83.0902 126.672 86 125.274 86 122.758V118.933ZM74.7716 120.017L76.021 118.456L69.6667 113.372L68.4173 114.934L74.7716 120.017ZM65.2401 112.392L66.4895 110.83L60.1352 105.747L58.8858 107.309L65.2401 112.392ZM55.7086 104.767L56.958 103.205L50.6037 98.1217L49.3543 99.6835L55.7086 104.767Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 49V60H44V49H55V47H44V36H42V47H31V49H42Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}))}function E8(){return l.createElement("div",{className:S.cx.flex.itemsCenter.flexColumn.gap16.$},l.createElement(E4,null),l.createElement("div",{className:S.cx.flex.flexColumn.gap8.alignCenter.$},l.createElement("h2",{className:S.cx.font14.fontMedium.$},(0,k.tx)("community.saves.no_saves_title")),l.createElement("p",{className:S.cx.font11.$},(0,k.tx)("community.saves.no_saves_subtitle"))),l.createElement(tO.nR,{target:"_blank",onClick:()=>{m.Ay.push("/community")}},(0,k.tx)("community.explore_resources")))}var E3=a(348425),E5=a(306665),E9=a(26096),E6=a(327115);class E7 extends l.Component{constructor(){super(...arguments),this.getProfileLink=()=>{if(this.props.profile&&this.props.profile.profile_handle)return`figma.com/@${this.props.profile.profile_handle}`;let e=this.props.profile.id;return`figma.com/profile/${e}`},this.getProfileLinkText=()=>{let e=this.getProfileLink(),t=l.createElement(tO.N_,{href:`https://${e}`,className:E5.nf,trusted:!0},e);return this.props.profile.primary_user_id?(0,k.tx)("community.profiles.your_profile_is_visible_to_the_public_at",{link:t}):this.props.profile.entity_type===cg.o1.TEAM?(0,k.tx)("community.profiles.your_teams_profile_is_visible_to_the_public_at",{link:t}):this.props.profile.entity_type===cg.o1.ORG?(0,k.tx)("community.profiles.your_organizations_profile_is_visible_to_the_public_at",{link:t}):void 0}}render(){return this.props.profile?l.createElement("div",{className:this.props.className||""},l.createElement("div",{className:E5.cI},l.createElement(E3.t,{svg:E9.A,fallbackSvg:E6.A,useOriginalSrcFills_DEPRECATED:!0,className:E5.q3}),l.createElement("span",{className:E5._M},this.getProfileLinkText()))):null}}E7.displayName="PublicProfileBanner";var he=a(754961),ht=a(573812);let ha=(0,iL.jz)(i4.d8i),hr=(0,iL.jz)(i4.wOr);function hn(e){let{canEdit:t,canSellOnCommunity:a}=e,r=(0,e1.iZ)(),n=l.useCallback(()=>{if(r)return(0,gT.tx)(r)},[r]);return r&&t?l.createElement(l.Fragment,null,a?l.createElement("div",{role:"link",tabIndex:0,onClick:n,className:Em},(0,k.tx)("community.profiles.contact_creator_support")):l.createElement("div",{className:"profile_resources_grid--sellOnCommunity--7r6cV"},l.createElement(tO.CY,{href:"https://www.figma.com/community-creators",className:Em,target:"_blank",trusted:!0},(0,k.tx)("community.profiles.interested_in_selling_your_resources")))):l.createElement(l.Fragment,null)}function hi(e){let{updateProfile:t,canEdit:a,isViewingCurrentUserProfile:r,showFollowsModal:n}=e,i=(0,gw.t)(e.profile.id),o=(0,iy.si)(i),s=(0,p.kc)().cmty_deprecate_browse_as_admin?o:a;return i?l.createElement(ho,{profile:i,canEdit:s,updateProfile:t,isViewingCurrentUserProfile:r,showFollowsModal:n}):l.createElement(l.Fragment,null)}function ho(e){let{profile:t,canEdit:a,updateProfile:r,isViewingCurrentUserProfile:n}=e,i=e.profile.name,o=t.profile_handle||null,s=e=>a=>{e in t&&t[e]!==a&&r({[e]:a})},c=(a||t.description)&&l.createElement(gv,{value:t.description||"",placeholder:(0,k.t)("community.profiles.add_a_description"),className:a?g4:g8,submit:s("description"),formatter:gh,readOnly:!a,maxLength:160}),d=(a||t.location)&&l.createElement(gv,{value:t.location||"",placeholder:(0,k.t)("community.profiles.add_a_location"),className:a?g4:g8,submit:s("location"),readOnly:!a,maxLength:30}),m=(a||t.website)&&l.createElement(gv,{value:t.website||"",placeholder:(0,k.t)("community.profiles.add_website_url"),className:a?g4:g8,submit:s("website"),formatter:gh,readOnly:!a,maxLength:100}),u=(a||t.twitter)&&l.createElement(gv,{value:t.twitter||"",placeholder:(0,k.t)("community.profiles.add_x_handle"),className:a?g4:g8,submit:s("twitter"),formatter:e=>so.HD.test(e)?gh(`https://twitter.com/${e}`):gh(e),readOnly:!a,maxLength:100}),_=(a||t.instagram)&&l.createElement(gv,{value:t.instagram||"",placeholder:(0,k.t)("community.profiles.add_instagram_handle"),className:a?g4:g8,submit:s("instagram"),formatter:e=>so.Co.test(e)?gh(`https://www.instagram.com/${e}`):gh(e),readOnly:!a,maxLength:100}),p=l.createElement(gk.W,{profile:t,followClassName:"profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",followingClassName:"profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",unfollowClassName:"profile_resources_grid--unfollowButton--MmYUn profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{viewingProfileId:t.id}}),f=(0,d7.$M)(t.follower_count),g=(0,d7.$M)(t.following_count),E=l.createElement("div",{className:"profile_resources_grid--followsDataContainer--TnbJI"},l.createElement("div",{className:B()(g3,{[g5]:!0}),onClick:()=>e.showFollowsModal(sm.g3.FOLLOWERS)},(0,k.tx)("community.profiles.follower_count",{followerCount:f,formattedFollowerCount:l.createElement("span",{className:g9},f)})),t.primary_user_id&&l.createElement("div",{className:B()(g3,{[g5]:!0}),onClick:()=>e.showFollowsModal(sm.g3.FOLLOWING)},(0,k.tx)("community.profiles.following_count",{followingCount:l.createElement("span",{className:g9},g)}))),h=l.createElement("div",{className:"profile_resources_grid--profileDataHandleAndFollow--6kpYs"},l.createElement("div",{className:"profile_resources_grid--profileDataHandle--DB20D"},"@",o),t.current_user_is_followed&&l.createElement(mC.v_,null)),v=l.createElement(EZ,{profile:t}),y=n?null:l.createElement("div",{className:"profile_resources_grid--followMoreActionsContainer--uQNdm"},p,v),b=l.createElement(hn,{canEdit:a,canSellOnCommunity:(0,so.kf)(t)});return l.createElement("div",null,l.createElement("h1",{className:"profile_resources_grid--profileDataName--xw46b text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},l.createElement(gy.G,{truncate:"end",text:i,className:"profile_resources_grid--profileNameText--WdY6t"}),l.createElement(gb.l,{profile:t,tooltip:!0})),o&&h,y,c,E,d,m,u,_,b)}(e=>{class t extends l.Component{constructor(e){super(e),this.isLoading=()=>null===this.props.resources,this.redirectToLanding=()=>{m.Ay.push("/community")},this.filterPaidResources=e=>!!e.monetized_resource_metadata,this.state={didFetchFail:!1,isLoadingStripe:!1}}componentDidUpdate(){this.props.tab===sm.g3.SAVES&&this.props.authedActiveCommunityProfileId!==this.props.profile.id&&this.props.dispatch(K.$T({...this.props.currentSelectedView,profileTab:sm.g3.RESOURCES}))}renderEmptyState(){return l.createElement("div",{className:En},l.createElement(j.B,{svg:he.default,useOriginalSrcFills_DEPRECATED:!0}),l.createElement("div",{className:Ei},(0,k.t)("community.profiles.nothing_published_yet")),l.createElement("div",{className:Eo},(0,k.t)("community.profiles.see_whats_being_created_in_figma")),l.createElement(tO.nR,{target:"_blank",onClick:this.redirectToLanding},(0,k.tx)("community.profiles.explore")))}render(){let e=[sm.g3.RESOURCES,sm.g3.FOLLOWERS,sm.g3.FOLLOWING,sm.g3.METRICS].includes(this.props.tab)?this.props.resources:[],t=((0,p.kc)().cmty_rdp_creator_nudge_email||(0,p.kc)().cmty_rdp_creator_modal)&&this.props.authedActiveCommunityProfileId===this.props.profile.id;return this.props.tab===sm.g3.METRICS?l.createElement(gi.x,{isLoading:this.isLoading(),className:g6},()=>((0,x.B1)(e),l.createElement(EV,{paidResources:e.filter(this.filterPaidResources),primaryUserId:this.props.profile.primary_user_id}))):this.props.tab===sm.g3.SAVES?l.createElement(E2,null):l.createElement(gi.x,{isLoading:this.isLoading(),className:g6},()=>((0,x.B1)(e),e.length>0)?l.createElement("div",{className:g7},t&&l.createElement("div",{className:"profile_resources_grid--profileResourcesGridBanner--6L4qI"},l.createElement(E$,{profile:this.props.profile})),l.createElement(cf,{adtlClassName:cp("profile"),resources:e,viewContext:e7.e0.COMMUNITY_HUB_PROFILE})):this.renderEmptyState())}}t.displayName="PublicProfileResourcesGrid",e.ConnectedPublicProfileResourcesGrid=(0,s.Ng)((e,t)=>{let a=t.profile;return{currentUser:"user"in e?e.user:null,isWithinProfileScope:(0,iy.E1)(a,e),currentOrgId:"currentUserOrgId"in e?e.currentUserOrgId:null,authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile?.id??null:null,currentSelectedView:"selectedView"in e?e.selectedView:null}})(t);let a=e=>{let t=e.current_hub_file_version_id?e.current_hub_file_version_id:e.current_plugin_version_id||"";return e.versions[t].created_at},r=rl.M4.Query({fetch:async e=>{let{profileId:t}=e,[a,r,n,i,o]=await Promise.all([gC.H.getProfile({profileId:t}),gx.V.getProfile({profileId:t,currentOrgId:void 0}),gN.U.getProfile({profileId:t,currentOrgId:void 0}),(0,py.UM)(t),(0,py.Jr)(t)]);return{hubFiles:a.data.meta,pluginsAndWidgets:[...r.data.meta,...n.data.meta,...i,...o]}},output:e=>{let{profileId:t,currentOrgId:r}=e.args,n=(0,dw.$2)((0,dw.i8)(e.data.pluginsAndWidgets),r),i=Object.values((0,dw.xK)(n,t)),o=(0,gI.uj)(e.data.hubFiles,t);return(0,V.GK)([...o,...i],a)}});e.PublicProfileResourcesGrid=function(t){let a=(0,eX.dq)(),[n]=(0,rl.IT)(r({profileId:t.profile.id,currentOrgId:a}));return l.createElement(e.ConnectedPublicProfileResourcesGrid,{...t,resources:n.data})}})(i||(i={}));let hl=i.PublicProfileResourcesGrid;(e=>{class t extends l.Component{constructor(){super(...arguments),this.updateProfile=e=>{this.props.dispatch(pY.aP({profileId:this.props.profileId,...e}))},this.onFilesPluginsTabClick=()=>{(0,el.sx)("Profile Resources Tab Clicked",{tabName:"resources",profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),this.props.dispatch(K.$T({...this.props.currentSelectedView,profileTab:sm.g3.RESOURCES}))},this.onMetricsTabClick=()=>{(0,el.sx)("Profile Resources Tab Clicked",{tabName:"metrics",profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),(0,ak.YQ)({id:"profile-metrics-tab-clicked"}),this.props.dispatch(K.$T({...this.props.currentSelectedView,profileTab:sm.g3.METRICS}))},this.onSavesTabClick=()=>{(0,ak.YQ)({id:"cmty-profile-saves"}),(0,el.sx)("Profile Resources Tab Clicked",{tabName:sm.g3.SAVES,profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),this.props.dispatch(K.$T({...this.props.currentSelectedView,profileTab:sm.g3.SAVES}))},this.showFollowsModal=e=>{this.props.dispatch(K.$T({...this.props.currentSelectedView,profileTab:e}))}}render(){let e=l.createElement(hl,{...this.props,tab:this.props.profileTab}),t=this.props.profile.primary_user_id&&this.props.authedActiveCommunityProfileId===this.props.profile.id?l.createElement(l.Fragment,null,l.createElement("button",{className:B()(gX,gJ,{[g1]:this.props.profileTab===sm.g3.SAVES}),onClick:this.onSavesTabClick,tabIndex:0,"data-onboarding-key":"cmty-profile-save-tab"},(0,k.tx)("community.profiles.saved"),l.createElement(j.B,{svg:ht.A,className:Eu,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("community.only_visible_to_you")}))):l.createElement(l.Fragment,null),a=l.createElement("div",{className:"profile_resources_grid--profileDataContainer--e4QVX text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(hi,{profile:this.props.profile,canEdit:this.props.canEdit,updateProfile:this.updateProfile,isViewingCurrentUserProfile:this.props.authedActiveCommunityProfileId===this.props.profile.id,showFollowsModal:this.showFollowsModal}),this.props.isWithinProfileScope&&this.props.communityStatusOnProfile!==gs.Cw.ADMIN_IN_DIFFERENT_WORKSPACE&&l.createElement(iA.z,{query:`(min-width: ${hr}px)`},l.createElement(E7,{profile:this.props.profile,className:Es})),!this.props.isWithinProfileScope&&l.createElement(gS.H,{profile:this.props.profile,className:Es})),r=!!(this.props.isWithinProfileScope&&(0,so.af)(this.props.currentUser))||!!(0,p.kc)().cmty_expand_extension_m10n&&!!this.props.profile.associated_users?.find(e=>e.user_id===this.props.currentUser?.id&&!0===e.is_primary_user),n=l.createElement(gO,{user:this.props.currentUser},l.createElement("div",{className:gZ},l.createElement("div",{className:B()(gX,gJ,{[g1]:this.props.profileTab===sm.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.profiles.resources")),t,r&&l.createElement(ez.fu,{name:e7.e0.COMMUNITY_PROFILE_METRICS_TAB},l.createElement("div",{className:g0},l.createElement("div",{className:B()(gX,gJ,g2,{[g1]:this.props.profileTab===sm.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.seller.profiles.metrics"),l.createElement(j.B,{svg:ht.A,className:Eu,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("community.only_visible_to_you")})))))),i=l.createElement("div",{className:gZ},l.createElement("div",{className:B()(gX,gJ,{[g1]:this.props.profileTab===sm.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.profiles.resources")),t,r&&l.createElement(ez.fu,{name:e7.e0.COMMUNITY_PROFILE_METRICS_TAB},l.createElement(gD.p,null,l.createElement(gH,{onboardingKey:gA})),l.createElement("div",{className:g0},l.createElement("div",{className:B()(gX,gJ,g2,{[g1]:this.props.profileTab===sm.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},l.createElement("span",{"data-onboarding-key":gA},(0,k.tx)("community.seller.profiles.metrics")),l.createElement(j.B,{svg:ht.A,className:Eu})))));return l.createElement(l.Fragment,null,l.createElement(iA.z,{query:`(min-width: ${ha}px)`},i,l.createElement("div",{className:Er},a,e)),l.createElement(iA.z,{query:`(max-width: ${ha-1}px)`},l.createElement("div",{className:Er},a,n,e)))}}t.displayName="PublicProfileResourcesGridAndData",e.ConnectedPublicProfileResourcesGridAndData=(0,s.Ng)((e,t)=>{let a=t.profile,r=sm.g3.RESOURCES,n=!1;if("selectedView"in e){let t=e.selectedView?.profileTab;n=(0,iy.E1)(a,e),t&&(t!==sm.g3.METRICS||n)&&(r=t)}return{profileId:a.id,currentUser:"user"in e?e.user:null,canEdit:(0,iy.jG)(a,e),isWithinProfileScope:n,currentSelectedView:"selectedView"in e?e.selectedView:null,profileTab:r,communityStatusOnProfile:(0,gs.kJ)(e,a),authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile?.id??null:null}})(t)})(o||(o={}));let hs=o.ConnectedPublicProfileResourcesGridAndData;function hc({currentUser:e,currentSelectedView:t,authedActiveCommunityProfileId:a,currentProfile:r,dispatch:n}){let i=(0,df.S)(t?.profileTab,hm);return l.useEffect(()=>{if(r&&i)return n((0,eY.to)({type:gl.w,data:{currentSelectedView:t,profile:r,currentUserProfileId:e?.community_profile_id||null,authedActiveCommunityProfileId:a,dispatch:n}})),()=>{n(eY.Ce())}},[a,i,r,t,e?.community_profile_id,n]),l.createElement(gi.x,{className:"community_hub_public_profile--loadingContainer--GUi6s",isLoading:!r},()=>l.createElement(ez.fu,{name:e7.e0.COMMUNITY_HUB_PROFILE,properties:{handle:r.profile_handle,profileId:r.id}},l.createElement("div",{className:e?"community_hub_public_profile--signedInProfileContainer--8jWX9":"community_hub_public_profile--signedOutProfileContainer--nIxAf"},l.createElement("div",null,l.createElement(g_,{profile:r}),l.createElement(hs,{profile:r})),!(0,d.y3)()&&l.createElement("div",{className:"community_hub_public_profile--footerContainer--L38Gh"},l.createElement(c1,null)),l.createElement(dA.Ay,null))))}hc.displayName="CommunityHubProfile";let hd=(0,s.Ng)(e=>({currentUser:"user"in e?e.user:null,currentSelectedView:"selectedView"in e?e.selectedView:null,authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile?.id??null:null}))(hc),hm=gn()(sm.g3,["FOLLOWERS","FOLLOWING"]),hu=rl.M4.Query({fetch:async e=>(await go.s.getHandle({handle:e})).data.meta});function h_(){let{profileHandle:e}=(0,_A.Rd)(sm.xn),[t]=(0,rl.IT)(hu(e)),a=(0,s.wA)();return l.useEffect(()=>{"errors"===t.status&&(404===t.errors.status&&m.Ay.redirect("/404"),a($.s.error((0,k.t)("community.actions.error_fetching_profile_information"))))},[a,t]),l.createElement(hd,{currentProfile:t.data?.profile??null})}var hp=a(30970);function hf({category:e,rdpImpressionId:t}){let a=(0,c$.N)(`(max-width: ${i4._C6})`),{parent_category:r}=e||{parent_category:null},n=(0,df.S)(r?.url_slug,cq.LJ),i=(0,df.S)(e.url_slug,cq.LJ),o=!!t,s=[r&&n&&{text:(0,k.Yd)(r.i18n_meta.title,r.title),linkProps:{to:new cZ.IE({categorySlug:n}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:n,category_text:r.title,rdpImpressionId:t,is_mobile:a}}},i&&{text:(0,k.Yd)(e.i18n_meta.title,e.title),linkProps:{to:new cZ.IE({categorySlug:i}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:i,category_text:e.title,rdpImpressionId:t,is_mobile:a}}}].filter(Boolean);return l.createElement(cz,{breadcrumbs:s,surface:o?"resource":"category"})}function hg({category:e,showTags:t=!1}){let a=(0,df.S)(e.url_slug,cq.LJ);if(!a||e.selected_tag)return null;let r=t?e.tags.map(e=>({to:new cZ.IE({categorySlug:a}).href+`/${e.url_slug}`,title:e.text,translatedTitle:(0,k.Yd)(e.i18n_meta.text,e.text),urlSlug:e.text})):e.child_categories?e.child_categories.filter(e=>(0,df.N)(e.url_slug,cq.LJ)&&"other"!==e.title.toLowerCase()).map(e=>({to:new cZ.IE({categorySlug:e.url_slug}).href,title:e.title,translatedTitle:(0,k.Yd)(e.i18n_meta.title,e.title),urlSlug:e.url_slug})):[];return 0===r.length?null:l.createElement("div",{className:"category_links_container--subcategoriesContainer--6e1tK"},r.map(({to:e,title:a,translatedTitle:r,urlSlug:n})=>l.createElement(ez.o3,{key:e,trackingEventName:"cmty_category",trackingProperties:{name:t?"tag_link_clicked":"subcategory_link_clicked",category_slug:n,text:a,to:e},to:e,className:"category_links_container--subcategory--Wzmn3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},r)))}var hE=a(890710);function hh({categorySlug:e,category:t,isTagsEnabled:a,isFeedPage:r=!1}){let n=(0,c$.N)(`(max-width: ${i4._C6})`),{parent_category:i}=t||{parent_category:null},o=(0,df.S)(i?.url_slug,cq.LJ),s=r&&i&&o;return t?l.createElement("div",{className:"category_banner--categoryBannerRedesign--Ri6Fg"},l.createElement("div",{className:B()("category_banner--headerContainer--Wysim","category_banner--breadcrumbsPadding--o8hp4")},l.createElement(hf,{category:t}),l.createElement("div",{className:B()("category_banner--categoryHeaderRedesign--NN5On text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",{[S.cx.flexColumn.$]:n})},s&&l.createElement(l.Fragment,null,l.createElement(ez.o3,{to:new cZ.IE({categorySlug:o}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:i.url_slug,from_category_slug:e,is_mobile:n},className:"category_banner--categoryBannerParent--bx7AV"},n?l.createElement("div",{className:"category_banner--mobileBackButton--hZ3hI"},l.createElement(j.B,{svg:hE.A,style:{fill:(0,_j.TD)("default")}})):(0,k.Yd)(i.i18n_meta.title,i.title)),!n&&l.createElement(j.B,{svg:f1.A,style:{fill:(0,_j.TD)("default")}})),l.createElement("h1",null,function(e){let t=e.selected_tag,a=t?.i18n_meta.h1_title||e.i18n_meta.title,r=t?.h1_title||e.h1_title||e.title;return(0,k.Yd)(a,r)}(t))),l.createElement("p",{className:"category_banner--categoryDescriptionRedesign--chvSi text--fontPos13--xW8hS text--_fontBase--QdLsd"},function(e){let t=e.selected_tag,a=t?.i18n_meta.description||e.i18n_meta.description,r=t?.description||e.description;return(0,k.Yd)(a,r)}(t))),l.createElement(hg,{category:t,showTags:a&&!!t.tags.length}),(0,p.kc)().piper_cmty_home_banner&&e===cq.LJ.presentations&&l.createElement("div",{className:"category_banner--categorySlidesPromoBanner--itNB4"},l.createElement(f3,null))):null}function hv({category:e}){return e&&e.extended_description?l.createElement("div",{className:"category_extended_description--extendedDescriptionContainer--TTPGo"},l.createElement("div",{className:"category_extended_description--title--hucIj text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.tx)("categories.about")),l.createElement("p",{className:"category_extended_description--extendedDescription--KngAg text--fontPos13--xW8hS text--_fontBase--QdLsd"},function(e){let t=e.selected_tag,a=t?.i18n_meta.extended_description||e.i18n_meta.extended_description,r=t?.extended_description||e.extended_description;return(0,k.Yd)(a,r)}(e))):null}var hy=a(927092),hb=a(117688),hw=a(236705),hT=a(83958);let hI={files:hb.A,plugins:hw.A,widgets:hT.A,profiles:hy.A,mixed:he.default};function hC(e){if(e.isError)return null;let t=l.createElement("span",{className:"empty_search_state--bold--s4eFD"},e.query);switch(e.resourceType){case p8.L.SearchResourceTypes.FILES:if(e.view.price===p2.C.FREE)return(0,k.tx)("community.search.empty_state_hub_files_free",{query:t});if(e.view.price===p2.C.PAID)return(0,k.tx)("community.search.empty_state_hub_files_paid",{query:t});return(0,k.tx)("community.search.empty_state_hub_files",{query:t});case p8.L.SearchResourceTypes.PLUGINS:if(e.view.price===p2.C.FREE)return(0,k.tx)("community.search.empty_state_public_plugins_free",{query:t});if(e.view.price===p2.C.PAID)return(0,k.tx)("community.search.empty_state_public_plugins_paid",{query:t});return(0,k.tx)("community.search.empty_state_public_plugins",{query:t});case p8.L.SearchResourceTypes.WIDGETS:if(e.view.price===p2.C.FREE)return(0,k.tx)("community.search.empty_state_public_widgets_free",{query:t});if(e.view.price===p2.C.PAID)return(0,k.tx)("community.search.empty_state_public_widgets_paid",{query:t});return(0,k.tx)("community.search.empty_state_public_widgets",{query:t});case p8.L.SearchResourceTypes.PROFILES:return(0,k.tx)("community.search.empty_state_creators",{query:t});case p8.L.SearchResourceTypes.MIXED:default:if(e.view.price===p2.C.FREE)return(0,k.tx)("community.search.no_resources_matching_free",{query:t});if(e.view.price===p2.C.PAID)return(0,k.tx)("community.search.no_resources_matching_paid",{query:t});return(0,k.tx)("community.search.no_resources_matching",{query:t})}}function hx(e){return l.createElement("div",{className:"empty_search_state--emptyState--2TAUS search_results_view--emptyState--HtHm1 tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(j.B,{className:"empty_search_state--emptyStateIllustrations--BnydB search_results_view--emptyStateIllustrations--CN9Y8",svg:hI[e.resourceType],useOriginalSrcFills_DEPRECATED:!0}),l.createElement("div",{className:"empty_search_state--emptyStateTextWrapper--n2j3d search_results_view--emptyStateTextWrapper--zg-Cu"},l.createElement("div",{className:"empty_search_state--emptyStateText--Bv9hN search_results_view--emptyStateText---YT8b ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(hC,{...e}))))}var hN=a(592597);let hS="category_page--feedContainer--9f3SB text--fontPos15--IR8IB text--_fontBase--QdLsd",hk="category_page--feed--j1AWz text--fontPos13--xW8hS text--_fontBase--QdLsd",hL="category_page--footerContainer--RNpoP";function hA(e,t){return t===cq.LJ.presentations&&void 0===e.resource_type&&(e.editor_type=pa.k.Editors.SLIDES,e.resource_type=p8.L.BrowseResourceTypes.FILES),{resourceType:e.resource_type??p8.L.BrowseResourceTypes.MIXED,editorType:e.editor_type??pa.k.Editors.ALL,price:e.price??p2.C.ALL,sortBy:e.sort_by??(0,ph.H)()}}function hR(){var e;let t;let a=(0,sl.YQ)()(),{categorySlug:r,tagSlug:n}=(0,_A.Rd)(cZ.IE),i=(0,_A.vA)(cZ.IE),o=(0,l.useMemo)(()=>hA(i,r),[i,r]),{trackResourceImpression:c,flushAndResetResourceImpressions:u}=f6({extraProperties:{sort:i.sort_by,resourceType:i.resource_type}}),[_,p]=(0,l.useState)(!0),[f,g]=(0,l.useState)(!1),E=(0,c$.N)(`(max-width: ${i4.d8i})`),h=(0,c$.N)(`(max-width: ${i4.g8m})`),[v]=(0,rl.IT)((0,hN.Zp)({categorySlug:r,tagSlug:n})),[y]=(0,rl.IT)((0,hN.R5)(r));l.useEffect(()=>{u()},[r,u]);let b="loaded"!==v.status?null:v.data,w=n||"loaded"!==y.status?null:y.data,{resources:T,loadMore:I,canLoadMore:C,loading:x}=fE((e=b?.editor_types[0],{...o,category:r,tags:n,editorType:e||o.editorType,limit:48}),"loaded"===v.status),N=(0,l.useMemo)(()=>{let e=new Set;return w&&w.shelf_content.forEach(t=>{e.add(t.id)}),e},[w]),k=(0,l.useMemo)(()=>T.filter(e=>!N.has(e.id)),[T,N]),L=(0,l.useMemo)(()=>{let e=(w?.shelf_content??[]).filter(e=>"viewer_mode"in e||"is_widget"in e);return(0,so.o7)(e,{editor_type:o.editorType,price:o.price,resourceType:o.resourceType})},[w,o.editorType,o.price,o.resourceType]),A=(0,l.useMemo)(()=>[...L,...k],[L,k]),R=(0,l.useRef)(null),F=(0,s.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id));(0,l.useEffect)(()=>{x||(_&&p(!1),g(!1))},[_,x]);let P=b?.selected_tag?.meta_title||b?.meta_title;if((0,l.useEffect)(()=>{P&&(document.title=P+" | Figma")},[P]),!b)return null;if(_&&(x||"loading"===v.status||"loading"===y.status))return l.createElement("div",{className:S.cx.p10.$},l.createElement(c2.y$,null));let O=!x&&0===A.length,D=x&&!f,M=o.resourceType===p8.L.BrowseResourceTypes.PLUGINS&&(D||A.every(su.I0));return t=O?l.createElement(hx,{resourceType:o.resourceType,query:r,view:o}):M?l.createElement(fi,{plugins:A,onIntersectionChange:(e,t)=>{t&&c(e)},isOrgTeamBrowsing:F,isLoading:D}):l.createElement(ff,{resources:A,maxGridDim:{cols:h?2:E?3:4},mobileMaxGridDim:{cols:1},onIntersectionChange:(e,t)=>{t&&c(e)},isLoading:D,loadingTileCount:8}),l.createElement(l.Fragment,null,l.createElement(hh,{category:b,categorySlug:r,isTagsEnabled:a}),l.createElement("div",{className:hS},l.createElement(fa,{allowedEditorTypes:b.editor_types,containerRef:R,filterState:o,onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[e]=a});let a={...o,...t};b.editor_types[0]&&(a.editorType=b.editor_types[0]),m.Ay.replace(new cZ.IE({categorySlug:r,tagSlug:n},{resource_type:a.resourceType,editor_type:a.editorType,price:a.price}).href)},context:"category"}),l.createElement("div",{className:hk},t,C&&l.createElement(c8,{onClick:e=>{e.preventDefault(),I(),g(!0)},isLoading:f,isMoreToFetch:C}),l.createElement(hv,{category:b}),!(0,d.y3)()&&l.createElement("div",{className:hL},l.createElement(c1,null)))))}function hF(){let e;let t=(0,sl.YQ)()(),{categorySlug:a,tagSlug:r}=(0,_A.Rd)(cZ.IE),n=(0,_A.vA)(cZ.IE),i=(0,l.useMemo)(()=>hA(n,a),[n,a]),{trackResourceImpression:o,flushAndResetResourceImpressions:c}=f6({extraProperties:{sort:n.sort_by,resourceType:n.resource_type}}),[u,_]=(0,l.useState)(!0),[p,f]=(0,l.useState)(!1),g=(0,c$.N)(`(max-width: ${i4.d8i})`),E=(0,c$.N)(`(max-width: ${i4.g8m})`),[h]=(0,rl.IT)((0,hN.Zp)({categorySlug:a,tagSlug:r}));l.useEffect(()=>{c()},[a,c]);let v="loaded"!==h.status?null:h.data,[{data:y,status:b,hasNextPage:w},{fetchNextPage:T}]=(0,rl.IT)(fh.a.ResourcesPaginatedQuery({...fb(i),category:a,tags:r?[r]:void 0})),I="loading"===b,C=(0,l.useRef)(null),x=(0,s.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id));(0,l.useEffect)(()=>{I||(u&&_(!1),f(!1))},[u,I]);let N=v?.selected_tag?.meta_title||v?.meta_title;if((0,l.useEffect)(()=>{N&&(document.title=N+" | Figma")},[N]),!v)return null;if(u&&(I||"loading"===h.status))return l.createElement("div",{className:S.cx.p10.$},l.createElement(c2.y$,null));let k=!I&&y?.length===0,L=I&&!p,A=i.resourceType===p8.L.BrowseResourceTypes.PLUGINS&&(L||(y??[]).every(e=>e.resource_type===d4.vt.PLUGIN)),R=[];return A&&(R=(y??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e)),e=k?l.createElement(hx,{resourceType:i.resourceType,query:a,view:i}):A?l.createElement(fi,{plugins:R,onIntersectionChange:(e,t)=>{t&&o(e)},isOrgTeamBrowsing:x,isLoading:L}):l.createElement(ff,{resources:y??[],maxGridDim:{cols:E?2:g?3:4},mobileMaxGridDim:{cols:1},onIntersectionChange:(e,t)=>{t&&o(e)},isLoading:L,loadingTileCount:8}),l.createElement(l.Fragment,null,l.createElement(hh,{category:v,categorySlug:a,isTagsEnabled:t}),l.createElement("div",{className:hS},l.createElement(fa,{allowedEditorTypes:v.editor_types,containerRef:C,filterState:i,onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[e]=a});let n={...i,...t};v.editor_types[0]&&(n.editorType=v.editor_types[0]),m.Ay.replace(new cZ.IE({categorySlug:a,tagSlug:r},{resource_type:n.resourceType,editor_type:n.editorType,price:n.price}).href)},context:"category"}),l.createElement("div",{className:hk},e,w&&l.createElement(c8,{onClick:e=>{e.preventDefault(),T(),f(!0)},isLoading:p,isMoreToFetch:w}),l.createElement(hv,{category:v}),!(0,d.y3)()&&l.createElement("div",{className:hL},l.createElement(c1,null)))))}function hP(){let{categorySlug:e,tagSlug:t}=(0,_A.Rd)(cZ.IE);return l.createElement(ez.fu,{name:e7.e0.COMMUNITY_HUB_CATEGORY,properties:{category:e,tag:t}},(0,p.kc)().cmty_feed_resource_platform?l.createElement(hF,null):l.createElement(hR,null))}var hO=a(675551),hD=a.n(hO);let hM={All:({active:e})=>l.createElement("svg",{width:"19",height:"19",viewBox:"-1 -1 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e?l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM12 0C11.4477 0 11 0.447715 11 1V7C11 7.55228 11.4477 8 12 8H18C18.5523 8 19 7.55228 19 7V1C19 0.447715 18.5523 0 18 0H12Z",fill:"var(--color-icon-selected, #0D99FF)"}):l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM13 6V2H17V6H13ZM11 1C11 0.447715 11.4477 0 12 0H18C18.5523 0 19 0.447715 19 1V7C19 7.55228 18.5523 8 18 8H12C11.4477 8 11 7.55228 11 7V1Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Files:e=>l.createElement("svg",{width:"18",height:"23",viewBox:"0 0 18 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-0.000976562 0.00390625H11.4132L17.999 6.58969V22.0039H-0.000976562V0.00390625ZM1.99902 2.00391V20.0039H15.999V8.00391H9.99902V2.00391H1.99902ZM11.999 3.41812L14.5848 6.00391H11.999V3.41812Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Plugins:e=>l.createElement("svg",{width:"18",height:"24",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C7.12831 2 6 3.10615 6 4.29412C6 4.80364 6.18423 5.32346 6.52975 5.77907C6.86869 6.22599 6.8635 6.76903 6.69667 7.1662C6.52648 7.57138 6.10414 8 5.46502 8H1.99902V21.9961H16V19.6417C15.4694 19.8705 14.8924 20 14.2942 20C11.6161 20 10 17.5466 10 15C10 12.4534 11.6161 10 14.2942 10C14.8924 10 15.4694 10.1295 16 10.3583V8H12.535C11.8959 8 11.4735 7.57138 11.3033 7.1662C11.1365 6.76903 11.1313 6.22599 11.4703 5.77907C11.8158 5.32346 12 4.80364 12 4.29412C12 3.10615 10.8717 2 9 2ZM4 4.29412C4 1.61609 6.45341 0 9 0C11.5466 0 14 1.61609 14 4.29412C14 4.89237 13.8705 5.46938 13.6417 6H16.125C17.1605 6 18 6.83947 18 7.875V11.465C18 12.1041 17.5714 12.5264 17.1662 12.6966C16.769 12.8635 16.226 12.8687 15.7791 12.5297C15.3235 12.1842 14.8037 12 14.2942 12C13.1062 12 12 13.1283 12 15C12 16.8717 13.1062 18 14.2942 18C14.8037 18 15.3235 17.8158 15.7791 17.4703C16.226 17.1313 16.769 17.1365 17.1662 17.3034C17.5714 17.4736 18 17.8959 18 18.535V22.1211C18 23.1566 17.1605 23.9961 16.125 23.9961H1.87402C0.838488 23.9961 -0.000976562 23.1566 -0.000976562 22.1211V7.875C-0.000976562 6.83947 0.838488 6 1.87402 6H4.35834C4.12951 5.46938 4 4.89237 4 4.29412Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Widgets:e=>l.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.41421 10.5854L3.5146 8.485V5.51451V3.51451H5.5146H8.48509L10.5854 1.41421L11.9996 0L13.4138 1.41421L15.5141 3.51451H18.4846H20.4846V5.51451V8.485L22.585 10.5854L23.9992 11.9996L22.585 13.4138L20.4846 15.5142V18.4845V20.4845H18.4846H15.5143L13.4138 22.585L11.9996 23.9992L10.5854 22.585L8.48491 20.4845H5.5146H3.5146V18.4845V15.5142L1.41421 13.4138L0 11.9996L1.41421 10.5854ZM5.5146 8.485V5.51451H8.48509H9.31352L9.8993 4.92872L11.9996 2.82843L14.0999 4.92872L14.6857 5.51451H15.5141H18.4846V8.485V9.31343L19.0704 9.89921L21.1708 11.9996L19.0704 14.1L18.4846 14.6858V15.5142V18.4845H15.5143H14.6859L14.1001 19.0703L11.9996 21.1708L9.89912 19.0703L9.31334 18.4845H8.48491H5.5146V15.5142V14.6858L4.92882 14.1L2.82843 11.9996L4.92882 9.89921L5.5146 9.31343V8.485ZM13.2526 8.65802L13.9111 7.90544L12.4059 6.58843L11.7474 7.34101L8.24742 11.341L6.79623 12.9995H9H12.7962L10.7474 15.341L10.0889 16.0936L11.5941 17.4106L12.2526 16.658L15.7526 12.658L17.2038 10.9995H15H11.2038L13.2526 8.65802Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Union:e=>l.createElement("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 6C14 8.20914 12.2091 10 10 10C7.79086 10 6 8.20914 6 6C6 3.79086 7.79086 2 10 2C12.2091 2 14 3.79086 14 6ZM16 6C16 9.31371 13.3137 12 10 12C6.68629 12 4 9.31371 4 6C4 2.68629 6.68629 0 10 0C13.3137 0 16 2.68629 16 6ZM2.25203 22C3.14012 18.5495 6.27232 16 10 16C13.7277 16 16.8599 18.5495 17.748 22H2.25203ZM10 14C14.8379 14 18.8734 17.4355 19.8 22C19.9311 22.6462 20 23.3151 20 24H18H2H0C0 23.3151 0.0688605 22.6462 0.200036 22C1.12658 17.4355 5.16208 14 10 14Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"}))},hB="tag_and_search_header--tagOrSearchHeaderContainer--i-UIA text--fontPos16--oMC-G text--_fontBase--QdLsd",hU="tag_and_search_header--tagOrSearchHeaderInnerWrapper--Pb-dS",hV=(e,t)=>e.resourceType===p8.L.SearchResourceTypes.MIXED?(0,k.tx)("community.landing_page.query_header__mixed",{query:t}):e.resourceType===p8.L.SearchResourceTypes.PLUGINS?(0,k.tx)("community.landing_page.query_header__plugins",{query:t}):e.resourceType===p8.L.SearchResourceTypes.FILES?(0,k.tx)("community.landing_page.query_header__files",{query:t}):e.resourceType===p8.L.SearchResourceTypes.WIDGETS?(0,k.tx)("community.landing_page.query_header__widgets",{query:t}):e.resourceType===p8.L.SearchResourceTypes.PROFILES?(0,k.tx)("community.landing_page.query_header__profiles",{query:t}):(0,k.tx)("community.landing_page.query_header",{query:t});function hH({tags:e,view:t}){let a=hV(t,e.map(e=>l.createElement("strong",{key:e},"#",e)));return l.createElement("div",{className:hB},l.createElement("h1",{className:hU},a))}function hW({query:e,view:t,error:a}){return l.createElement("div",{className:B()({[hB]:!0,"tag_and_search_header--mobileSearchHeaderContainer--gWJWx":E.Ay.mobile})},l.createElement("h1",{className:hU},a?(0,k.tx)("community.error.could_not_complete_search",{error:l.createElement("strong",null,a)}):hV(t,l.createElement("strong",null,e))))}let hj={resourceType:"resourceType",editorType:"editor_type",price:"price",creators:"creators",sortBy:"sort_by"},h$=e=>({resourceType:e.resourceType,editorType:e.editor_type,price:e.price,creators:e.creators,sortBy:e.sort_by}),hG=(e,t)=>{let a=t.getBoundingClientRect(),r=t.closest(`.${cu.pz}`).getBoundingClientRect();e.style.width=a.width+"px",e.style.height=a.height+"px",e.style.top=a.y-r.y+"px"};function hY({view:e,resultsByType:t}){(0,p.kc)().statsig_aa_flag_web_cmtysidebar;let a=hD()(t,e=>"resources"in e?{count:e.resources.length,hasMore:e.totalHits>e.resources.length}:{count:e.length,hasMore:!1}),r=[hM.All,hM.Files,hM.Plugins,hM.Widgets,hM.Union],n=l.useRef(null);l.useEffect(()=>{if(n.current&&e.resourceType){let e=n.current.parentNode.querySelector(`.${cu.vu}`);hG(n.current,e)}},[e.resourceType]);let i=[[p8.L.BrowseResourceTypes.MIXED,(0,k.t)("community.view_bar.all")],[p8.L.BrowseResourceTypes.FILES,(0,k.t)("community.view_bar.files_and_templates")],[p8.L.BrowseResourceTypes.PLUGINS,(0,k.t)("community.view_bar.plugins")],[p8.L.BrowseResourceTypes.WIDGETS,(0,k.t)("community.view_bar.widgets")]];return"string"==typeof e.query&&i.push(["profiles",(0,k.t)("community.view_bar.creators")]),l.createElement("div",{className:cu.pz},l.createElement("div",{className:cu.w,ref:n}),l.createElement("ul",null,i.map(([t,n],i)=>{let o=(0,ie.MU)({...(0,ie.wl)(),resourceType:t}),s=r[i],{count:c,hasMore:d}=a[t],u="query"in e?l.createElement("span",{className:cu.fw},`${c??0}${d?"+":""}`):null;return l.createElement("a",{key:t,href:o,onClick:a=>{a.preventDefault(),m.Ay.push(o),(0,el.sx)("resource_type_filter_changed",{resource_type:t,from:e.resourceType})}},l.createElement("li",{className:e.resourceType===t?cu.vu:""},l.createElement(s,{active:e.resourceType===t}),l.createElement("span",{className:cu.rt},n),u))})))}function hz(e,t){let a=e[t];return"resources"in a?a.resources:a}let hQ=function(){let e=[],t={};return{push:(a,r)=>{let n=a.pathname+a.search,i=t[n];if(i||e.push(n),t[n]={...i||{},state:r},e.length>10){let a=e.shift();delete t[a]}},get:e=>{let a=t[e.pathname+e.search];if(a)return a}}}();function hK({onClick:e,isLoading:t,isMoreToFetch:a}){return t?l.createElement("div",{className:cu.V3},l.createElement(c2.y$,null)):l.createElement(c8,{onClick:e,isLoading:!1,isMoreToFetch:a})}let hq=class e extends l.Component{constructor(e){super(e),this.feedAppWrapper=null,this.hasLoadedFirstTimeForView=!1,this.impressedResourcesForView=new Set,this.impressedResourcesLoggingBuffer=[],this.state={results:[],searchError:void 0,pagination:void 0,isActivelyLoadingRequest:!1},this.feedContentRef=l.createRef(),this.filterControlsRef=l.createRef(),document.title=(0,so.vC)(this.props.view),this.sendResourceImpressions=(0,tF.s)(()=>{if(0===this.impressedResourcesLoggingBuffer.length)return;let{view:e}=this.props,{trackingContext:t,properties:a}=this.getTrackingProps();(0,el.sx)("hub_impressed_resources",{impressedItems:this.impressedResourcesLoggingBuffer.map(({id:e})=>e),impressedItemTypes:this.impressedResourcesLoggingBuffer.map(({type:e})=>e),sort:e.sort_by,resourceType:e.resourceType,trackingContext:t,...a}),this.impressedResourcesLoggingBuffer=[]},1e3)}componentDidMount(){this.resetScrollPosition(),this.queryWithParamsAndUpdateState(void 0),(0,cq.OE)(this.props.view)&&this.props.dispatch(ps.Dy({entryPoint:"community"}))}showFeedAsTable(){return this.props.view?.resourceType===p8.L.BrowseResourceTypes.PLUGINS||this.props.view?.resourceType===p8.L.SearchResourceTypes.PROFILES}componentDidUpdate(e){(0,s.bN)(this.props.view,e.view)?hQ.push(this.props.location,this.state):(this.hasLoadedFirstTimeForView=!1,this.queryWithParamsAndUpdateState(e.view),document.title=(0,so.vC)(this.props.view),this.sendAndResetResourceImpressions())}componentWillUnmount(){(0,cq.OE)(this.props.view)&&this.props.dispatch(ps.ky()),this.sendAndResetResourceImpressions()}isMoreToFetch(){return!this.hasLoadedFirstTimeForView||(0,pE.nC)().filter(this.props.view).isMoreToFetch(this.state.pagination)}static getEmptyResultsByType(){return{files:{resources:[],totalHits:0},plugins:{resources:[],totalHits:0},widgets:{resources:[],totalHits:0},mixed:{resources:[],totalHits:0},profiles:[]}}static getResourcesFromSearchResponse(e){return e.map(e=>{let t=e.model;return(0,su.xQ)(t)||(0,su.I0)(t)?(0,py.I$)(t):t})}static getUniqueIdForResource(e){return`${e.id}-${(0,sI.Vm)(e)}`}static appendNewResourcesToMixedFeed(t,...a){let r=new Set(t.resources.map(e.getUniqueIdForResource)),n=[],i=0;for(let t of a)i+=t.total_hits??t.results.length,t.results.forEach(t=>{r.has(e.getUniqueIdForResource(t.model))?i-=1:n.push(t)});let o=n.sort((e,t)=>t.score-e.score);return{resources:[...t.resources,...e.getResourcesFromSearchResponse(o)],totalHits:t.totalHits+i}}asyncFetchAdditionalSearchResources(){let{dispatch:t,view:a,searchSessionId:r}=this.props;Promise.all([t((0,pE.nC)().filter(a).searchResources({resourceType:"files"})),t((0,pE.nC)().filter(a).searchResources({resourceType:"plugins"})),t((0,pE.nC)().filter(a).searchResources({resourceType:"widgets"}))]).then(([t,n,i])=>{let{resultsByType:o}=this.state;if(!o)return;let l=e.getResourcesFromSearchResponse(t.data.meta.results),s=t.data.meta.total_hits??l.length,c=e.getResourcesFromSearchResponse(n.data.meta.results),d=n.data.meta.total_hits??c.length,m=e.getResourcesFromSearchResponse(i.data.meta.results),u=i.data.meta.total_hits??m.length,_={...o,mixed:e.appendNewResourcesToMixedFeed(o.mixed,t.data.meta,n.data.meta,i.data.meta),files:{resources:l,totalHits:s},plugins:{resources:c,totalHits:d},widgets:{resources:m,totalHits:u}},p=c.filter(e=>(0,su.mr)(e)&&e.roles?.is_public),f=m.filter(e=>(0,su.mr)(e)&&e.roles?.is_public);(0,el.sx)("search_query_result",{query:a.query,responseCounts:_.mixed.resources.length,scope:"community",entry_point:"community",context:"searchView",searchSessionId:r,files:l.length,private_plugins:c.length-p.length,private_widgets:m.length-f.length,public_plugins:p.length,public_widgets:f.length,projects:0,teams:0,users:0}),this.setState({results:hz(_,a.resourceType),resultsByType:_})}).catch(()=>{})}querySearchMixedAndProfiles(){let{view:t,dispatch:a}=this.props;return this.feedAppWrapper?.setAttribute("data-hide","true"),a((0,pE.nC)().filter(t).searchResourcesAndProfiles({resourceType:"mixed"})).then(a=>{let[r,n]=[a[0].data.meta.results,a[1].data.meta.results],i=e.getResourcesFromSearchResponse(r),o=a[0].data.meta.total_hits??i.length;this.asyncFetchAdditionalSearchResources();let l={...this.state.resultsByType??e.getEmptyResultsByType(),mixed:{resources:i,totalHits:o},profiles:n};this.setState({searchError:void 0,results:hz(l,t.resourceType),resultsByType:l},()=>{this.feedAppWrapper?.removeAttribute("data-hide")})}).catch(e=>{(0,cq.OE)(this.props.view)&&this.setState({searchError:e.message||(0,k.t)("community.error.search_request_failed"),results:[]})})}queryBrowse(){let e;let{view:t}=this.props,a=(0,pE.nC)().filter(t),r=this.hasLoadedFirstTimeForView&&this.state.pagination?.next_page;return r?e=(0,td.k9)(this.state.pagination?.next_page):(this.feedAppWrapper?.setAttribute("data-hide","true"),e=a.browse(t.resourceType,48)),Promise.all([e]).then(e=>{let[t]=e;if(!t)throw Error("Error handling response");let{data:a}=t,{meta:n,pagination:i}=a,{resources:o}=n;this.setState({results:r?[...this.state.results,...o]:o,pagination:i,searchError:void 0},()=>{this.feedAppWrapper?.removeAttribute("data-hide")})}).catch(e=>{(0,sw.$D)(np.FigmaTeam.COMMUNITY,e)})}static shouldSearch(e,t){return!(0,cq.OE)(e)||e.resourceType===t.resourceType||(0,ie.Mc)({...e,resourceType:"profiles"})!==(0,ie.Mc)({...t,resourceType:"profiles"})}async queryWithParamsAndUpdateState(t){let{view:a,location:r}=this.props;if(!a||this.state.isActivelyLoadingRequest||!this.isMoreToFetch())return;if(!(this.hasLoadedFirstTimeForView&&this.state.pagination?.next_page)){let e=hQ.get(r);if(e){this.setState(e.state),this.feedAppWrapper?.removeAttribute("data-hide"),this.hasLoadedFirstTimeForView=!0;return}}this.setState({isActivelyLoadingRequest:!0});let n=(0,cq.OE)(a);try{n?t&&!e.shouldSearch(t,a)&&this.state.resultsByType?this.setState({results:hz(this.state.resultsByType,a.resourceType),searchError:void 0}):await this.querySearchMixedAndProfiles():await this.queryBrowse(),this.hasLoadedFirstTimeForView=!0}catch(e){}this.setState({isActivelyLoadingRequest:!1})}resetScrollPosition(){let e=(this.feedContentRef.current?.getBoundingClientRect().top||0)-(this.filterControlsRef.current?this.filterControlsRef.current.getBoundingClientRect().top+this.filterControlsRef.current.getBoundingClientRect().height:0);e<0&&window.scrollTo({top:window.scrollY+e,behavior:"smooth"})}addResourceImpression(e){let t=e.id,a=(0,sI.Vm)(e),r=`${t}-${a}`;this.impressedResourcesForView.has(r)||(this.impressedResourcesForView.add(r),this.impressedResourcesLoggingBuffer.push({id:e.id,type:(0,sI.Vm)(e)}),this.sendResourceImpressions())}sendAndResetResourceImpressions(){this.sendResourceImpressions.flush(),this.impressedResourcesForView.clear()}getTrackingProps(){let{view:e}=this.props,t=e.tags,a=!!t?.length,r=e.query;return"string"==typeof r?{trackingContext:e7.e0.COMMUNITY_HUB_SEARCH,properties:{searchQuery:r}}:a?{trackingContext:e7.e0.COMMUNITY_HUB_TAG,properties:{tags:t.join(",")}}:{trackingContext:e7.e0.COMMUNITY_HUB,properties:{}}}render(){let{view:t}=this.props;if(!t)return l.createElement(l.Fragment,null);let a=t.tags,r=!!a?.length,n=t.query,i="string"==typeof n,{resourceType:o}=t,s=(r||i)&&this.hasLoadedFirstTimeForView&&0===this.state.results.length,c="";s&&(c=n||a.join(", ")||"");let{trackingContext:u,properties:_}=this.getTrackingProps();return l.createElement(ez.fu,{name:u,properties:_},l.createElement(l7.S,null),l.createElement("div",{ref:e=>this.feedAppWrapper=e},r&&l.createElement(hH,{tags:a,view:t}),(0,cq.OE)(t)&&l.createElement(hW,{query:t.query,view:t,error:this.state.searchError}),l.createElement("div",{className:cu.IB},l.createElement(hY,{view:t,resultsByType:this.state.resultsByType??e.getEmptyResultsByType()}),l.createElement("div",{className:cu.hm},l.createElement(fa,{containerRef:this.filterControlsRef,filterState:h$(t),onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[hj[e]]=a}),m.Ay.replace((0,ie.MU)({...(0,ie.wl)(),...t})),this.resetScrollPosition()},context:"search"}),l.createElement("div",{ref:this.feedContentRef},s?l.createElement(hx,{resourceType:o,query:c,view:t,isError:!!this.state.searchError}):l.createElement("div",{className:cu.E9},l.createElement(cf,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:cp(this.showFeedAsTable()?"rows":"compact"),resources:this.state.results,showAsTable:this.showFeedAsTable(),showMoreCallback:g.lQ,viewContext:"communityFeed"}))),l.createElement(hK,{onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isLoading:this.state.isActivelyLoadingRequest,isMoreToFetch:this.isMoreToFetch()}),!(0,d.y3)()&&l.createElement("div",{className:cu.xQ},l.createElement(c1,null))))))}};function hZ(){let e=(0,lJ.zy)(),t=(0,ie.UH)(),a=(0,s.wA)(),r=(0,si.J)();return t?l.createElement(hq,{view:t,location:e,dispatch:a,searchSessionId:r}):(sP.k.warn("This shouldn't happen: Community view is undefined in '<FeedView />'."),m.Ay.replace("/community"),null)}hq.displayName="FeedPage";var hX=a(843540);let hJ=a(210448).u;var h0=a(84336),h1=a(776397),h2=a(410424);let h4=(0,tm.nF)((e,{pluginId:t,isWidget:a})=>td.Ay.post(`/api/${a?"widgets":"plugins"}/${t}/view`,{pluginId:t}));var h8=a(941448),h3=a(323434);let h5="mobile_media_carousel--carouselItem--k7rAE",h9=(e,t)=>Math.abs(e)*t,h6=(e,t)=>{let a=[];return e===t[0]-1||e===t[1]+1?a.push("scale(0.6)"):e===t[0]-2||e===t[1]+2?a.push("scale(0.4)"):(e===t[0]-3||e===t[1]+3)&&a.push("scale(0)"),a},h7={enter:e=>({x:e>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?300:-300,opacity:0})};function ve({resource:e,resourceContent:t}){let a=(0,si.J)(),[r,n]=l.useState(0),[i,o]=l.useState(0),s=(0,so.N6)(e),c=s.length>1,d=s[r],[m,u]=(0,l.useState)([0,2]),[_,p]=(0,l.useState)(0);if(!c||!d)return l.createElement(vt,{resource:e,resourceContent:t,selectedMedium:d});let[f,g]=sk(d),E=e=>{let t=(0,lF.qE)(r+e,0,s.length-1);n(t),t>m[1]?(u(e=>[e[0]+1,e[1]+1]),p(_-10)):t<m[0]&&(u(e=>[e[0]-1,e[1]-1]),p(_+10))};return l.createElement(ez.fu,{name:e7.e0.COMMUNITY_MOBILE_RDP_CAROUSEL,properties:{resource_type:(0,sI.Vm)(t),resource_id:e.id,searchSessionId:a}},l.createElement("div",{className:"mobile_media_carousel--mobileMediaCarousel--AIpoz",onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},role:"grid",tabIndex:0},l.createElement(h3.N,{mode:"popLayout",initial:!1,custom:i},l.createElement(fI.P.div,{key:r,custom:i,variants:h7,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.05}},whileDrag:{cursor:"grabbing"},drag:"x",dragDirectionLock:!0,dragConstraints:{left:0,right:0},dragElastic:.5,onDragEnd:(n,{offset:i,velocity:l})=>{let s=h9(i.x,l.x);s<-500?(E(1),o(1),(0,el.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,sI.Vm)(t),selectedIndex:r,searchSessionId:a})):s>500&&(E(-1),o(-1),(0,el.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,sI.Vm)(t),selectedIndex:r,searchSessionId:a}))}},l.createElement("div",{className:h5},"video"===d.type?l.createElement(sY,{src:sR(d,e),fallbackSrc:d.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,el.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,sI.Vm)(t),searchSessionId:a})}}):l.createElement(sL,{thumbnailUrl:f,resourceId:e.id,altText:(0,sc.K2)(e)+" preview",thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:g,isMobileCarousel:!0})))),l.createElement("div",{className:"mobile_media_carousel--carouselIndicator--etWE0",style:{transform:`translateX(${-_}px)`}},(0,lF.y1)(s.length).filter(e=>e<=m[1]+3&&e>=m[0]-3).map(e=>{let t=[`translateX(${_}px)`,...h6(e,m)].join(" ");return l.createElement("div",{key:e,className:B()("mobile_media_carousel--carouselDot--kqCx2",{"mobile_media_carousel--activeCarouselDot--dBLJE":e===r}),style:{transform:t}})}))))}function vt({resource:e,resourceContent:t,selectedMedium:a}){let r=(0,si.J)();if(a&&"video"===a.type)return l.createElement("div",{className:h5},l.createElement(sY,{src:sR(a,e),fallbackSrc:a.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,el.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,sI.Vm)(t),searchSessionId:r})}}));let n=(0,sI.XW)(e)?e.thumbnail_src_set:(0,su.U)(e)&&e.resized_thumbnail_urls;return l.createElement("div",{className:h5},l.createElement(sL,{thumbnailUrl:e.thumbnail_url||"",resourceId:e.id,altText:(0,sc.K2)(e)+" preview",thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:n||void 0,isMobileCarousel:!0}))}var va=a(700886);let vr=(0,eh.r1)(it.Xt);function vn(){let e=(0,ef.md)(vr),t=(0,e1.iZ)(),a=(0,s.d4)(e=>e.authedActiveCommunityProfile),r=(0,c$.N)(`(max-width: ${my.YW-1}px)`),{show:n,isShowing:i,complete:o}=(0,eE.e)({overlay:ew.cJy,priority:ev.N.DEFAULT_MODAL},[e]);return(0,u.h)(()=>{!r&&a&&a.has_published&&n({canShow:e=>!e})}),l.createElement(va._l,{isShowing:i,title:(0,k.tx)("community.modal.creator_carousel_nux.add_image_and_video_previews"),description:(0,k.tx)("community.modal.creator_carousel_nux.drive_eyeballs_and_engagement"),media:l.createElement(va.B$,{width:400,src:"https://static.figma.com/uploads/02d9c70dd6cacb66d38819ec23ce6f1b6202e13d",alt:"An illustration of a carousel of images and videos",aspectRatio:.82}),primaryCta:{type:"link",label:(0,k.tx)("community.modal.creator_carousel_nux.update_my_resources"),href:a?.profile_handle?new sm.xn({profileHandle:a.profile_handle}).href:"",ctaTrackingDescriptor:eg.c.UPDATE_MY_RESOURCES,trackingProperties:{userId:t?.id}},secondaryCta:{type:"link",label:(0,k.tx)("community.learn_more"),href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",ctaTrackingDescriptor:eg.c.LEARN_MORE,trackingProperties:{userId:t?.id,profileId:a?.id}},trackingContextName:"community_creator_carousel_media_nux",userFlagOnShow:it.Xt,clickOutsideToHide:!0,onClose:o,closeButtonColor:"dark"})}function vi({resource:e}){return(0,gs.RB)(e)?null:l.createElement(l.Fragment,null,l.createElement(gD.p,{featureFlag:"cmty_rdp_creator_modal"},l.createElement(vn,null)))}function vo({resource:e,resourceContent:t,rdpImpressionId:a,category:r}){let[n,i]=l.useState(!1),o=(0,sa.C)(e);return l.createElement("div",{className:"two_column_resource_page--autoLayoutContainer--odI-S"},r&&l.createElement(hf,{category:r,rdpImpressionId:a}),l.createElement(nH.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},l.createElement("div",{className:_f},l.createElement("div",{className:S.cx.relative.$},l.createElement(u8,{resource:e,resourceContent:t,hasScrolled:n}))),l.createElement("div",{className:o?_g:_E},l.createElement(_m,{resource:e,resourceContent:t,is16to9AspectRatio:o}),l.createElement(tU.a,{className:"two_column_resource_page--scrollSentinel--B3rnT",onIntersectionChange:e=>i(!e.isIntersecting)}))))}function vl({resource:e,resourceContent:t,rdpImpressionId:a,category:r}){return l.createElement(l.Fragment,null,l.createElement(vi,{resource:t}),l.createElement(hJ,{resource:t}),l.createElement(vo,{resource:e,resourceContent:t,rdpImpressionId:a,category:r}),l.createElement(u1,{resource:e,resourceContent:t,rdpImpressionId:a}))}function vs({resource:e,resourceContent:t,rdpImpressionId:a,isMobileSize:r,category:n}){let[i,o]=l.useState(!1);return l.createElement(l.Fragment,null,n&&l.createElement(hf,{category:n,rdpImpressionId:a}),l.createElement(ve,{resource:e,resourceContent:t}),l.createElement(u5,{resource:e,resourceContent:t,hasScrolled:i}),l.createElement("div",{className:"resource_page--mobileScrollSentinelContainer--AkI9N"},l.createElement(tU.a,{className:"resource_page--scrollSentinel--yWuQV",onIntersectionChange:e=>o(!e.isIntersecting)})),l.createElement(u1,{resource:e,resourceContent:t,rdpImpressionId:a,isMobileSize:r}))}function vc(){let[{apiResourceType:e,resourceId:t},a]=l.useState({apiResourceType:(0,so.eD)()[0],resourceId:(0,so.eD)()[1]}),r=(0,s.wA)(),n=(0,c$.N)(`(max-width: ${my.YW-1}px)`);l.useEffect(()=>{let e=m.Ay.listen(()=>{let[e,t]=(0,so.eD)();dh.S.hasOwnProperty(e)&&(a(a=>a.apiResourceType===e&&a.resourceId===t?a:{apiResourceType:e,resourceId:t}),setTimeout(()=>window.scrollTo(0,0),100))});return()=>{e(),document.body.removeAttribute("data-hide")}},[]);let i=(0,sl.Tg)(),[o]=(0,f.IT)((0,h1.m)({apiResourceType:e,id:t}),{enabled:!i}),[c]=(0,f.IT)((0,h1.Z)({apiResourceType:e,id:t}),{enabled:i}),u=i?c.data:o.data,_=i&&c.data?(0,sI.qY)(c.data):o.data,p=!!u?.category_slug,[g]=(0,f.IT)((0,hN.Zp)({categorySlug:u?.category_slug??""}),{enabled:p}),E=g.data??void 0;l.useEffect(()=>{e&&t&&u&&_&&((0,su.U)(_)?r((0,h2.Sb)({hubFiles:[_],src:"resourcePage"})):r((0,h0.Qi)({publishedPlugins:[_],src:"resourcePage"})),document.title=(0,sc.K2)(u)+"\xa0| Figma",document.body.removeAttribute("data-hide"))},[e,t,r,u,_]);let h=l.useRef(null),v=l.useCallback(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[h]),y=(0,su.U)(_),b=(0,su.I0)(_),w=(0,su.xQ)(_);if(l.useEffect(()=>{y&&r((0,h2.vr)({hubFileId:_.id})),(b||w)&&r(h4({pluginId:_.id,isWidget:w}))},[r,y,w,b,_?.id]),!u||!_)return l.createElement(l.Fragment,null);let T=(0,h8.Ay)(_),I=(0,dk.g)();return l.createElement("div",{className:"resource_page--resourcePage--n6Aio text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement(ez.fu,{name:T.name,properties:T.properties},l.createElement(mf.H.Provider,{value:{onScrollToRatings:v,externalCommentScrollRef:h}},l.createElement(sd.Ay,{mediaQuery:`(min-width: ${my.EX}px)`},l.createElement(vl,{resource:u,resourceContent:_,rdpImpressionId:I,category:E})),l.createElement(sd.Ay,{mediaQuery:`(min-width: ${my.YW}px) and (max-width: ${my.EX-1}px)`},l.createElement(vl,{resource:u,resourceContent:_,rdpImpressionId:I,category:E})),l.createElement(sd.Ay,{mediaQuery:`(max-width: ${my.YW-1}px)`},l.createElement(vs,{resource:u,resourceContent:_,rdpImpressionId:I,category:E,isMobileSize:n}))),!(0,d.y3)()&&l.createElement("div",{className:"resource_page--footerContainer--bAm54"},l.createElement(c1,null))))}function vd(){return l.useEffect(()=>{hp.X.initialRenderDurationMs=Math.round(window.performance.now()-hp.X.domContentLoadedMs),hp.X.timeToLoadMs=Math.round(performance.now()),hp.X.report(el.sx),(0,tN.qD)({name:"Community Hub"})},[]),l.createElement("div",{"data-testid":"community-app",className:"community_app--communityApp--kXC00"},l.createElement(p1,null),l.createElement(lJ.dO,null,l.createElement(lJ.qh,{path:_F.path},l.createElement(_N,null)),l.createElement(lJ.qh,{path:_P.path},l.createElement(di,null)),l.createElement(lJ.qh,{path:sE.ax.path},l.createElement(_k,null),l.createElement(vc,null)),l.createElement(lJ.qh,{path:"/community/tag/"},l.createElement(hZ,null)),l.createElement(lJ.qh,{path:"/community/search"},l.createElement(_k,null),l.createElement(hZ,null)),l.createElement(lJ.qh,{path:cZ.m5},l.createElement(hP,null)),l.createElement(lJ.qh,{path:"/community*"},l.createElement(lJ.rd,{to:"/community",from:"/community*"}),l.createElement(_L,null),l.createElement(f7,null)),l.createElement(lJ.qh,{path:sm.xn.path},l.createElement(h_,null))),l.createElement(l6,null),!1,l.createElement(dA.Ay,null))}function vm(e){return"communityHub"!==e.view||"plugin"===e.subView||"widget"===e.subView||"hubFile"===e.subView||"landing"===e.subView||"searchAndBrowse"===e.subView||"handle"===e.subView?{content:l.createElement(vd,null),key:"searchAndBrowse"}:"hubFileEmbed"===e.subView||"monetizationRedirectView"===e.subView?{content:null,key:void 0}:(0,x.xb)(e)}function vu(e){return l.createElement("div",{className:"community_layout--communityPageViewContainer--aBk-9"},e.children,l.createElement(hX.Ay,null))}hp.X.domContentLoadedMs=Math.round(window.performance.now());var v_=a(763223),vp=a(334381),vf=a(945020),vg=a(567088),vE=a(261076),vh=a(729064),vv=a(569172);let vy=new class{markFeedVisited(e){return td.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var vb=a(679736),vw=a(461839),vT=a(52678),vI=a(934480),vC=a(235092),vx=a(654034),vN=a(416822),vS=a(988771),vk=a(400333),vL=a(527429),vA=a(126674),vR=a(160156),vF=a(339617),vP=a(531398),vO=a(430811);let vD="feed_tile--commentPillText--goQ26",vM="feed_tile--feedPostHoverContainerSelectable--rhPI9";var vB=a(122975);function vU(e){let t=(0,s.wA)(),a=l.useRef(null),[r,n]=(0,lM.M)(),[i,o]=(0,lM.M)(),{requestToOpenPostByFeedIdx:c}=e,d=l.useCallback((a,r)=>{a?.stopPropagation();let n=e.itemIdx+1;(0,el.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:n}),t((0,eY.to)({type:vT.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:r?.autofocusCommentInput,selectedContentIdx:r?.selectedContentIdx,onSetSelectedContentIdx:r?.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,t,e.feedIdx,c]),m=l.useCallback(()=>{t((0,eY.to)({type:(0,vb.t1)(),data:{preloadedFeedPost:e.post,entryPoint:vb.M2.FEED}}))},[t,e.post]),{refSetter:u}=function(e){let t=l.useRef(null),a=l.useRef(e);a.current=e;let r=l.useMemo(()=>new ResizeObserver(()=>{a.current(t.current)}),[]);return l.useEffect(()=>()=>{r.disconnect()},[r]),{refSetter:l.useCallback(e=>{null!==t.current&&r.unobserve(t.current),t.current=e,null!==t.current&&r.observe(t.current)},[r])}}(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=e.feedListRef.current?.getBoundingClientRect().left??0,f=Math.max(0,(a.current?.getBoundingClientRect().left??0)-p),g=l.createElement("div",{className:"feed_tile--caughtUpContainer--5uyiy"},l.createElement("div",{className:"feed_tile--caughtUpTitle--PVabL"},(0,k.t)("fig_feed.youre_all_caught_up")),l.createElement("div",{className:"feed_tile--caughtUpSubtitle--j2qKn"},(0,k.t)("fig_feed.come_back_later_for_more_posts")));return l.createElement("div",{className:"feed_tile--postContainer--jD-OA",ref:e=>{u(e),e&&(a.current=e,r(e))},style:_},l.createElement("div",{className:"feed_tile--hoverExtension--aYeAh",ref:i}),l.createElement("div",{className:"feed_tile--tileContainer---NbBK"},l.createElement(vV,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:d,onEditClick:m,horizontalMargin:f,isHovered:n||o}),e.mostRecentUnviewed&&g))}function vV(e){let t=parseInt(e.feedPost.numComments,10),a=(0,vx.o8)(e.feedPost.descriptionMeta),r=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],n=l.createElement("div",{className:"feed_tile--commentPill--ZWfdc feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0},t>0?l.createElement(l.Fragment,null,l.createElement(vC.u,{users:r,totalNum:r.length,numAvatarsToDisplay:4}),l.createElement("div",{className:vD},(0,k.tx)("fig_feed.num_comments",{numComments:t}))):l.createElement("div",{className:vD},(0,k.tx)("fig_feed.add_comment"))),[i,o]=l.useState(!1),s=l.useRef(null);l.useEffect(()=>{let e=s.current;e&&o(e.scrollHeight>e.offsetHeight)},[]);let c=l.useMemo(()=>(a.length>0&&(a[0].t=a[0].t?.trimStart(),a[a.length-1].t=a[a.length-1].t?.trimEnd()),a),[a]),d=(0,vN.q)(),m=l.useCallback((e=[],t)=>e?e.map((e,a)=>{let r=(e.user_annotated?e.user_annotated.handle:e.t)||"",n=(0,lB.F)(r),i=null,o=e.link&&(0,vk.xT)(e.link);if(e.user_annotated&&n)i=l.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},l.createElement(vk.E4,{href:`/files${d}/user/${e.user_id}`,userId:e.user_annotated.id,handle:n,imgUrl:e.user_annotated.img_url}));else if(o&&n&&(0,vL.$)(o))i=l.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},l.createElement(vk.Rk,{text:n,hyperlink:o}));else{let e=(0,vI.x6)(n?.replace(/\n\s*\n/g,"\n").split("\n").join(" ")||"");i=l.createElement("span",null,e)}return l.createElement(l.Fragment,{key:`${t}-${a}`},i,e.children?.length&&e.styles?.length&&e.children.map((r,n)=>l.createElement(l.Fragment,{key:`${t}-${a}-${n}`}," ",e.styles.includes("ol")?`${n+1}. `:"\u2022 ",m(r.children,`${t}-${a}-${n}`)," ")))}):[l.createElement(l.Fragment,null)],[d]),u=l.useMemo(()=>m(c,e.feedPost.id),[c,m,e.feedPost.id]),{onTileMouseDown:_}=e,p=l.useMemo(()=>l.createElement("div",{className:"feed_tile--postDescriptionContainer--xP5Fz",onMouseDown:_,role:"button",tabIndex:0},l.createElement("div",{className:"feed_tile--postTitle--DY-Hh"},e.feedPost.title),l.createElement("div",{className:"feed_tile--postDescription--PiaCx","data-testid":"feed-post-description",ref:s},l.createElement("div",{className:B()("feed_tile--postDescriptionMessage--6ThT1 comment_message--commentMessage--kZCzD","feed_tile--collapsed--ruER6",i&&"feed_tile--hasShowMore--6Nm-e")},u),i&&l.createElement("div",{onMouseDown:e=>{e.stopPropagation(),_()},className:"feed_tile--viewMore--o-NxF",role:"button",tabIndex:0},l.createElement("div",{className:"feed_tile--viewMoreEllipsis--k1nCe"},"..."),l.createElement("div",{className:"feed_tile--viewMoreText--WpL2K"},(0,k.t)("fig_feed.see_more"))))),[i,s,e.feedPost,_,u]),f=(0,vA.DG)(e.feedPost.publicUuid,vA.dy.TILE),g=(0,et.Um)(),E=e.isHovered||g?.type===(0,vO.j8)(vO.Hx.USER,e.feedPost.publicUuid,vA.Zp.TILE);return l.createElement(l.Fragment,null,l.createElement("div",{className:"feed_tile--topRowUGC--oWJxs"},l.createElement("div",{className:"feed_tile--avatarFloat--h-EFM"},l.createElement(vF.A,{user:e.feedPost.creator,size:ed.Pf.LARGE,noHandle:!0})),l.createElement(vF.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,noAvatar:!0}),l.createElement("div",{className:S.cx.flex.flexRow.$},l.createElement(vO.Wu,{hideTarget:!E,feedPost:e.feedPost,source:vA.Zp.TILE,onEditClick:e.onEditClick}),E&&l.createElement(eF.K0,{"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("fig_feed.copy_link_to_post"),onClick:f},l.createElement(eD.In,{icon:"hyperlink-32"})))),p,l.createElement(vH,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),l.createElement("div",{className:"feed_tile--bottomRow--CTXwC"},l.createElement(vP.Q$,{type:vP.Us.FULL,source:vP.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[n]})))}function vH(e){let t=l.useRef(null),a=e.feedPost.content.map(e=>JSON.parse(e)),[r,n]=l.useState(!1),[i,o]=l.useState(!1),[s,c]=l.useState(0);l.useEffect(()=>{0!==s&&vS.Y.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[s,e.feedPost.publicUuid]);let d=(0,vP.mz)({type:"post",id:e.feedPost.publicUuid},vP.zY.TILE_CONTENT),m=a.length>1,u=B()(m?"feed_tile--feedPostHoverContainerWithThumbnails--pAnNB feed_tile--feedPostHoverContainer--238j6":"feed_tile--feedPostHoverContainer--238j6",!(r||i||d)&&"feed_tile--hidden--9bafI"),_={selectedContentIdx:s,onSetSelectedContentIdx:c},{fileData:p,fileIcon:f,fileLoaded:g,openFile:E}=(0,vA.rS)(e.feedPost.publicUuid,a,e.feedPost.fileKey);return l.createElement("div",{ref:e=>{e&&(t.current=e)},className:B()("feed_tile--fullHeightContentSection--qE0UO feed_tile--contentSection--1-urk",m&&"feed_tile--fullHeightContentSection_WithThumbnails--l-If7")},l.createElement(vR.xT,{contentItems:a,staticContent:!0,selectedContentIdx:s,setSelectedContentIdx:c,pageBackgroundColor:e.backgroundColor||void 0,onSelectedTileMouseDown:t=>e.onTileMouseDown(t,_),feedPostUuid:e.feedPost.publicUuid,feedPostIdx:e.feedIdx,source:vA.Zp.TILE,onContentHover:e=>n(e)}),g&&l.createElement("button",{className:B()(u,vM,"feed_tile--hoverTopLeft--zVWFQ"),onClick:E,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},l.createElement(rN.oS,{type:f,size:rN.LE.SMALL}),l.createElement("div",null,p.name)),l.createElement("button",{className:B()(u,vM,"feed_tile--hoverTopRight---lyoe"),onMouseDown:t=>e.onTileMouseDown(t,_),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},l.createElement(j.B,{svg:vB.A})))}let vW=(0,n1.eU)(!0),vj=(0,n1.eU)(!1);function v$(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,e1.iZ)(),n=(0,s.d4)(e=>e.teamFeedRefreshNonce),{setHasLoaded:i}=e,[o,c]=l.useState(null),d=(0,ea._6)(),m="teamFeed"===d.view,u="user"===d.view;l.useEffect(()=>{m&&(vy.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{c(e.data.meta?new Date(e.data.meta):null)}),t(t9.b({has_visited_feed:!0})))},[e.currentOrgId,n,t,m]);let p=(0,nf.Rs)(nE.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:e.selectedUser?.id??null}),refreshNonce:n}),f=(0,_.ZC)(n);f&&f!==n&&a.current&&(a.current.scrollTop=0),l.useEffect(()=>{"errors"===p.status&&t(a0.F.enqueue({message:(0,k.t)("general.an_error_occurred"),error:!0}))},[t,p.status]);let g=l.useMemo(()=>"loaded"===p.status?{isLoadingNextPage:p.data.feedPosts.isLoadingNextPage,hasNextPage:p.data.feedPosts.hasNextPage,loadNext:p.data.feedPosts.loadNext}:null,[p]),E=l.useMemo(()=>"loaded"===p.status?{...p,data:p.data.feedPosts.filter(e=>!!e.feedPost)}:p,[p]),h="loaded"===E.status&&"loaded"===p.status;l.useEffect(()=>{i?.(h)},[h,i]);let v=l.useCallback(()=>512,[]),y=E.data?E.data.length:0,b=(0,vh.z)({size:y,parentRef:a,estimateSize:v,overscan:15,paddingStart:0}),w=l.useRef(0);l.useEffect(()=>{w.current=E.data?.length??0},[h,E.data?.length]),l.useEffect(()=>{h&&(0,el.sx)("Team Feed Posts Rendered",{numPosts:w.current,view:d.view,selectedUserId:e.selectedUser?.id},{forwardToDatadog:!0})},[e.selectedUser,w,h,d.view]);let[T,I]=l.useState(!1),[C,x]=l.useState(null),N=(0,fC.Xr)(vj),L=l.useCallback((e,t)=>{e>0&&!T&&((0,el.sx)("Team Feed User Scrolled Down"),I(!0));let a=y/50,r=e+t.trackHeight,n=t.scrollHeight;1-(n-r)/(n/a)>=.5&&g&&!g.isLoadingNextPage&&g.hasNextPage()&&g.loadNext(50),x(t)},[T,g,y]);l.useEffect(()=>{if(!C)return;let{scrollTop:e}=C;e>=72?N(!0):N(!1)},[C,N]);let A=l.useMemo(()=>{let e={};return E.data&&E.data.forEach((t,a)=>{e[t.publicUuid]=a}),e},[E]),[R,F]=l.useState(void 0),P=l.useCallback(e=>{F(e)},[]);l.useEffect(()=>{if(void 0===R||(F(void 0),R<0)||(R>=.5*y&&g&&g.loadNext(50),R>=y))return;let e=E.data[R];t(eY.hm({type:vT.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:R,requestToOpenPostByFeedIdx:P}}))},[R,t,E,P,g,y]);let O=l.useMemo(()=>{if(!o||!E.data)return null;let e=0,t=E.data.length-1,a=-1,n=0;for(;e<=t;){let r=Math.floor((e+t)/2);if(new Date(E.data[r].createdAt)>o?(a=r,e=r+1):t=r-1,(n+=1)>50)break}for(;a>=0&&r&&E.data[a].feedPost?.creator.id===r.id;)a-=1;return a},[o,E.data,r]),D=h&&E.data&&0===E.data.length&&e.selectedUser;return l.createElement(tB.P,{scrollContainerRef:a,className:"feed_list_view--scrollContainer--84INP main_feed_view--scrollContainer--BunJg",innerClassName:B()("feed_list_view--scrollContainerInner--8Le-r",u&&"feed_list_view--scrollContainerInnerProfile--izApr"),onScroll:L},l.createElement("div",{className:"feed_list_view--feedListContainer--2BMds"},e.scrollHeaders,D?l.createElement("div",{className:"feed_list_view--noPostsFound--COpgM"},l.createElement("div",{className:S.cx.fontMedium.$},(0,k.tx)("fig_feed.no_posts_found_title")),l.createElement("div",{className:S.cx.colorTextSecondary.$},(0,k.tx)("fig_feed.no_posts_found_description"))):l.createElement("div",{style:{margin:"0 8px",height:`${b.totalSize}px`,position:"relative"}},b.virtualItems.map(e=>{let t=e.index;if(!E.data||!E.data[t].feedPost)return null;let r=E.data[t].feedPost;return l.createElement(vU,{post:r,key:e.key,virtualRowItem:e,feedListRef:a,itemIdx:t,feedIdx:A[r.publicUuid],requestToOpenPostByFeedIdx:P,mostRecentUnviewed:m&&A[r.publicUuid]===O})}))))}function vG(e){let t=(0,s.wA)(),[a,r]=(0,ef.fp)(vW),[n,i]=l.useState(!1),o=(0,s.d4)(e=>e.teamFeedRefreshNonce);l.useEffect(()=>{t(vv.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,o,e.currentOrgId]);let c=l.createElement(l.Fragment,null,l.createElement(vw.CreateFeedPostContent,{entryPoint:vb.My.FEED_HEADER,onSubmitSuccess:e.onNewPostSubmitSuccess,disabled:!n,minimized:a,setMinimized:r,uploadInfo:e.uploadInfo}));return l.createElement(v$,{...e,scrollHeaders:c,setHasLoaded:i})}var vY=a(238472);function vz(){let e=(0,ef.md)(vE.T),t=(0,ef.md)(vj),a=(0,fC.Xr)(vW),[r,n]=l.useState(!1);return(l.useEffect(()=>{t&&n(!0)},[t]),r)?l.createElement(r3.$$,{className:B()("create_feed_post_button--container--gokzc",t?"create_feed_post_button--fadeInOnMount--QLi5F":"create_feed_post_button--fadeOut--D6C6X"),onMouseDown:()=>a(!1)},l.createElement(j.B,{svg:ok.A,className:"create_feed_post_button--plusIcon--DCzT2"}),(0,k.t)("fig_feed.new_post"),e&&l.createElement(j.B,{svg:vY.A})):null}var vQ=a(395900),vK=a(43325);let vq="new_post_indicator--icon--uvRMg";var vZ=a(884114);function vX(e){return l.createElement("div",{className:"new_post_indicator--notification--NxIRJ text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},l.createElement("div",{className:"new_post_indicator--leftSide--Y7k6-",onClick:e.onRefresh,role:"button",tabIndex:0},l.createElement(j.B,{svg:vZ.A,className:vq}),(0,k.tx)("fig_feed.new_posts")),l.createElement("div",{className:"new_post_indicator--dismiss--BAIvc",onClick:e.onDismiss,role:"button",tabIndex:0},l.createElement(j.B,{svg:ip.default,className:vq})))}function vJ(e){let t=(0,s.wA)();l.useEffect(()=>((0,el.sx)("Team Feed Posts List View Visited"),t(vv.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,el.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let a=l.useCallback(()=>t(vv.Y9()),[t]),r=l.useCallback(e=>{e||a()},[a]),n=l.useCallback(()=>{a()},[a]),i=(0,s.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[o,c]=l.useState(!1),d=(0,_.ZC)(i);l.useEffect(()=>{i&&!1===d?c(!0):d&&!1===i&&c(!1)},[i,d,t]),l.useEffect(()=>{e.initialPostUuidToShow&&t((0,eY.to)({type:vT.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]);let[m,u]=l.useState(!1),[p,f]=l.useState(null),[g,E]=(0,ef.fp)(vW),h=l.useCallback(e=>{g&&(f(e.files),u(!1))},[g]);return l.createElement(l.Fragment,null,l.createElement(H.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>u(!0),onTargetDragLeave:()=>u(!1),onTargetDrop:h,className:"main_feed_view--contentLayout--HPUlv"},o&&l.createElement(vX,{onRefresh:n,onDismiss:()=>c(!1)}),l.createElement(vG,{currentOrgId:e.currentOrgId,onNewPostSubmitSuccess:r,uploadInfo:p??void 0}),g&&m&&l.createElement("div",{className:"main_feed_view--dragOverlay--e78e2"})),l.createElement(vK.cx,null))}function v0(e){let t=(0,s.d4)(e=>e.currentUserOrgId),a=l.useRef(new vQ.M4);return(l.useEffect(()=>{a.current.start()},[]),t)?l.createElement(vJ,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:a.current}):null}var v1=a(886653),v2=a(841563),v4=a.n(v2),v8=a(72608);function v3(e){let t=(0,s.d4)(iT.hK),a=(0,s.wA)(),r=e.tabs?l.createElement(v8.f,{tabs:e.tabs.map(e=>l.createElement(v8.r,{key:e.tabName,tab:null,onClick:()=>a(K.$T(e.view)),tabName:e.tabName,isSelected:v4()(t,e.view),ariaLabel:e.ariaLabel}))}):l.createElement(l.Fragment,null);return l.createElement(ii.g2,{leftSide:r,rightSide:e.viewbarActions||[]})}var v5=a(439466);let v9=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[lN.C0.TRASHED_AT,lN.C0.NAME]}),v6=e=>({tileSortFilterConfig:e.trashedFolders,sortKeys:[lN.C0.TRASHED_AT,lN.C0.NAME]}),v7=(e,t,a)=>{let r=(0,v1.xx)(v9)(t);return[l.createElement(ii.gr,{key:0,dispatch:e,options:r,selectedView:a}),l.createElement(ii.ye,{key:1,config:r.tileSortFilterConfig}),l.createElement(ii.mc,{key:2,dispatch:e,options:r,selectedView:a}),l.createElement(ii.$c,{key:3,initialViewMode:r.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,el.sx)("file view toggle",{viewType:t===lN.XU.GRID?"grid":"list"}),e(K.JF({selectedView:a,config:{...r.tileSortFilterConfig,viewMode:t}}))}})]},ye=(e,t,a)=>{let r=(0,v1.xx)(v6)(t);return[l.createElement(ii.KH,{key:6,dispatch:e,options:r,selectedView:a}),l.createElement(ii.mc,{key:4,dispatch:e,options:r,selectedView:a}),l.createElement(ii.$c,{key:5,initialViewMode:r.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,el.sx)("folder view toggle",{viewType:t===lN.XU.GRID?"grid":"list"}),e(K.JF({selectedView:a,config:{...r.tileSortFilterConfig,viewMode:t}})),e(K.uV({viewId:v5.l,viewMode:t}))}})]};function yt(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.tileSortFilterStateByView),a=(0,ea._6)(),r=(0,vp.y)(),n=v7(e,t,a),i=ye(e,t,a);return l.createElement(v3,{tabs:r?[{tabName:(0,k.t)("file_browser.tool_bar.trashed_files"),view:{view:"deletedFiles"},ariaLabel:(0,k.t)("file_browser.tool_bar.trashed_files.aria_label")},{tabName:(0,k.t)("file_browser.tool_bar.trashed_projects"),view:{view:"trashedFolders"},ariaLabel:(0,k.t)("file_browser.tool_bar.trashed_projects.aria_label")}]:void 0,viewbarActions:"deletedFiles"===a.view?n:i})}function ya(){let e;let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,s.d4)(e=>e.currentTeamId),n=(0,tA.S)();e=a?n?.currentUser.baseOrgUser?.draftsProject:(0,p.kc)().ps_benchmark&&r?n?.currentUser.currentTeamUser?.draftsProject:n?.currentUser.draftsProject;let i=(0,s.d4)(e=>e.tileSortFilterStateByView),o=(0,ea._6)();if(!n||!e)return l.createElement(v3,{tabs:[],viewbarActions:[]});let c="deletedFiles"===o.view?(0,v1.xx)(v9)(i):(0,v1.xx)(ee.ZN)(e.id,i);return l.createElement(v3,{tabs:(0,p.kc)().pdr_trashed_section?void 0:[{tabName:(0,k.t)("file_browser.tool_bar.drafts"),view:{view:"folder",folderId:e.id},ariaLabel:(0,k.t)("file_browser.tool_bar.drafts.aria_label")},{tabName:(0,k.t)("file_browser.tool_bar.deleted"),view:{view:"deletedFiles"},ariaLabel:(0,k.t)("file_browser.tool_bar.deleted.aria_label")}],viewbarActions:["deletedFiles"===o.view?l.createElement(ii.gr,{key:3,dispatch:t,options:c,selectedView:o}):null,l.createElement(ii.ye,{key:0,config:c.tileSortFilterConfig}),l.createElement(ii.mc,{key:1,dispatch:t,options:c,selectedView:o}),l.createElement(ii.$c,{key:2,initialViewMode:c.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,el.sx)("file view toggle",{viewType:e===lN.XU.GRID?"grid":"list"}),t(K.JF({selectedView:o,config:{...c.tileSortFilterConfig,viewMode:e}}))}})]})}var yr=a(344780),yn=a(716475),yi=a(305928);function yo(){let e=l.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 311 213",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"0",y:"0",width:"310",height:"212",rx:"5.5",stroke:"#E5E5E5",strokeDasharray:"5 6"}),l.createElement("rect",{width:"100%",height:"100%",fill:"url(#paint0_linear_1701_4654)"}),l.createElement("defs",null,l.createElement("linearGradient",{id:"paint0_linear_1701_4654",x1:"0",y1:"0",x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"var(--color-bg, white)",stopOpacity:"0"}),l.createElement("stop",{offset:"0.661458",stopColor:"var(--color-bg, white)"}))));return l.createElement("div",{className:yi.kL},l.createElement("div",{className:yi.yl},l.createElement("div",{className:yi._h},e)))}function yl({text:e,tooltipText:t,currentProgress:a,totalProgress:r}){return l.createElement(nH.Y,{direction:"vertical",height:"hug-contents",spacing:"7px"},l.createElement(nH.Y,{horizontalAlignItems:"space-between"},l.createElement(nH.Y,{spacing:4},l.createElement(L.E,{fontSize:13,fontWeight:"medium"},e),l.createElement("div",{"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0},l.createElement(eD.In,{icon:"info-16",fill:"secondary"}))),l.createElement(L.E,{fontSize:13,fontWeight:"medium"},a,"/",r)),l.createElement("div",{className:S.cx.relative.wFull.$},l.createElement("div",{className:S.cx.absolute.wFull.$},l.createElement(nH.Y,{cornerRadius:5,height:5,backgroundColor:"disabled"})),l.createElement("div",{className:S.cx.absolute.wFull.$},l.createElement(nH.Y,{cornerRadius:5,height:5,width:`${Math.min(a/r*100,100)}%`,backgroundColor:a>=r?"warning":"brand"}))))}function ys({canEditTeam:e,isDraftsFolder:t}){let a=(0,s.wA)(),r=(0,tq.ol)(),n=(0,ea._6)(),i=(0,eM.PP)();return t||!r||(0,ek.w5)(r)||"folder"!==n.view||!i()?null:l.createElement(yc,{folderId:n.folderId,showPlanComparisonModal:()=>{a((0,eY.to)({type:eu.V,data:{upsellSource:e5.b.STARTER_LIMIT_OVERVIEW,teamId:r.id}}))},canEditTeam:e})}function yc({folderId:e,showPlanComparisonModal:t,canEditTeam:a}){let r=(0,nf.Rs)(nE.yU5,{projectId:e}),n=eQ.h.useTrackingContext({trigger:e5.b.STARTER_LIMIT_OVERVIEW}),i=(0,eM.Gm)();if("loaded"!==r.status)return null;let o=r.data.project?.team?.projectsCount.status==="loaded"?r.data.project?.team?.projectsCount.data??1:1,s=r.data.project?.team?.teamFileCounts?.designFileCount??0,c=r.data.project?.team?.teamFileCounts?.whiteboardFileCount??0,d=r.data.project?.team?.teamFileCounts?.slideFileCount,m=d?parseInt(d,10):0,u=s>=ek.WW||c>=ek.WW;return l.createElement(ez.fu,{name:"Starter Limit Overview",properties:n},l.createElement("div",{className:B()(S.cx.cursorDefault.mr32.maxW300.colorBg.$,"starter_limit_overview--responsiveHide--tahPL"),style:tV.sx.sticky.add({alignSelf:"flex-start",top:"128px"}).$},l.createElement(nH.Y,{direction:"vertical",padding:32,spacing:24,cornerRadius:8,strokeWidth:1,strokeColor:"default",height:"hug-contents"},l.createElement(L.E,{fontSize:14,fontWeight:"semi-bold"},(0,k.tx)("file_browser.starter_limit.your_starter_team_overview")),l.createElement(yd,{numProjects:o,numFigmaFilesUsed:s,numFigjamFilesUsed:c,numSlidesFilesUsed:m,isSlidesFilesDisplayed:i}),a?l.createElement(nH.Y,{direction:"vertical",spacing:"12px"},l.createElement(L.E,{fontSize:13},(0,k.tx)(u?"file_browser.starter_limit.running_out_of_files":"file_browser.starter_limit.enough_for_you_to_get_started")),l.createElement(r3.vd,{onClick:t,trackingProperties:{trackingDescriptor:eg.c.VIEW_PLANS}},(0,k.tx)("upgrade.view_plans"))):l.createElement(L.E,{fontSize:13},(0,k.tx)("file_browser.starter_limit.trying_things_out")))))}function yd({numProjects:e,numFigmaFilesUsed:t,numFigjamFilesUsed:a,numSlidesFilesUsed:r,isSlidesFilesDisplayed:n}){return l.createElement(nH.Y,{direction:"vertical",spacing:24,width:234},l.createElement(yl,{text:(0,k.t)("file_browser.starter_limit.projects"),tooltipText:(0,k.t)("file_browser.starter_limit.projects.tooltip"),currentProgress:e,totalProgress:ek.Wf}),l.createElement(yl,{text:(0,k.t)("file_browser.starter_limit.design_files"),tooltipText:(0,k.t)("file_browser.starter_limit.design_files.tooltip"),currentProgress:t,totalProgress:ek.WW}),l.createElement(yl,{text:(0,k.t)("file_browser.starter_limit.figjam_boards"),tooltipText:(0,k.t)("file_browser.starter_limit.figjam_boards.tooltip"),currentProgress:a,totalProgress:ek.WW}),n&&l.createElement(yl,{text:(0,k.t)("file_browser.starter_limit.slides"),tooltipText:(0,k.t)("file_browser.starter_limit.slides.tooltip"),currentProgress:r,totalProgress:ek.WW}))}var ym=a(107460),yu=a(119198),y_=a(296559),yp=a(835156),yf=a(974105),yg=a(857766),yE=a(779709),yh=a(707465),yv=a(565167),yy=a(723127),yb=a(828702);let yw="tiles_view--tilesGrid--gtDcv tiles_view--tiles--PQRwh",yT="tiles_view--container--u00AG",yI="tiles_view--emptyStateContainer--eoExf",yC="tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd",yx={metaContainer:320,sidebar:241,tileGridOuterPadding:32,singleTile:272,singleTileWithPadding:304},yN=256/192;function yS({tile:e,index:t,dispatch:a,selectedView:r,currentPlanFilter:n,currentSharedByFilter:i,isListView:o}){e.type===ra.nb.FILE&&(a(q.UN({fileKey:e.file.key,entrypoint:"file tile",currentPlanFilter:n,currentSharedByFilter:i,viewMode:void 0!==o?o?"list":"grid":void 0})),(0,yh.YJ)(r)&&a(q.T5({index:t})),d.eD&&(0,el.sx)("Open File Click",{fileKey:e.file.key,fileRepoId:e.file.file_repo_id,uiSelectedView:JSON.stringify(r)}))}let yk=()=>Math.max(Math.floor((window.innerWidth-yx.sidebar-yx.metaContainer-yx.tileGridOuterPadding)/yx.singleTileWithPadding),0),yL=(e,t)=>{let a=ra.Tf.getName(e)||"",r=ra.Tf.getName(t)||"";return V.Tt.compare(a,r)},yA=(e,t)=>{let a=(ra.Tf.getName(e)||"").toLowerCase(),r=(ra.Tf.getName(t)||"").toLowerCase();return a===r?0:a<r?-1:1},yR=(e,t)=>{if(e.type!==ra.nb.FILE||t.type!==ra.nb.FILE)return 0;let a=e.file,r=t.file;return a.created_at<r.created_at?1:-1},yF=(e,t)=>e.type!==ra.nb.PROTOTYPE||t.type!==ra.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,yP=(e,t)=>{let a=ra.Tf.getAccessedAt(e),r=ra.Tf.getAccessedAt(t);return a&&r?a>r?1:-1:r?-1:a?1:0},yO=(e,t)=>ra.Tf.getCreatedAt(e)>ra.Tf.getCreatedAt(t)?1:-1,yD=(e,t)=>{let a=ra.Tf.getTouchedAt(e),r=ra.Tf.getTouchedAt(t);return null===a||null===r?0:a>r?1:-1},yM=(e,t)=>e.type!==ra.nb.FILE&&e.type!==ra.nb.REPO||t.type!==ra.nb.FILE&&t.type!==ra.nb.REPO?0:(e.type===ra.nb.FILE?e.file.trashed_at:e.repo.trashed_at)>(t.type===ra.nb.FILE?t.file.trashed_at:t.repo.trashed_at)?1:-1;function yB(e){let t=l.useRef(null),a=l.useRef(null),r=l.useRef(null),n=(0,e1.iZ)(),i=(0,ea._6)(),o="folder"===i.view?i.folderId:null,c=rl.M4.Folder.useValue(o).data,u=[n?.drafts_folder_id,n?.personal_drafts_folder_id].includes(c?.id),{showing:_,show:f,data:g}=(0,lI.L)();l.useEffect(()=>{let e="page_selected_view",t=yr.sn.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=yr.sn.tryStop(e);t&&(0,el.sx)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:i.view},{forwardToDatadog:!0,batchRequest:!0})}},[i.view,o]);let h=(0,eJ.FC)(),{userStateLoaded:v,userExternallyRestricted:y,selectedBranchKeyByRepoId:b,upsellData:w}=(0,nJ.R)(e=>{let t=null,a=(0,yf.e9)(e),r=a&&a.team_id&&e.teams[a.team_id];return a&&r&&(0,eL.canEditTeam)(r.id,e)&&(t={team:r,folderId:a.id,isAtFileLimit:[e2.P4.FILES_LIMITED,e2.P4.FILES_LIMITED_LEGACY,e2.P4.WHITEBOARD_FILES_LIMITED,e2.P4.WHITEBOARD_FILES_LIMITED_BETA,e2.P4.SLIDE_FILES_LIMITED,e2.P4.SLIDE_FILES_LIMITED_BETA].some(e=>!!r.restrictions_list?.includes(e))}),{userFlags:e.userFlags,userStateLoaded:e.userStateLoaded,userExternallyRestricted:(0,eL.isOrgUserExternallyRestrictedFromState)(h),selectedBranchKeyByRepoId:e.selectedBranchKeyByRepoId,upsellData:t}}),T=(0,s.wA)(),I=(0,eM.PP)(),C=(0,tq.ol)(),N=!!C&&!!e.eligibleForLockedStateRedesign,[L,A]=l.useState(()=>yk()),R=e.sortFilterOptions.tileSortFilterConfig.viewMode===lN.XU.LIST,F="recentsAndSharing"===i.view&&i.tab===ot.G.SHARED_FILES,P=(e,t,a)=>e===lN.rJ.ANY||e===lN.rJ.SELF&&a.type===ra.nb.FILE&&a.file.creator_id===t||e===lN.rJ.SELF&&a.type===ra.nb.REPO&&a.branches[0].creator_id===t||e===lN.rJ.OTHER&&a.type===ra.nb.FILE&&a.file.creator_id!==t||e===lN.rJ.OTHER&&a.type===ra.nb.REPO&&a.branches[0].creator_id!==t,O=(e,t)=>{let a="design";switch(t.type===ra.nb.FILE?a=t.file.editor_type:t.type===ra.nb.PINNED_FILE?a=t.file.editorType:t.type===ra.nb.OFFLINE_FILE&&(a=t.file.editorType),e){case lN.t2.ANY:return!0;case lN.t2.DESIGN:if(t.type===ra.nb.FILE||t.type===ra.nb.REPO||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"design"===a;return!1;case lN.t2.FIGJAM:if(t.type===ra.nb.FILE||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"whiteboard"===a;return!1;case lN.t2.PROTOTYPE:return t.type===ra.nb.PROTOTYPE;case lN.t2.SLIDES:if(t.type===ra.nb.FILE||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"slides"===a;return!1;case lN.t2.SITES:if(t.type===ra.nb.FILE||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"sites"===a;return!1;default:(0,x.xb)(e)}},D=(e,t)=>!e||e===`${ra.Tf.getSharedBy(t)}`,M=l.useCallback((e,t)=>{if("sharedWithYou"===i.view||"recentsAndSharing"===i.view&&i.tab===ot.G.SHARED_FILES||!e||!e.planId)return!0;let a=e.planId;switch(t.type){case ra.nb.FILE:return("org"===e.planType?t.file.parent_org_id:t.file.team_id)===a;case ra.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===a;case ra.nb.PROTOTYPE:return("org"===e.planType?t.prototype.parent_org?.id:t.prototype.parent_team?.id)===a;case ra.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===a;default:return!1}},[i]),U=l.useCallback((t,a)=>{let r,n,o;let l=t.filter(e=>D(a.filters.sharedBy,e)&&O(a.filters.fileType,e)&&P(a.filters.creator,h.user?.id,e)&&M(a.filters.plan,e));if(r=F?l.filter(e=>e.type===ra.nb.FILE||e.type===ra.nb.PROTOTYPE||e.type===ra.nb.REPO):l.filter(e=>e.type===ra.nb.FILE||e.type===ra.nb.REPO||e.type===ra.nb.OFFLINE_FILE),"recentsAndSharing"===i.view&&i.tab===ot.G.SHARED_FILES)return l;let s=a.sort.dir===lN.ue.DESC;switch(a.sort.key){case lN.C0.SEARCH_RELEVANCE:return t;case lN.C0.ACCESSED_AT:n=EJ.f.byComparators(yP),o=l;break;case lN.C0.CREATED_AT:n=EJ.f.byComparators(yO),o=l;break;case lN.C0.TOUCHED_AT:n=EJ.f.byComparators(yD),o=r;break;case lN.C0.NAME:if(u){n=EJ.f.byComparators(yL,EJ.f.byProperty("type")),o=l;break}let c=l.length<V.Tw;n=EJ.f.byComparators(c?yL:yA,EJ.f.byProperty("type"),yR,yF),o=l;break;case lN.C0.TRASHED_AT:n=EJ.f.byComparators(yM),o=r;break;case lN.C0.SHARED_AT:return l;default:return console.error("Unknown sort key",a.sort.key),[]}if(n=s?EJ.f.reverse(n):n,o.sort(n),e.isDataPartial)for(;o[o.length-1]?.type===ra.nb.OFFLINE_FILE;)o.pop();return o},[F,M,e.isDataPartial,u,i,h.user?.id]),H=l.useMemo(()=>U(e.tiles,e.sortFilterOptions.tileSortFilterConfig),[U,e.tiles,e.sortFilterOptions.tileSortFilterConfig]),W=l.useMemo(()=>{if("deletedFiles"===i.view)return[];let e=[];return H.forEach(t=>{switch(t.type){case ra.nb.FILE:e.push({fileKey:t.file.key});break;case ra.nb.REPO:e.push(...t.branches.map(e=>({fileKey:e.key})))}}),e},[i.view,H]),j=(0,nf.p)(nE.hqi,W);l.useEffect(()=>{for(let{result:e,args:t}of j)if("loaded"===e.status&&e.data){let a=(0,yp.ZF)(e.data);T(a5.Lk({fileKey:t.fileKey,users:a}))}},[j,T]);let $=(0,ef.md)(ra.Y6),G=l.useCallback((t,a,r)=>{yS({tile:t,index:r,dispatch:T,selectedView:i,currentPlanFilter:e.currentPlanFilter,currentSharedByFilter:e.currentSharedByFilter,isListView:R}),function({tile:e,e:t,dispatch:a,selectedView:r,permissionsState:n,selectedBranchKeyByRepoId:i,renamingItem:o}){if(ra.Tf.isRenaming(e,o)||e.type===ra.nb.FILE&&e.file.trashed_at||e.type===ra.nb.REPO&&e.repo.trashed_at){t.preventDefault(),t.stopPropagation();return}let l=E.Ay.mac?t.metaKey:t.ctrlKey,s=null;l&&t.shiftKey?s=d.aw.FOCAL_TAB:l?s=d.aw.BACKGROUND_TAB:t.shiftKey&&(s=d.aw.NEW_WINDOW);let c=n.user;if(d.eD){let r;switch(s=s??d.aw.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case ra.nb.FILE:r=!!(e.file.is_team_template&&(0,t6.LQ)(n)),d.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editor_type,target:s,isBranch:(0,yg.Xm)(e.file),isLibrary:!!e.file.last_published_at,isTeamTemplate:r,userId:c?.id});break;case ra.nb.PINNED_FILE:r=!!(e.file.isTeamTemplate&&(0,t6.LQ)(n)),d.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,isTeamTemplate:r,target:s,userId:c?.id});break;case ra.nb.PROTOTYPE:d.eD.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.name||"",s,c?.id);break;case ra.nb.REPO:let o=(0,yg.mr)(e.repo,e.branches,i);d.eD.openFile({fileKey:o.key,title:o.name,fileEditorType:o.editor_type,target:s,isBranch:(0,yg.Xm)(o),isLibrary:!!o.last_published_at,userId:c?.id});break;case ra.nb.OFFLINE_FILE:a(yu.NA({file:e.file,openNewFileIn:vf.ai.NEW_TAB,source:yv.U.OFFLINE_FILE_TILE}));break;default:(0,x.xb)(e)}return}if(null!=s){if(a(K.oB()),e.type===ra.nb.OFFLINE_FILE){a(yu.NA({file:e.file,openNewFileIn:vf.ai.NEW_TAB,source:yv.U.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let a=ra.Tf.getUrl(e,i);m.Ay.redirect(a,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let u=n.currentUserOrgId,_=n.currentTeamId,f="recentsAndSharing"===r.view||"folder"===r.view?r:void 0,g=(0,p.kc)().ps_benchmark;a(g?y_.c5({planId:u||_,planType:u?vg.O.ORG:vg.O.TEAM}):y_.p4({planId:u||yy.P}));let h={user:c,teamId:g?_:null,orgId:u,selectedView:r};switch(e.type){case ra.nb.FILE:{let t=e.file;(0,lD.N7)(u,t.parent_org_id,_,t.team_id)?(0,lD.QV)({file:{key:e.file.key,editorType:e.file.editor_type||void 0}},h):a(K.$T({view:"fullscreen",fileKey:e.file.key,editorType:yE.z4.getIsExtension()?EH.nT.DevHandoff:e.file.editor_type?(0,EH.wN)(e.file.editor_type):EH.nT.Design,prevSelectedView:f}));break}case ra.nb.PINNED_FILE:(0,lD.N7)(u,e.file.parentOrgId,_,e.file.teamId)?(0,lD.QV)({file:{key:e.file.key,editorType:e.file.editorType}},h):a(K.$T({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType?(0,EH.wN)(e.file.editorType):EH.nT.Design,prevSelectedView:f}));break;case ra.nb.PROTOTYPE:let v=e.prototype.fig_file;(0,lD.N7)(u,v.parent_org_id,_,v.team_id)?(0,lD.QV)({base:"proto",file:{key:v.key,editorType:v.editor_type||void 0},nodeId:e.prototype.page_id},h):a(K.$T({view:"prototype",file:v,nodeId:e.prototype.page_id,prevSelectedView:f}));break;case ra.nb.REPO:{let t=(0,yg.mr)(e.repo,e.branches,i);if(!t)throw Error(`Branch not found for repo ${e.repo.id}`);let r=t.key;(0,lD.N7)(u,t.parent_org_id,_,t.team_id)?(0,lD.QV)({file:{key:r}},h):a(K.$T({view:"fullscreen",fileKey:r,editorType:EH.nT.Design,prevSelectedView:f}));break}case ra.nb.OFFLINE_FILE:a(yu.NA({file:e.file,openNewFileIn:vf.ai.SAME_TAB,source:yv.U.OFFLINE_FILE_TILE}));break;default:(0,x.xb)(e)}}({tile:t,e:a,dispatch:T,selectedView:i,permissionsState:h,selectedBranchKeyByRepoId:b,renamingItem:$})},[R,e.currentPlanFilter,e.currentSharedByFilter,T,h,b,i,$]),Y=l.useCallback((t,a,r)=>{yS({tile:t,index:r,dispatch:T,selectedView:i,currentPlanFilter:e.currentPlanFilter,currentSharedByFilter:e.currentSharedByFilter,isListView:R})},[R,e.currentPlanFilter,e.currentSharedByFilter,i,T]),z=l.useCallback((e,t,a)=>{f({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:a,enableRestore:t.shiftKey&&t.altKey}})},[f]),Q=(0,ra.nw)(e.tiles);l.useEffect(()=>{let e=()=>{A(yk())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),l.useEffect(()=>{if(E.Ay.mobile&&E.Ay.safari&&t.current){let e=t.current.className,a=()=>{t.current&&(t.current.className=""),setTimeout(()=>{t.current&&(t.current.className=e)},500)};return window.addEventListener("load",a),()=>window.removeEventListener("load",a)}},[]);let q=l.createElement("div",{className:S.cx.flex.alignCenter.$},l.createElement(ii.$c,{initialViewMode:e.sortFilterOptions.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,el.sx)("file view toggle",{viewType:t===lN.XU.GRID?"grid":"list"}),T(K.JF({selectedView:i,config:{...e.sortFilterOptions.tileSortFilterConfig,viewMode:t}}))}})),Z=(0,eL.canEditTeam)(c?.team_id||C?.id||"",h),X=l.createElement("div",null),J=l.createElement(ii.$f,{options:e.sortFilterOptions,selectedView:i,dispatch:T}),ee=l.createElement("div",{className:S.cx.flex.$},J,q),et=l.createElement(ii.C9,{options:e.sortFilterOptions,selectedView:i,dispatch:T,sharedWithYouFilters:e.sharedWithYouFilters});X=l.createElement("div",{className:B()(!e.isFolder||Z?"tiles_view--viewBarWrapper--AR2zB":"tiles_view--viewBarWrapperWithTopPadding--4zGHb","tiles_view--viewBarWrapperNoExtraLeftPadding--L4Ueu")},l.createElement(ii.lU,{leftSide:et,rightSide:ee}));let[er,en]=l.useState([]);if((0,yn.Cm)(er),0===H.length){let t=(()=>{if(e.tiles.length>0&&""!==e.overFilteredText){let t=e.overFilteredText??(0,k.t)("file_browser.tiles_view.default_overfiltered_text");return l.createElement("div",{className:yC,"data-test-id":"over-filtered-state-text"},t)}let t="";return(e.emptyStateText?t=e.emptyStateText:(E.Ay.mobile||E.Ay.tablet)&&(t=(0,k.t)("file_browser.folder.this_project_is_empty")),t)?l.createElement("div",{className:yC,"data-test-id":"empty-state-text"},t):null})();if(t)return l.createElement("div",{className:yI},!e.hideSorter&&X,l.createElement("div",{className:S.cx.flex.$},t,N&&l.createElement("div",{className:S.cx.mr32.$},l.createElement(yb.R,{teamId:C.id,canEditTeam:Z}))));if(e.emptyStateContent)return l.createElement("div",{className:yI},e.emptyStateContent)}let ei=yT+(R?` ${yi._O} `:` ${yi.CK} `),eo=e.tiles.length>0;if(!v)return l.createElement("div",{className:"tiles_view--loading--6rn3X"},l.createElement(tM.kt,null));let es=!R&&L>0&&w?.isAtFileLimit&&!I(),ec=es?(()=>{if(0===L)return 0;let e=window.innerWidth-yx.sidebar-yx.metaContainer,t=yx.singleTileWithPadding-yx.singleTile;return Math.max((e-yx.tileGridOuterPadding-L*t)/L/yN+yx.tileGridOuterPadding,0)})():void 0;return l.createElement("div",{className:yT,ref:t},l.createElement("div",{className:ei,ref:a},!e.hideSorter&&X,l.createElement("div",{className:S.cx.flex.$},eo&&l.createElement(ym.d,{sortConfig:e.sortFilterOptions.tileSortFilterConfig.sort,handleOpenTile:Y,items:H,sortBy:t=>{let a=e.sortFilterOptions.tileSortFilterConfig,r=a.sort.dir===lN.ue.DESC?lN.ue.ASC:lN.ue.DESC;T(K.JF({selectedView:i,config:{...a,sort:{key:t,dir:t===a.sort.key?r:a.sort.dir}},tab:"recentsAndSharing"===i.view?i.tab:void 0}))},viewType:R?lN.XU.LIST:lN.XU.GRID,updateRenderedItems:en,handleOpenDropdown:z,checksForViewOnlyLabels:N?{teamId:C.id,isLockedTeam:N}:void 0,interactiveThumbnailsEnabled:!!(0,p.kc)().scrub_file_browser_search_results}),eo&&(N?l.createElement("div",{className:S.cx.mr32.$},l.createElement(yb.R,{teamId:C.id,canEditTeam:Z})):l.createElement(ys,{canEditTeam:Z,isDraftsFolder:u}))),es&&l.createElement(ez.fu,{name:"Tiles View Upsell",properties:{buttonColor:"blue"}},l.createElement("div",{className:yw},[...Array(L)].map((e,t)=>l.createElement(yo,{key:t}))),l.createElement("div",{className:"tiles_view--upgradeOverlay--ZwyMN",style:{marginTop:`-${ec}px`,height:`${ec}px`}},l.createElement("p",{className:"tiles_view--upgradeTitle--PFF3i text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.ready_for_an_upgrade")),l.createElement("p",{className:"tiles_view--upgradeText--ApEbY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.do_more_paid_plan",{lineBreak:l.createElement("br",null)})),l.createElement(tO.vd,{onClick:()=>{if(w){let e=e5.b.TILES_VIEW_UPSELL;T((0,eY.to)({type:eu.V,data:{upsellSource:e,teamId:w.team.id}}))}},trackingProperties:{trackingDescriptor:eg.c.VIEW_PLANS}},(0,k.tx)("file_browser.folder.view_plans")))),!(E.Ay.mobile||E.Ay.tablet)&&e.newFileTile&&!y&&!eo&&!es&&l.createElement("div",{className:S.cx.flex.$},l.createElement("div",{className:"tiles_view--importPrompt--srrJn",ref:e=>{e&&(r.current=lR.findDOMNode(e))}},l.createElement("div",{className:yC},l.createElement("div",{className:"tiles_view--emptyTitle--3Vwmu"},e.isFolder?(0,k.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,k.t)("file_browser.folder.no_files_yet")),(0,k.tx)("file_browser.folder.create_a_new_file_to_start_from_scratch_lucid",{lineBreak:l.createElement("br",null)}))),N?l.createElement("div",{className:S.cx.mr32.$},l.createElement(yb.R,{teamId:C.id,canEditTeam:Z})):l.createElement(ys,{canEditTeam:Z,isDraftsFolder:u}))),(()=>{let t=g?.tile??null,a=g?.index;return l.createElement(ez.fu,{name:e.isFolder?e7.e0.PROJECT_TILES_VIEW_DROPDOWN:e7.e0.TILES_VIEW_DROP_DOWN,enabled:_,properties:{tileType:t?.type,tileFileId:t?.type===ra.nb.FILE?t?.file.key:void 0}},l.createElement(lC.i,{...e,tile:t,selectedTiles:Q,openTile:e=>{t&&G(t,e,a)},dropdownVisible:_}))})())}function yU(e){return l.createElement("div",{className:yI},l.createElement("div",{className:yC},e.emptyStateText,l.createElement("div",{onMouseDown:e.onClaimClick},l.createElement(tO.cw,{className:"tiles_view--emptyButton--oAaGe"},(0,k.tx)("tile.empty.join_as_owner")))))}function yV(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,tk.d)(),a=(0,s.d4)(e=>e.currentTeamId),r=(0,s.d4)(e=>e.tileSortFilterStateByView),n=(0,tR.vt)(),i=(0,eM.Yz)(),o=(0,v1.xx)(e=>({tileSortFilterConfig:e,sortKeys:[lN.C0.TRASHED_AT,lN.C0.NAME,lN.C0.CREATED_AT,lN.C0.TOUCHED_AT]}))(r.deletedFiles),c=(0,p.kc)().pdr_trashed_section&&(0,p.kc)().trashed_files_your_files_filter&&o.tileSortFilterConfig.filters.creator===lN.rJ.SELF?"your_files":null,[{data:d,status:m}]=(0,f.IT)((0,q.Uk)({orgId:e,teamId:a,creatorFilter:c})),u=d?.files||[],_=d?.repos||[],g=[...u.map(e=>({type:ra.nb.FILE,file:e})),..._.map(e=>({type:ra.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key}))];return l.createElement(tD.A,{loadingElementId:"loading-content-pane",loaded:"loading"!==m,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(yB,{tiles:g,newFileTile:!1,tileActions:{restore:!0,restoreToOtherFolders:!0,deleteForever:!0,duplicateToDrafts:!t},sortFilterOptions:o,hideSorter:!0,emptyStateText:(0,p.kc)().pdr_trashed_section?(0,k.t)("file_browser.tool_bar.trashed_empty_state"):(0,k.t)("file_browser.tool_bar.deleted_empty_state"),eligibleForLockedStateRedesign:i(n)}),l.createElement(vK.cx,null))}var yH=a(455057),yW=a(418993),yj=a(426887),y$=a(396226),yG=a(300874),yY=a(449731);function yz(e,t,a){return e&&t&&!(0,ek.w5)(e)&&"recentsAndSharing"!==a&&"trashedFolders"!==a}function yQ({canEditTeam:e}){let t=(0,s.wA)(),a=(0,tq.ol)(),r=(0,ea.z3)(),n=(0,h.I7)("exp_fbg_project_limit_upsell"),i=eQ.h.useTrackingContext({trigger:e5.b.FOLDER_UPSELL_CARD});if(!yz(a,e,r)||!n.getConfig().getValue("show_upsell",!1))return null;let o=l.createElement(tO.Us,{className:S.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,eY.to)({type:eu.V,data:{upsellSource:e5.b.FOLDER_UPSELL_CARD,teamId:a?.id}}))},trackingProperties:{trackingDescriptor:eg.c.PROFESSIONAL_PLAN,...i},trusted:!0},(0,k.tx)("team_view.folder_upsell.professional_plan"));return l.createElement(ez.fu,{name:"Folder Upsell Card",properties:i},l.createElement(ez.$z,{className:B()(S.cx.flex.alignLeft.p24.$,"folder_upsell--card--m7-Lh"),onClick:()=>{t((0,eY.to)({type:yY.DV,data:{team:a,resource:yG.vL.FOLDER,action:rc.ZN.CREATE_FOLDER,currentPlan:y$.F.Plan.STARTER,upsellPlan:y$.F.Plan.PRO,editorType:null,upsellSource:e5.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:eg.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},l.createElement("div",{style:tV.sx.add({paddingBottom:"85%"}).$})," ",l.createElement(nH.Y,{direction:"vertical",spacing:0},l.createElement("div",{className:S.cx.relative.wFull.hFull.$},l.createElement("div",{style:tV.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},l.createElement(nH.Y,{cornerRadius:20,backgroundColor:"brand",height:40,width:40},l.createElement(eD.In,{icon:"new-40",fill:"onbrand"}))),l.createElement(nH.Y,{direction:"vertical",spacing:"12px"},l.createElement(nH.Y,{direction:"horizontal",spacing:"12px"},l.createElement(nH.Y,{cornerRadius:8,backgroundColor:"default"}),l.createElement(nH.Y,{cornerRadius:8,backgroundColor:"default"})),l.createElement(nH.Y,{direction:"horizontal",spacing:"12px"},l.createElement(nH.Y,{cornerRadius:8,backgroundColor:"default"}),l.createElement(nH.Y,{cornerRadius:8,backgroundColor:"default"})))),l.createElement(nH.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents"},l.createElement(L.E,{fontSize:13,fontWeight:"medium"},(0,k.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),l.createElement(L.E,{fontSize:11,color:"secondary"},(0,k.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:o}))))))}function yK({canEditTeam:e}){let t=(0,s.wA)(),a=(0,tq.ol)(),r=(0,ea.z3)(),n=eQ.h.useTrackingContext({trigger:e5.b.FOLDER_UPSELL_CARD}),i=(0,h.I7)("exp_fbg_project_limit_upsell");if(!yz(a,e,r)||!i.getConfig().getValue("show_upsell",!1))return null;let o=l.createElement(tO.Us,{className:S.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,eY.to)({type:eu.V,data:{upsellSource:e5.b.FOLDER_UPSELL_CARD,teamId:a?.id}}))},trackingProperties:{trackingDescriptor:eg.c.PROFESSIONAL_PLAN,...n},trusted:!0},(0,k.tx)("team_view.folder_upsell.professional_plan"));return l.createElement(ez.fu,{name:"Folder Upsell List",properties:n},l.createElement("div",{className:S.cx.flex.mt16.bRadius8.b1.colorBorder.$,style:tV.sx.add({borderStyle:"dashed",marginLeft:"-16px"}).$},l.createElement(ez.$z,{className:B()(S.cx.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.$,"folder_upsell--list--2Higk"),onClick:()=>{t((0,eY.to)({type:yY.DV,data:{team:a,resource:yG.vL.FOLDER,action:rc.ZN.CREATE_FOLDER,currentPlan:y$.F.Plan.STARTER,upsellPlan:y$.F.Plan.PRO,editorType:null,upsellSource:e5.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:eg.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},l.createElement("div",{className:B()(S.cx.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--qnkxf")},l.createElement("div",{style:tV.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},l.createElement(nH.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center"},l.createElement(eD.In,{icon:"plus-32",fill:"onbrand"}))),l.createElement(nH.Y,{direction:"vertical",spacing:4},l.createElement(nH.Y,{direction:"horizontal",spacing:4},l.createElement(nH.Y,{cornerRadius:2,backgroundColor:"default"}),l.createElement(nH.Y,{cornerRadius:2,backgroundColor:"default"})),l.createElement(nH.Y,{direction:"horizontal",spacing:4},l.createElement(nH.Y,{cornerRadius:2,backgroundColor:"default"}),l.createElement(nH.Y,{cornerRadius:2,backgroundColor:"default"})))),l.createElement(nH.Y,{direction:"vertical",spacing:0},l.createElement(L.E,{fontSize:13},(0,k.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),l.createElement(L.E,{fontSize:11,color:"secondary"},(0,k.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:o}))))))}var yq=a(328184),yZ=a(530301),yX=a(167480),yJ=a(750486);let y0="folder_list_view--emptyState--8vmgw tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd",y1="project-card";function y2(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown),r=(0,s.d4)(e=>e.folders),n=(0,s.d4)(e=>e.currentUserOrgId),i=(0,aL.S)(),o=(0,s.d4)(e=>e.user),c=(0,eJ.FC)(),d=(0,tL.wA)(c),m=e.folderList.map(e=>({...e,canView:(0,eL.canViewFolder_DEPRECATED)(e.id,c),hideSubtitle:!!(d&&!(0,eL.canMemberOrg)(d.id,c))})),u=()=>e.viewMode===lN.XU.LIST,_=!!e.teamId&&!!e.eligibleForLockedStateRedesign,f=e.teamId?{teamId:e.teamId,isLockedTeam:!!e.eligibleForLockedStateRedesign}:void 0,g=i?(0,z.H)(a):void 0,E=(t,a)=>{let{hideSubtitle:r,...n}=t,i=!r&&e.showTeamNameOrAuthor;return l.createElement(yZ.Z,{key:t.id,showTeamNameOrAuthor:i,folder:n,dataOnboardingKey:a,isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter,checksForViewOnlyLabels:f,inItemsView:!1})};return 0===m.length?l.createElement(l.Fragment,null,e.onCreateNewFolder&&!(0,e4.R$)(o,n)?l.createElement("div",{className:y0},e.canEditTeamContents?l.createElement(l.Fragment,null,l.createElement("div",{className:"folder_list_view--emptyTitle--t1u0a tiles_view--emptyTitle--3Vwmu"},(0,k.tx)("team_view.folder_empty_view.no_projects_yet")),(0,k.tx)("team_view.folder_empty_view.projects_help_you_organize"),l.createElement(tO.cw,{className:"folder_list_view--emptyButton--g-yAA tiles_view--emptyButton--oAaGe",onClick:e.onCreateNewFolder},l.createElement(j.B,{svg:t0.A,className:"folder_list_view--newProjectIcon--O3wnv tiles_view--newFileIcon--LR1sm"}),(0,k.tx)("team_view.folder_empty_view.new_project"))):(0,k.tx)("team_view.folder_empty_view.this_team_does_not_have_any_projects_yet")):null!=e.emptyStateText?l.createElement("div",{className:S.cx.flex.gap32.$},l.createElement("div",{className:y0},e.emptyStateText),_&&l.createElement(yb.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents})):(0,k.tx)("team_view.folder_empty_view.no_projects")):l.createElement(l.Fragment,null,(()=>{let t=m.length>=2?1:1===m.length?0:void 0,a=u()+m.map(e=>e.id).join(",");return u()||(0,p.kc)().projects_in_items_view?l.createElement("div",{className:S.cx.gap36.$},l.createElement("div",null,l.createElement(yq.m,{folderList:m,onChangeSortOptions:e.onChangeSortOptions,dataOnboardingKey:y1,dataOnboardingKeyIndex:t,checksForViewOnlyLabels:f,viewType:e.viewMode,isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter,showTeamNameOrAuthor:e.showTeamNameOrAuthor,hideSubtitleInGrid:!!(d&&!(0,eL.canMemberOrg)(d.id,c))}),!_&&l.createElement(yK,{canEditTeam:e.canEditTeamContents})),_&&l.createElement(yb.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents})):l.createElement("div",{className:S.cx.flex.gap36.wFull.$},l.createElement(yW.o,{chunkSize:e.chunkSize??30,className:u()?"folder_list_view--foldersContainerList--JrOTO":"folder_list_view--foldersContainerGrid--TRHq7",listKey:a},l.createElement(i6.X,{containerClassName:"folder_list_view--tileGrid--hEswM",tileSize:i6.o.Medium,emptyView:l.createElement(l.Fragment,null)},m.map((e,a)=>a===t?E(e,y1):E(e,"")),!_&&l.createElement(yQ,{canEditTeam:e.canEditTeamContents}))),_&&l.createElement(yb.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}))})(),g&&l.createElement(nl.p,{folder:g,onRenameClick:()=>{if(!g||!g.canEdit)return;let e=r[g?.id];e&&(t((0,tx.WC)()),t((0,eY.to)({type:(0,yj.y)(),data:{folder:e}})))}}))}let y4=[rs.Dq.NAME,rs.Dq.TEAM,rs.Dq.OWNER,rs.Dq.LAST_MODIFIED],y8=[rs.Dq.SHARED_AT],y3=[rs.Dq.NAME,rs.Dq.TEAM,rs.Dq.OWNER,rs.Dq.LAST_MODIFIED,rs.Dq.SHARED_AT],y5=[rs.Dq.NAME,rs.Dq.LAST_MODIFIED],y9={[rs.Dq.NAME]:lN.ue.ASC,[rs.Dq.TEAM]:lN.ue.ASC,[rs.Dq.OWNER]:lN.ue.ASC,[rs.Dq.LAST_MODIFIED]:lN.ue.DESC,[rs.Dq.SHARED_AT]:lN.ue.DESC},y6={[lN.XU.GRID]:{[rs.Dq.NAME]:(0,k.tx)("tile.sort_filter.sort_alphabetical"),[rs.Dq.TEAM]:(0,k.tx)("tile.sort_filter.owner"),[rs.Dq.OWNER]:(0,k.tx)("tile.sort_filter.team"),[rs.Dq.LAST_MODIFIED]:(0,k.tx)("tile.sort_filter.sort_last_modified"),[rs.Dq.SHARED_AT]:(0,k.tx)("tile.sort_filter.date_shared"),[rs.Dq.CREATED_AT]:(0,k.tx)("tile.sort_filter.sort_date_created")},[lN.XU.LIST]:{[rs.Dq.NAME]:(0,k.tx)("tile.sort_filter.sort_alphabetical"),[rs.Dq.TEAM]:(0,k.tx)("tile.sort_filter.owner"),[rs.Dq.OWNER]:(0,k.tx)("tile.sort_filter.team"),[rs.Dq.LAST_MODIFIED]:(0,k.tx)("tile.sort_filter.sort_last_modified"),[rs.Dq.SHARED_AT]:(0,k.tx)("tile.sort_filter.date_shared"),[rs.Dq.CREATED_AT]:(0,k.tx)("tile.sort_filter.sort_date_created")}},y7={viewMode:lN.XU.GRID,sortMode:{sortKey:rs.Dq.LAST_MODIFIED,sortDesc:!0}},be={...y7,sortMode:{sortKey:rs.Dq.SHARED_AT,sortDesc:!0}},bt={name:EJ.f.byProperty("name",EJ.f.LEXICOGRAPHICALLY),lastModified:EJ.f.byProperty("folderLastUpdated"),team:EJ.f.byProperty("folderTeamName",EJ.f.LEXICOGRAPHICALLY),owner:EJ.f.byProperty("folderOwnerName",EJ.f.LEXICOGRAPHICALLY),sharedAt:EJ.f.byProperty("folderSharedAt"),createdAt:EJ.f.byProperty("created_at"),trashedAt:EJ.f.byProperty("trashed_at")};function ba(e){let{folderList:t,...a}=e,r="trashedFolders"===e.selectedView.view,n=(0,s.d4)(e=>e.teams),i=(0,s.d4)(e=>e.roles),o=(0,s.d4)(e=>e.viewBarViewModeOptionByView),c=(0,s.d4)(e=>e.viewBarSortOptionsByView),d=(0,s.d4)(e=>e.tileSortFilterStateByView),m=e.isSharerInfoIncluded?y8:y4,u=e.showTeamNameOrAuthor?m:y5,_=e.isSharerInfoIncluded?be:y7,f=l.useMemo(()=>({viewMode:(0,yJ.y2)(e.viewId,o,_.viewMode),sortMode:(0,yJ.bV)(e.viewId,{viewBarSortOptionsByView:c},u,_.sortMode)}),[_.sortMode,_.viewMode,e.viewId,u,c,o]),g=(0,s.wA)(),E=t=>{g(K.ZR({viewId:e.viewId,sortMode:{sortKey:t.sortKey,sortDesc:t.sortDesc}}))},h=t=>{g(K.uV({viewId:e.viewId,viewMode:t}))},v=e.isSharerInfoIncluded?"folder_list_view--sharedWithYouFolderColumnHeader--YBKhp folder_list_view--columns--k84Gi":"folder_list_view--allFolderColumnHeader--MGmSg folder_list_view--columns--k84Gi",y=e.showTeamNameOrAuthor?v:"folder_list_view--basicFolderColumnHeader--dZmjY folder_list_view--columns--k84Gi",b="sharedWithYou"===e.selectedView.view,w="recentsAndSharing"===e.selectedView.view,T=!b&&!w&&!r,I=l.useMemo(()=>{if("recentsAndSharing"===e.selectedView.view)return e.folderList;let t=d.trashedFolders,a=r?bt[(0,lN.jx)(t.sort.key)??"trashedAt"]:bt[f.sortMode.sortKey];if(!a)return e.folderList;let o=r?t.sort.dir===lN.ue.DESC?EJ.f.reverse(a):a:f.sortMode.sortDesc?EJ.f.reverse(a):a,l=e.folderList.map(e=>({...e,...(0,yX.Z)({teams:n,roles:i},e)}));return l.sort(o),l},[e.selectedView.view,f.sortMode.sortKey,f.sortMode.sortDesc,e.folderList,n,i,r,d.trashedFolders]),C=r&&f.viewMode===lN.XU.GRID&&(0,p.kc)().projects_in_items_view?"folder_list_view--trashedGridViewContainer--efhyK":"folder_list_view--tabContentContainer--lHQoT";return l.createElement("div",{className:r&&f.viewMode===lN.XU.LIST?void 0:C},b?l.createElement(br,{sortFilterOptions:e.sortFilterOptions,sharedWithYouFilters:e.sharedWithYouFilters,onChangeViewModeOption:h,viewBarOptions:f}):null,T?l.createElement(ii.fB,{sortKeys:u,listSortKeys:u,initialSortOrders:y9,mobileListSortKeys:u,tabletListSortKeys:u,sortKeyDescriptions:y6,listHeaderClassName:`folder_list_view--listViewHeader--kUvYs text--fontPos13--xW8hS text--_fontBase--QdLsd ${y}`,options:f,onChangeSortOptions:E,onChangeViewModeOption:h,displayColumns:b?y3:u,hideViewModeToggle:b||w}):null,(0,p.kc)().pdr_show_trashed_projects_banner&&r&&d.trashedFolders.filters.role===lN.Jh.CAN_BE_VIEWED&&l.createElement("div",{className:`${S.cx.mb16.$} ${f.viewMode===lN.XU.LIST&&S.cx.px32.$}`},l.createElement(yH._,{dataTestId:"may-not-restore-or-permanently-delete-banner",color:yH.S.INFORMATION,text:l.createElement("p",{className:S.cx.fontMedium.$},l.createElement("span",{className:S.cx.fontSemiBold.$},(0,k.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner")),"\xa0",(0,k.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner_content"))})),l.createElement(y2,{folderList:I,chunkSize:e.chunkSize,viewMode:f.viewMode,onChangeSortOptions:E,...a}))}function br(e){let{sortFilterOptions:t,sharedWithYouFilters:a,onChangeViewModeOption:r,viewBarOptions:n}=e,i=(0,s.wA)(),o=(0,ea._6)();if("sharedWithYou"!==o.view)return null;if(null==t)return(0,x.KF)(!0,`sortFilterOptions prop is ${t}`),null;let c=l.createElement(ii.$f,{options:t,selectedView:o,dispatch:i}),d=l.createElement("div",{className:S.cx.flex.alignCenter.$},l.createElement(ii.$c,{initialViewMode:n.viewMode,onViewModeChange:r})),m=l.createElement("div",{className:S.cx.flex.$},c,d),u=l.createElement(ii.C9,{options:t,selectedView:o,dispatch:i,sharedWithYouFilters:a});return l.createElement(ii.lU,{leftSide:u,rightSide:m})}function bn(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,tq.ol)(),a=(0,nf.Rs)(nE.kQI,{id:t?t.id:""},{enabled:!!t?.id}),r=(0,s.d4)(e=>e.tileSortFilterStateByView),n=(0,ea._6)(),i=(0,eM.Yz)(),o=r.trashedFolders,[{data:c,status:d}]=(0,f.IT)((0,q.p5)({orgId:e,teamId:t?.id??null,roleFilter:o.filters.role})),m="loaded"===a.status&&!!a.data.team&&a.data.team.hasPermission,u=(0,s.d4)(e=>!!t&&!(0,ek.w5)(t)&&!!(0,ek.oc)(t.id,e));return l.createElement(tD.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loading"!==d,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement("div",{style:tV.sx.mt1.$},l.createElement(ba,{viewId:v5.l,teamId:t?.id,canEditTeamContents:m,folderList:c?.folders||[],chunkSize:c?.folders?.length||0,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!1,selectedView:n,emptyStateText:(0,k.t)("file_browser.trash_project.trashed_empty_state"),useLGPerms:!0,eligibleForLockedStateRedesign:i(u)})))}var bi=(e=>(e.FILES="files",e.FOLDERS="folders",e))(bi||{});function bo(e){let t=(0,vp.y)(),a=t?l.createElement(yt,null):l.createElement(ya,null),r=t&&"folders"===e.selectedTab?l.createElement(bn,null):l.createElement(yV,null);return l.createElement(oy.r,{viewBarSticky:!0,viewbar:a,content:r})}var bl=(e=>(e.CONTROL="control",e.SUGGESTED_WITH_PREPENDING="suggested_with_prepending",e.SUGGESTED_NO_PREPENDING="suggested_no_prepending",e))(bl||{});function bs(){let{getConfig:e}=(0,h.I7)("exp_suggested_files_personalization");return l.useCallback(()=>(function(e){let t=e.get("suggested_files_display_mode","control");return"suggested_with_prepending"===t||"suggested_no_prepending"===t})(e()),[e])}var bc=a(93484);let bd=[ew.Wb3,ew.KoA,ew.Ult,ew.kmq,ew.USq,ew.DKo,ew.jQF,ew.Ob5,ew.s7O,ew.Qlc,ew.I$z,ew.X5_,ew.RJL,ew.LB2,ew.I5n,ew.n0G,ew.Msu,ew.UmN,ew.nIZ,ew.Ql8,ew.pIP,ew.Q16,ew.O5v,ew.rv,ew.HaT,ew.rQs,ew.YHe,ew.tsc,ew.hxO,ew.sqw,ew.Duq,ew.yjU,ew.BTz,ew.I3H,ew._9u,ew.jVB,ew.syA,ew.tZO,ew.LPt,ew.cJy,ew.tUL,ew.zMZ,ew.tBR,ew.K69,ew.Tp6,ew.fz8,ew.XIg,ew.fQh,ew.O9D,ew.c6t,ew.r3Y].map(e=>e.id);function bm({children:e}){return l.createElement(bc.A,{name:"FileBrowser",order:bd},e)}var bu=a(386079),b_=a(394828),bp=a(425569);let bf="has_seen_jamboard_importer_callout",bg=(0,eh.r1)(bf),bE=(0,eh.r1)("signed_up_from_figjam_jamboard");function bh(){let e=(0,s.wA)(),t=(0,ef.md)(bg),a=(0,ef.md)(bE),r=(0,ef.md)(ag.mp),n=(0,ef.md)(ag.zN),{isShowing:i,complete:o}=(0,eE.e)({overlay:ew.DKo,priority:ev.N.HIGH_PRIORITY_MODAL},[t,a,r,n]);return l.createElement(ey.rq,{isShowing:i,trackingContextName:"Jamboard Importer Button Callout",targetKey:bu._,userFlagOnShow:bf,onTargetLost:o,onClose:o,primaryCta:{label:(0,k.tx)("rcs.jamboard.importer_callout.primary_cta"),type:"button",onClick:()=>{o(),e((0,eY.to)({type:bp.Qn}))},ctaTrackingDescriptor:eg.c.GET_STARTED},secondaryCta:{label:(0,k.tx)("rcs.jamboard.importer_callout.secondary_cta"),type:"button",onClick:o,ctaTrackingDescriptor:eg.c.NOT_NOW},title:(0,k.tx)("rcs.jamboard.importer_callout.title"),media:l.createElement(b_.y,{src:"https://static.figma.com/uploads/0d827f2ef59eca7e23348ab3935984c306b2ed8d",alt:"",aspectRatio:300/146}),description:(0,k.tx)("rcs.jamboard.importer_callout.desc"),disableHighlight:!0})}let bv=e=>{switch(e){case lN.t2.DESIGN:return"design";case lN.t2.FIGJAM:return"whiteboard";case lN.t2.PROTOTYPE:return"prototype";case lN.t2.SITES:return"sites";case lN.t2.SLIDES:return"slides";case lN.t2.ANY:return"";default:(0,x.xb)(e)}},by=e=>{switch(e){case lN.C0.NAME:return"name";case lN.C0.CREATED_AT:return"created_at";case lN.C0.TOUCHED_AT:return"updated_at";default:return(0,sw.$D)(np.FigmaTeam.WAYFINDING,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};var bb=a(406941),bw=a(788811),bT=a(439729),bI=a(995852),bC=a(802026),bx=a(986060),bN=a(454984),bS=a(318327),bk=a(659969);let bL=(0,aA.Ju)(function(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.teams)[e.teamId].subscription,r=e.paymentRequiresAction;return(0,l.useEffect)(()=>{bk.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,lD.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,l.useEffect)(()=>{r||a===e2.Qh.INCOMPLETE||t(eY.ES({type:bL.type}))},[a,t,r]),l.createElement(r7.Eo,{title:(0,k.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,k.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:eg.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"}},(0,k.tx)("payments.pending_subscription_modal_description"))},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var bA=a(999394);let bR="banners--warn--bC4ke",bF="banners--primaryCtaButton--tyhCJ",bP="banners--content--ciED3",bO="banners--titleSmall--ceZgU",bD="banners--bold--qt00U",bM="banners--message--9BMLM",bB="banners--messageSmall--YT-82",bU="banners--secondaryCtaButton--uYrvi",bV="banners--ctaButtonGroup--r8cfU",bH="banners--closeButton--IXY-V",bW="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",bj="banners--teamUpgradeNotice--gqc9c",b$="banners--softWarningBanner--QK9Y5",bG="banners--softWarningBannerBlue--uQmhb";var bY=a(677050),bz=a(403262),bQ=a(169321),bK=a(123243);function bq(e,t){let a;if(!e.currentUserOrgId||!(0,ek.wn)(e.currentUserOrgId,e))return null;let r=e.orgById[e.currentUserOrgId],n=(0,eL.canAdminOrg)(e.currentUserOrgId,e),i=r.past_due_at&&(0,tH.A)(r.past_due_at).add(2,"weeks")>(0,tH.A)(new Date);if(!n&&i)return null;let o=(0,tj.zR)(e.orgUsersByOrgId[e.currentUserOrgId]).map(e=>l.createElement("span",{key:e.id,className:bD},e.user.handle," (",e.user.email,")"));return a=n?r.billing===bC.EZ.CHARGE_IMMEDIATELY?(0,k.tx)("payments.org_past_due_on_payment",{invoice:l.createElement("a",{onClick:()=>{t?.(K.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:ad.J7.BILLING}))}},(0,k.tx)("payments.outstanding_invoice")),orgName:r.name}):(0,k.tx)("payments.org_past_due_on_payment_invoiced",{email:l.createElement("b",{className:bD},(0,p.W4)()),orgName:r.name}):(0,k.tx)("payments.please_reach_out_to_org_admins",{orgName:r.name,admins:(0,eL.canMemberOrg)(e.currentUserOrgId,e)&&l.createElement("span",null," ",l.createElement(bT.T,{formatType:"disjunction"},o)),numAdmins:o.length}),{severity:bA.c.WARN,title:(0,k.t)("payments.payment_not_received"),message:a,cta:null,onClickCta:null}}function bZ(e,t,a,r,n){let i=a?r.teams[a]:null;if(a&&!i||"file"===e)return null;let o=r.currentTeamId,s=i&&i.subscription===e2.Qh.GRACE_PERIOD,c=r.billingSummary,d=i?.subscription===e2.Qh.INCOMPLETE,u=!!i?.org_id,_=!!i?.subscription,f=e=>e?.status==="open"&&e?.payment_intent?.status===rc.pk.REQUIRES_SOURCE_ACTION,g=(0,p.kc)().requires_action_3ds_banner&&s&&!u&&_&&(f(c?.last_monthly_invoice)||f(c?.last_annual_invoice)),h=i&&(d||g),v=i&&i.subscription===e2.Qh.PAST_DUE,y=i&&i.subscription===e2.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,b=a&&(0,eL.canOwnTeam)(a,r),w=a&&(0,eL.canAdminTeam)(a,r),T=a&&(0,eL.canEditTeam)(a,r),I=i&&(0,ek.oc)(i.id,r),C=i&&!(0,ek.n0)(i)&&!i.student_team&&I,x=i&&(i.student_team_state===rc.kU.STUDENT_TEAM_CURRENT||i.student_team_state===rc.kU.STUDENT_TEAM_EXPIRED),N="folder"===e?t:null,S=0,L={showReminder:!1,showAccessRestricted:!1},A=a||N?.team_id,R="folder"===e&&!N,F=!!(0,p.kc)().limited_plan_spaces&&(0,p.Ay)().is_limited_team_plan&&R;if(r.user){let t=A?(0,eL.getRolesForUserAndTeam)(A,r):[],a=A&&(0,eL.hasMinRole)(t,e6.e6.EDITOR),n=["folder","team"].includes(e)&&a,{ps_benchmark:i}=(0,p.kc)(),l=(0,es.cn)(r.user),s=r.userEduGracePeriods;R?(i&&o&&(0,es.hP)(r.user.id,r.roles.byTeamId,r.teams[o])||!i&&(0,es.ej)(r.user.id,r.roles.byTeamId,r.teams))&&(L=(0,es.df)(s,l),S=(0,es.Me)(s)):A&&n&&(L=(0,es.GU)(s,l,A,!!r.teams[A].student_team),S=(0,es.qS)(s,A))}let P=i&&!(0,ek.n0)(i)&&!i.student_team&&N&&!(0,ee.Gi)(N),O=P&&N.is_invite_only,D=P&&N.is_view_only,M=N&&(0,ee.sp)(N),B=!M&&!i&&N&&(0,ek.ZZ)(N,r),U=()=>n?.(bI.WX({teamId:i.id,selectedView:r.selectedView})),V=e=>{e.preventDefault(),n?.(eY.to({type:bS.v,data:{teamId:a}}))},H=()=>{n?.(K.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:eA.Iv.SETTINGS}))},W=()=>m.Ay.redirect("/education/apply",E.Ay.isIpadNative?void 0:"_blank"),j=()=>n?.(bI.WX({teamId:i.id,openInNewTab:!1,selectedView:{view:"team",teamId:i.id}})),$=()=>n?.(eY.to({type:eu.V,data:{upsellSource:e5.b.BANNER}})),G=bq(r,n);if(G)return G;let Y=(0,ek._b)(i),z=i&&i.subscription_raw!==e2.Qh.OK&&(0,ek.WQ)(i)&&w&&e8.ng.getProTrialStatus(i)!==bx.a.IN_TRIAL&&Y,Q=["team","folder"].includes(e)&&T&&(0,tq.cU)(i),q=T&&function(e,t){let a=e&&t[e.id]?.dismissed_legacy_team_upgrade_notice_banner;return(0,tq.zs)(e)&&!a}(i,r.userTeamFlags),Z=(0,e4.R$)(r.user,r.currentUserOrgId),X=e8.ng.canSeeExpiredProTrialBanner(r.userTeamFlags,i,r),J=i&&r.userTeamFlags[i.id]?.[e8.lg],et=X&&(I||T&&!J),ea=r.user?(0,es.x$)(r.eduPeriodEnd,(0,es.cn)(r.user)):1/0,er=ea>0&&ea!==1/0,en=0===ea,ei=i&&i.student_team_state===rc.kU.STUDENT_TEAM_CURRENT,eo=i&&i.student_team_state===rc.kU.STUDENT_TEAM_EXPIRED&&I,el=er&&b&&ei,ec=en&&b&&eo,ed=er&&T&&ei,em=en&&!T&&ei,e_=(0,p.kc)().edu_offboarding_experience&&(el||ec||ed||em),ep=(0,p.kc)().edu_offboarding_experience&&eo;if(s&&!g)return{severity:bA.c.WARN,title:(0,k.t)("payments.payment_failed"),message:(0,k.t)("payments.payment_failed_explanation"),cta:w?(0,k.t)("payments.update_payment"):(0,k.t)("payments.contact_admin"),ctaTrackingProperties:w?{trackingDescriptor:eg.c.UPDATE_PAYMENT}:void 0,onClickCta:w?H:null};if(v)return{severity:bA.c.WARN,title:(0,k.t)("payments.locked"),message:(0,k.t)("payments.locked_description",{teamName:i.name}),cta:w?(0,k.t)("payments.update_payment"):(0,k.t)("payments.contact_admin"),ctaTrackingProperties:w?{trackingDescriptor:eg.c.UPDATE_PAYMENT}:void 0,onClickCta:w?H:null};if(y)return{severity:bA.c.WARN,title:(0,k.t)("payments.locked"),message:w?l.createElement("span",null,(0,k.tx)("payments.no_monthly_sub_over_editor_limit_admin.seat_rename",{contactSupport:l.createElement("a",{href:`mailto:${(0,p.W4)()}`},(0,k.tx)("payments.contact_support"))})):l.createElement("span",null,(0,k.tx)("payments.no_monthly_sub_over_editor_limit.seat_rename")),cta:w?(0,k.t)("payments.manage_plan"):null,onClickCta:w?()=>{n?.(K.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:eA.Iv.SETTINGS}))}:null};if(et){let e,t,r,o;return I?(e=T?(0,k.tx)("payments.pro_trial_expiry.locked_description_on_team",{teamName:i.name,lowerUsageLink:l.createElement(ez.$z,{onClick:V},(0,k.tx)("payments.pro_trial_expiry.lower_usage"))}):(0,k.tx)("payments.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),t=T?(0,k.tx)("payments.pro_trial_upgrade_cta.upgrade"):null,r=`${b$} `,o="Pro Trial Expiry Banner Locked"):(e=i?(0,k.tx)("payments.pro_trial.trial_ended_banner_message",{teamName:i.name}):(0,k.tx)("payments.pro_trial.trial_ended_banner_message.no_name"),t=(0,k.tx)("payments.pro_trial.trial_ended_banner_upgrade_cta"),r=`${b$} ${bG}`,o="Pro Trial Expiry Banner Unlocked"),{severity:bA.c.WARN_SOFT,title:(0,k.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:T?j:void 0,svg:bz.A,bannerClassName:r,trackingContextName:o,dismissible:!I,onClose:I?void 0:()=>{a&&n?.(nk.bE({all_team_flags:[{team_id:a,flags:{[e8.lg]:!0}}]}))}}}if(F)return{severity:bA.c.WARN_SOFT,title:(0,k.tx)("file_browser.limited_space_banner.heading"),message:(0,k.tx)("file_browser.limited_space_banner.description"),cta:null,hideIcon:!0,bannerClassName:"banners--limitedSpaceBanner--Pq6k8"};if(e_){let e=()=>n?.(eY.to({type:bN.ZL,data:{team:i}}));if(el||ed)return{severity:bA.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_status_is_expiring_soon"),message:(0,k.tx)("edu.banner.to_keep_collaborating_upgrade_team",{teamName:i.name,verify:l.createElement(tO.Us,{href:"/education/apply",target:"_blank",trusted:!0},(0,k.tx)("edu.banner.verify_your_education_status"))}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:bY.A,bannerClassName:`${b$} ${bG}`,trackingContextName:"Edu Offboarding Banner"};if(ec)return{severity:bA.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_plan_has_expired"),message:(0,k.tx)("edu.banner.team_is_now_view_only_for_all_members",{teamName:i.name}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:bY.A,bannerClassName:b$,trackingContextName:"Edu Offboarding Banner"};if(em)return{severity:bA.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_plan_has_expired"),message:(0,k.tx)("edu.banner.you_can_no_longer_edit_files",{teamName:i.name}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:bY.A,bannerClassName:b$,trackingContextName:"Edu Offboarding Banner"}}else if(ep)return{severity:bA.c.WARN_SOFT,title:(0,k.tx)("edu.banner.team_s_education_status_has_expired",{teamName:i.name}),message:(0,k.tx)("edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"),cta:null,svg:bY.A,bannerClassName:b$,trackingContextName:"Edu Offboarding Banner"};else if(!C||r.checks&&r.checks.isEligibleForLockedRedesign&&r.checks.isEligibleForLockedRedesign(!x&&C)){if(Z){let e=r.user.external_restricted_org_id,t=(0,k.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&r.orgById[e]){let a=r.orgById[e];t=(0,k.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:a.name})}return{severity:bA.c.WARN,title:(0,k.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}if(r.user&&["team","folder"].includes(e)&&L.showAccessRestricted){let e,t=(0,k.t)("banner.edu_grace_period.your_education_plan_has_expired");return i?(0,es.eB)(r.user.id,r.roles.byTeamId,i)?e=(0,k.t)("banner.edu_grace_period.team_is_now_view_only_for_all_members",{teamName:i.name}):(0,es.QS)(r.user.id,r.roles.byTeamId,i)?e=(0,k.t)("banner.edu_grace_period.you_can_no_longer_edit_files_in_team",{teamName:i.name}):(t=(0,k.t)("banner.edu_grace_period.your_education_plan_has_expired.is_member",{teamName:i.name}),e=(0,k.t)("banner.edu_grace_period.move_or_duplicate_files_to_another_location_to_save_your_work")):e=(0,k.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),{severity:bA.c.ANNOUNCEMENT,title:t,message:e,learnMoreUrl:"/education/",cta:(0,k.t)("banner.edu_grace_period.verify_status_button"),onClickCta:W,svg:bY.A,bannerClassName:bj}}if(["team","folder"].includes(e)&&L.showReminder)return{severity:bA.c.ANNOUNCEMENT,title:(0,k.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:S}),message:(0,k.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,k.t)("banner.edu_grace_period.verify_status_button"),onClickCta:W,svg:bK.A};else if(O||D)return{severity:bA.c.WARN,title:(0,k.t)("payments.folder_locked"),message:(0,k.t)("payments.folder_locked_description",{projectType:"Invite"==(O?"Invite":"View")?(0,k.t)("payments.invite_only_projects"):(0,k.t)("payments.view_only_projects"),teamName:i.name}),learnMoreUrl:"/pricing",cta:T?(0,k.t)("payments.upgrade_now"):(0,k.t)("payments.contact_admin_for_details"),ctaTrackingProperties:T?{trackingDescriptor:eg.c.UPGRADE_NOW,upsellSource:e5.b.BANNER}:void 0,onClickCta:T?U:null};else if(B&&"folder"===e)return{severity:bA.c.WARN,title:(0,k.t)("payments.locked"),message:(0,k.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(M&&"folder"===e)return{severity:bA.c.WARN,title:(0,k.t)("payments.abandoned_project"),message:(0,k.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(q){let e=(0,k.t)("payments.file_limit_unified",{figmaFiles:ek.WW,figjamFiles:ek.WW});Q?q||(e=(0,k.t)("payments.file_limit_figjam",{figjamFiles:ek.WW})):e=(0,k.t)("payments.file_limit_figma",{figmaFiles:ek.WW});let t=()=>l.createElement("button",{type:"button",onClick:$,className:"banners--bannerInlineTextButton--GRx12"},(0,k.tx)("payments.check_out_our_paid_plans")),a=i?l.createElement("span",null,(0,k.tx)("payments.team_over_starter_team_limit_with_button.legacy_team",{fileLimitString:e,checkoutOurPlans:t(),teamName:i.name})):l.createElement("span",null,(0,k.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present",{fileLimitString:e,checkoutOurPlans:t()}));return{severity:bA.c.ANNOUNCEMENT,title:(0,k.t)("payments.team_over_starter_team_limit_title"),message:a,cta:(0,k.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:eg.c.UPGRADE_NOW,upsellSource:e5.b.BANNER},onClickCta:U,svg:bQ.A,bannerClassName:bj,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(z){let e=(0,tH.A)(i.grace_period_end).toDate(),t=(0,k.tx)("payments.pro_plan_ends_relative_time_string",{relative_time_string:l.createElement(lU.h1,{date:e})});return Y||(t=(0,k.tx)("payments.pro_plan_ends_on_date",{end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:bA.c.ANNOUNCEMENT,title:t,message:(0,k.t)("payments.pro_plan_ends_for_team_description",{teamName:i.name}),cta:(0,k.t)("payments.pro_plan_ends_button"),onClickCta:j,svg:Y?bQ.A:bz.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:Y?bj:void 0}}else if(h){let e=d?(0,k.t)("payments.complete_team_payment_description",{teamName:i.name}):(0,k.t)("payments.complete_team_renewal_payment_description");return{severity:bA.c.WARN,title:(0,k.t)("payments.complete_payment"),message:e,cta:l.createElement(ox.V,{trackingProperties:{trackingDescriptor:eg.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>n?.(eY.to({type:bL,data:{teamId:a,paymentRequiresAction:!!g}}))},(0,k.tx)("payments.complete_payment_cta")),onClickCta:null}}}else{let e;return e=w||T?l.createElement("span",null,l.createElement("b",{style:tV.sx.fontSemiBold.$},(0,k.tx)("payments.team_over_starter_team_limit",{teamName:i.name})," "),(0,k.tx)("payments.team_over_starter_team_limit_upgrade",{teamName:i.name,lowerYourUsage:l.createElement("a",{href:"#",onClick:V},(0,k.tx)("payments.team_over_starter_team_limit_lower_your_usage"))})):l.createElement("span",null,l.createElement("b",{style:tV.sx.fontSemiBold.$},(0,k.tx)("payments.team_over_starter_team_limit",{teamName:i.name})," "),(0,k.tx)("payments.contact_admin_for_details")),{severity:bA.c.WARN,title:(0,k.t)("payments.locked"),message:e,cta:T?(0,k.t)("payments.upgrade_now"):null,ctaTrackingProperties:T?{trackingDescriptor:eg.c.UPGRADE_NOW,upsellSource:e5.b.BANNER}:void 0,onClickCta:T?U:null}}return null}function bX(e,t,a,r,n){return!!bZ(t,a,r,{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,checks:n,...(0,eL.getPermissionsState)(e)},null)}function bJ(e){return(0,s.d4)(t=>bX(t,e.resourceType||e2.vt.FOLDER,e.resource||null,e.teamId||null,e.checks))}function b0(e,t){let a={...e};return"string"==typeof t.title&&(a.title=t.title),"string"==typeof t.message&&(a.message=t.message),a}var b1=a(114961),b2=a(702595);let b4=l.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),l.createElement("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},l.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})),l.createElement("g",{mask:"url(#mask0_4:25)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"}));function b8(e){let{title:t,message:a,cta:r,ctaTrackingProperties:n,learnMoreUrl:i,onClickCta:o,severity:s,secondaryCTA:c,secondaryOnClickCta:d,svg:m,trackingContextName:u="Banner",contentStyles:_,reverseCtas:p,dismissible:f,onClose:g}=e;return s===bA.c.ANNOUNCEMENT?l.createElement(ez.fu,{name:u,properties:{severity:s,...e.tracking}},l.createElement("div",{className:bP},m&&l.createElement(j.B,{svg:m,useOriginalSrcFills_DEPRECATED:!0}),l.createElement("div",{className:bM},l.createElement("div",{className:bO},t),l.createElement("div",{className:bB},a)),l.createElement(tO.e2,{reversed:p,className:bV},o&&l.createElement(tO.vd,{className:bF,onClick:o,trackingProperties:n},r),d&&l.createElement(tO.tM,{className:bU,onClick:d},c),f&&g&&l.createElement(nv.Jn,{className:bH,onClick:g})))):s===bA.c.EVENT?l.createElement(ez.fu,{name:u,properties:{severity:s,...e.tracking}},l.createElement("div",{className:`${bP} ${_}`},l.createElement("div",{className:"banners--eventMegaphoneIcon--7J3rx"},b4),l.createElement("div",{className:bM},l.createElement("p",{className:bO},t),l.createElement("p",{className:bB},a)),l.createElement(tO.e2,{className:bV},o&&l.createElement(tO.vd,{className:bF,onClick:o,trackingProperties:n},r),d&&l.createElement(tO.tM,{className:bU,onClick:d},c),f&&g&&l.createElement(nv.Jn,{className:bH,onClick:g})))):l.createElement(ez.fu,{name:u,properties:{severity:s,...e.tracking}},l.createElement("div",{className:`${bP} ${_}`},!e.hideIcon&&l.createElement(j.B,{svg:b2.A,className:"banners--warningIcon--A5YS-",autosize:s===bA.c.WARN_SOFT}),l.createElement("div",{className:bM},l.createElement("span",{className:"banners--title--OIA0P"},t),a,i&&l.createElement("span",null,"\xa0",l.createElement("a",{target:"_blank",rel:"noopener",href:i},(0,k.tx)("payments.learn_more")))),l.createElement(tO.e2,{reversed:p,className:bV},o&&l.createElement(tO.vd,{className:bF,onClick:o,trackingProperties:n},r),!o&&l.createElement("div",{className:"banners--ctaMessage--5MB88"},r),f&&g&&l.createElement(nv.Jn,{className:bH,onClick:g}))))}let b3=(0,s.Ng)(e=>({userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduValidated:!!e.user?.student_validated_at,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,eL.getPermissionsState)(e)}))(function(e){let t;let a=(0,nf.Rs)(nE.UpR,{}),r=(0,eM.Yz)(),n=e.folderId?e.folders[e.folderId]:null,i=n?n.team_id:null,o=e.dispatch,c=i&&(0,eL.canAdminTeam)(i,e),d=i?e.teams[i]:null,m=!!d?.org_id,u=!!d?.subscription;(0,l.useEffect)(()=>{(0,p.kc)().requires_action_3ds_banner&&i&&!m&&u&&c&&o(b1.Be({teamId:i}))},[o,i,m,u,c]);let _=(0,s.d4)(e=>e.teamBilling?.summary),f=bZ(e2.vt.FOLDER,n??null,i,{eduPeriodEnd:a.data?.currentUser?.eduPeriodEnd,billingSummary:_,checks:{isEligibleForLockedRedesign:r},...e},e.dispatch);if(!f)return l.createElement("div",null);t=n?b0({resourceType:e2.vt.TEAM,teamId:i,folderId:n.id},f):b0({resourceType:"recents"},f);let g=f.severity===bA.c.WARN?bR:"",E=f.bannerClassName||"",h=`${bW} ${g} ${E}`;return l.createElement("div",{className:h},l.createElement(b8,{...f,tracking:t}))}),b5={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},b9=(0,v1.xx)(ee.ZN);function b6(e){let{sortFilterOptions:t,selectedBranchKeyByRepoId:a}=(0,nJ.R)(t=>({sortFilterOptions:b9(e.folderId,t.tileSortFilterStateByView),selectedBranchKeyByRepoId:t.selectedBranchKeyByRepoId})),r=(0,bw.Rp)(),n=(0,s.d4)(({currentUserOrgId:e})=>e),i=(0,h.I7)("exp_aa_test_org_drafts");n&&i.getConfig();let o=()=>{},[c,d]=function(e){let t=(0,s.d4)(t=>t.tileSortFilterStateByView.folders.byId[e]??t.tileSortFilterStateByView.folders.default),a=(0,l.useMemo)(()=>({file_type:bv(t.filters.fileType),sort_order:t.sort.dir===lN.ue.ASC?"asc":"desc",sort_column:by(t.sort.key)}),[t.filters.fileType,t.sort.dir,t.sort.key]),[r,n]=(0,f.IT)((0,J.BU)({folderId:e,...a}));return[r,(0,l.useCallback)(e=>{if("fetchNextPage"===e.type)return n.fetchNextPage();(0,x.xb)(e.type)},[n])]}(e.folderId),m=c.data?.folder,u=(0,eM.Yz)(),_=(0,tR.vt)(m?.team_id),p=bJ({resourceType:e2.vt.FOLDER,resource:m,teamId:m?.team_id||null,checks:{isEligibleForLockedRedesign:u}});o=l.useCallback(()=>{c.isFetchingNextPage||d({type:"fetchNextPage"})},[c.isFetchingNextPage,d]);let g=l.useMemo(()=>{let e=(c.data?.files||[]).map(e=>({type:ra.nb.FILE,file:e})),t=c.data?.filesByRepoId||{};return[...e,...(c.data?.repos||[]).map(e=>({type:ra.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:a[e.id]||""})),...Object.values(r).filter(e=>e.orgId===n).map(ra.gB)]},[n,c.data?.files,c.data?.filesByRepoId,c.data?.repos,r,a]),E=!!m&&_,v=l.createElement(l.Fragment,null,l.createElement(yB,{newFileTile:!0,tiles:g,chunkSize:g.length,tileActions:b5,sortFilterOptions:t,emptyStateText:"",hideSorter:!0,isDataPartial:!!c.hasNextPage,eligibleForLockedStateRedesign:u(E)}),l.createElement(vK.cx,null)),y=l.createElement(tD.A,{loadingElementId:"loading-content-pane",loaded:"loaded"===c.status,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(bb.B,{key:`${t.tileSortFilterConfig.filters.fileType}`,onShouldFetchNextPage:o},v));return(0,ez.T8)(l.createElement(oy.r,{viewBarSticky:!0,banner:p?l.createElement(b3,{folderId:e.folderId}):void 0,content:y,viewbar:l.createElement(ya,null)}),e7.e0.FILE_BROWSER,{view:"drafts"})}var b7=a(772841),we=a(189430),wt=a(953993),wa=a(529982),wr=a(452441),wn=a(649433),wi=a(516056);let wo=(0,aA.Ju)(function(e){let t,a;let r=(0,s.wA)(),[n,i]=l.useState(""),o=(0,s.d4)(e=>e.deletedReposById),c=(0,s.d4)(e=>e.fileByKey),{reposToDelete:d,draftsToDelete:m,deleteAllDraftsAsync:u,isDeleteAll:_,isPermanentDeletion:f}=e,g=m.map(e=>e.name).concat(d.map(e=>e.name)),E=g.length>1;t=f?E?(0,k.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:g[0]}):E?(0,k.t)("file_browser.draft_delete_modal.header_multiple_files_trash",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.header_single_file_trash");let h=(t,a)=>{if(t.length>0){if(f){let a=t.reduce((e,t)=>(e[t.key]=!0,e),{});r(a5.YK({fileKeys:a,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}))}else{let a=t.reduce((e,t)=>(e[t.key]=t,e),{});r(a5.VK({fileKeys:a,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess,hideVisualBell:!0}))}}let n={};a.forEach(e=>{let t=o[e.id];if(t)n[e.id]=t;else{let t=e.default_file_key&&c[e.default_file_key];t&&(n[e.id]={repo:e,main_file:t})}}),a.length>0&&(f?r((0,wn.YM)({repoIds:Object.keys(n),userInitiated:!0})):r((0,wn.hT)({reposById:n,userInitiated:!0})))},v=()=>wi.k.deleteAllPersonalDrafts().then(()=>r(a0.F.enqueue({message:(0,k.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>r(a0.F.enqueue({message:(0,k.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),y=()=>{let{draftsToDelete:t,reposToDelete:a}=e;t.length+a.length>100?r($.s.error((0,k.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(t.length>0),h(t,a))},b=()=>{u?v():y(),e.onClose()},w=l.useMemo(()=>n.trim().toLowerCase()!==(0,k.t)("file_browser.draft_delete_modal.button_delete").toLocaleLowerCase(),[n]);a=f?E?(0,k.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.permanently_delete_one_draft"):E?(0,k.t)("file_browser.draft_delete_modal.you_are_about_to_delete_multiple_drafts",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.you_are_about_to_delete_single_draft",{fileName:g[0]});let T=f?l.createElement(tO.qM,{onClick:b,disabled:w,trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f},dataTestId:"draft-delete-confirmation-button"},l.createElement("span",{"data-tooltip":(0,k.t)("file_browser.draft_delete_modal.draft_deletion_tooltip",{deletionString:(0,k.t)("file_browser.draft_delete_modal.button_delete")}),"data-tooltip-type":w?eR.Ib.TEXT:null,"data-tooltip-max-width":180,"data-tooltip-show-above":!0},(0,p.kc)().ps_trashed_drafts_enabled?(0,k.t)("file_browser.draft_delete_modal.button_permanently_delete_files",{numFiles:g.length}):(0,k.t)("file_browser.draft_delete_modal.button_delete"))):l.createElement(r3.vd,{onClick:b,"data-testid":"draft-delete-confirmation-button",trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f}},(0,k.tx)("file_browser.draft_delete_modal.button_delete_files",{numFiles:g.length}));return l.createElement(ez.fu,{name:"draftDeleteModal",properties:{itemCount:g.length,isDeleteAsync:!!u,isDeleteAll:!!_}},l.createElement(r7.XV,{title:t,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0},l.createElement("div",{className:"draft_delete_modal--modalContent--QYGIS"},l.createElement("p",null,a," ",!f&&l.createElement("p",null,l.createElement("br",null),(0,k.tx)("file_browser.draft_delete_modal.you_can_access_drafts_from_deleted_drafts_section",{fileCount:g.length}))),l.createElement("p",{className:"draft_delete_modal--confirmationTextSpacing---MQEW"},f&&(0,k.tx)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts_confirmation",{deletionString:(0,k.t)("file_browser.draft_delete_modal.button_delete")})),l.createElement("form",{onSubmit:b},f&&l.createElement("div",null,l.createElement(wr.L,{className:"draft_delete_modal--deleteDraftsInput--pCTUB",type:"text",dataTestId:"draft-delete-confirmation-input",value:n,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onChange:e=>{i(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),l.createElement("div",{className:"draft_delete_modal--footer--SRSo6"},l.createElement(tO.nR,{onClick:e.onClose},(0,k.tx)("modal.cancel")),T)))))},"DraftDeleteModal");var wl=a(403223),ws=a(70964),wc=a(255533),wd=a(71048);let wm="drafts_to_move_page_view--fileCellDateSpan--xWiCm",wu="drafts_to_move_page_view--dateColumn--V3e9G drafts_to_move_page_view--column--jpRzM table--column--974RA",w_="drafts_to_move_page_view--emptyContentContainer--w1lwc",wp="drafts_to_move_page_view--emptyContentHeader--35cXt",wf=(0,iL.jz)(i4.ISO);var wg=(e=>(e.DRAFT_FILES="draft-files",e.DELETED_DRAFT_FILES="deleted-draft-files",e))(wg||{}),wE=(e=>(e.NONE="NONE",e.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",e.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",e.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",e.TRANSFER_COMPLETED="TRANSFER_COMPLETED",e))(wE||{});function wh(e){let t=e=>{switch(e){case"draft-files":return(0,k.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,k.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,x.xb)(e)}},a=t=>{let a=wg[t].replace(/-/g,"_");(0,tN.Cu)({text:a,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(wg[t])},r=Object.keys(wg).map(r=>l.createElement(v8.r,{tab:wg[r],onClick:()=>a(r),isSelected:e.selectedTab===wg[r],tabName:t(wg[r]),key:r}));return l.createElement(ii.g2,{leftSide:l.createElement(v8.f,{tabs:r}),rightSide:[]})}function wv(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.selectedView),r=(0,lT.v)(),{item:n}=e,i=ra.Tf.getFileKey(n)??"",o=(0,wt.Y)(i,ra.Tf.getFavoritedResourceType(n),ra.Tf.getOrgId(n),ra.Tf.getFavoriteResourceTeamId(n)),c=l.useMemo(()=>"loaded"===o.status?!!o.favorite:ra.Tf.getIsFavorited(n),[n,o]),d=e=>i=>{i.detail>1&&!ra.Tf.getTrashedAt(n)&&(yS({tile:e,index:0,dispatch:t,selectedView:a}),r(e,i),i.stopPropagation())};return l.createElement("div",{className:S.cx.inlineFlex.minW0.$},l.createElement("button",{className:"drafts_to_move_page_view--draftThumbnail--whTtS",onClick:d(n),"data-testid":`fileTile-${i}`},l.createElement(lb.e,{tile:n,noBorder:!0}),l.createElement("div",{className:"drafts_to_move_page_view--topLeftControls--kfCRe"},l.createElement(lV.x,{tile:n,iconSize:16})),c&&l.createElement("div",{className:"drafts_to_move_page_view--topRightControls--dD-Od"},l.createElement("div",{className:"drafts_to_move_page_view--control--W49tq"},l.createElement(rk.r,{setFavorite:g.lQ,favoriteType:(0,eq.UL)(n.type),resourceId:i,noHoverState:!0,size:rk.m.SMALL,orgId:ra.Tf.getOrgId(n)??null,teamId:ra.Tf.getFavoriteResourceTeamId(n),disableTooltip:!0})))),l.createElement("div",{className:S.cx.ml14.minW0.flex.flexColumn.itemSelfCenter.$},l.createElement("button",{className:"drafts_to_move_page_view--fileName--U3mn4",onClick:d(n)},ra.Tf.getName(n)),e.shouldDisplayFileDates&&l.createElement("div",{className:"drafts_to_move_page_view--fileCellDatesSection--LFnvg"},l.createElement("span",{className:wm},(0,k.tx)("file_browser.drafts_to_move.file_created_at_label",{timeDifference:l.createElement(lU.h1,{date:ra.Tf.getCreatedAt(n)})})),l.createElement("span",{className:wm},(0,k.tx)("file_browser.drafts_to_move.file_last_modified_at_label",{timeDifference:l.createElement(lU.h1,{date:ra.Tf.getTouchedAt(n)??""})})))))}function wy({currentFileTransferState:e}){let t="dark"===(0,iM.DP)(),a=e=>l.createElement(l.Fragment,null,l.createElement(tM.kt,{size:"large"}),l.createElement("p",{className:"drafts_to_move_page_view--transferContentHeader--ljikD"},(0,k.tx)("file_browser.drafts_to_move.file_transfer_header",{transferType:"ASYNC_FILE_MIGRATION"===e?(0,k.tx)("file_browser.drafts_to_move.file_transfer_migration_type"):(0,k.tx)("file_browser.drafts_to_move.file_transfer_deletion_type")})),l.createElement("p",null,(0,k.tx)("file_browser.drafts_to_move.file_transfer_description"))),r=()=>l.createElement("div",{className:"drafts_to_move_page_view--slideIn--c-NGK"},l.createElement("div",{className:"drafts_to_move_page_view--animatedContentContainer--z1sdh"},l.createElement(ws.Gv,{src:t?"https://static.figma.com/uploads/c9f2d8cbce5754a2b6e3e3e81adf5fe313429577":"https://static.figma.com/uploads/6212099329ba7714b869112a09f8dfffce71edf5",containerClassName:"drafts_to_move_page_view--allDoneGif--mwZxC",height:100,width:100}),l.createElement("p",{className:wp},(0,k.tx)("file_browser.drafts_to_move.empty_header")),l.createElement("p",null,(0,k.tx)("file_browser.drafts_to_move.empty_body_text")))),n=()=>l.createElement(tM.kt,{size:"large"});return l.createElement("div",{className:w_},(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return a(e);case"TRANSFER_COMPLETED":return r();default:return n()}})())}function wb(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.user?.personal_drafts_folder_id),a=(0,s.d4)(e=>e.fileKeysByFolderId),r=(0,s.d4)(e=>e.fileKeysByRepoId),n=(0,s.d4)(e=>e.repoIdsByFolderId),i=(0,s.d4)(e=>e.repos),o=(0,s.d4)(e=>e.fileByKey),c=(0,s.d4)(e=>e.selectedView),d=(0,s.d4)(e=>e.selectedBranchKeyByRepoId),m=(0,s.d4)(e=>e.userFlags),u=m.personal_draft_migration_scheduled,_=m.personal_draft_migration_completed,f=m.personal_draft_deletion_scheduled,g=m.personal_draft_deletion_completed,E=(0,s.d4)(e=>e.loadedFolders),v=(0,s.d4)(e=>e.deletedFilesByKey),y=(0,s.d4)(e=>e.deletedReposById),{windowInnerWidth:b}=(0,we.l)(),w=(0,nf.Rs)(nE.vXh,{}),T=(0,nf.Rs)(nE.Jzf,{projectId:t??""},{enabled:!!t}),I=(0,lT.v)(),[C,x]=l.useState("draft-files"),[N,L]=l.useState(!1),[A,R]=l.useState("NONE"),[F,P]=l.useState(!1),[O,D]=l.useState(!1);l.useEffect(()=>{u&&(0,r5.rO)(u.updatedAt,_?.updatedAt)?R("ASYNC_FILE_MIGRATION"):f&&(0,r5.rO)(f.updatedAt,g?.updatedAt)?R("ASYNC_FILE_DELETION "):F?R("SYNCHRONOUS_DELETION_OR_MIGRATION"):R("NONE")},[u,_,f,g,F]),l.useEffect(()=>{e(q.h3({orgId:null}))},[e]);let M="loaded"===w.status,U=l.useMemo(()=>{if(!M)return[];let e=[];return w.data?.currentUser?.draftsFolderId&&e.push(w.data.currentUser.draftsFolderId),e},[M,w]),V=l.useMemo(()=>T.data?.project?.status!==b7.tT.Loaded?new Set:new Set((T.data?.project.data?.undeletedFilesHighLimit??[]).map(e=>e.key)),[T]),H=l.useMemo(()=>{if(T.data?.project?.status!==b7.tT.Loaded)return new Set;let e=new Set;return(T.data?.project.data?.undeletedFilesHighLimit??[]).forEach(t=>{t.fileRepoId&&e.add(t.fileRepoId)}),e},[T]),W=l.useCallback(e=>V.has(e),[V]),j=l.useCallback(e=>H.has(e),[H]);l.useEffect(()=>U.forEach(t=>M&&e((0,J.jl)({folderId:t,loadedFolders:E}))),[E,U,e,M]);let{getConfig:$}=(0,h.I7)("ps_async_draft_move_limit",void 0,!0),G=$().get("async_limit",100),Y=M&&U.every(e=>e&&"loaded"===E[e]),z=l.useMemo(()=>Object.keys(v).map(e=>v[e]).filter(e=>!e.file_repo_id&&e.folder_id===t&&W(e.key)),[v,t,W]),Q=l.useMemo(()=>Object.keys(y).map(e=>y[e]).filter(e=>e&&e.main_file&&e.main_file.folder_id===t&&e.repo&&j(e.repo.id)),[y,t,j]),K=l.useMemo(()=>U.flatMap(e=>n[e]).map(e=>i[e]).filter(e=>!!e&&j(e.id)),[U,i,n,j]),Z=l.useMemo(()=>U.flatMap(e=>a[e]).map(e=>o[e]).filter(e=>!!e&&W(e.key)),[U,o,a,W]);l.useEffect(()=>{let e=Z.length+K.length,t=z.length+Q.length;Y&&!O&&(0===e&&t>0&&x("deleted-draft-files"),D(!0))},[Y,O,Z.length,K.length,Q.length,z.length]);let X=l.useMemo(()=>Z.concat(z).map(e=>({type:ra.nb.FILE,file:e})),[Z,z]),ee="deleted-draft-files"===C?z:Z,et=l.useMemo(()=>ee.map(e=>({type:ra.nb.FILE,file:e})),[ee]),ea=l.useMemo(()=>K.map(e=>{let t=r[e.id].map(e=>o[e]).filter(e=>!!e);return{type:ra.nb.REPO,repo:e,branches:t,selectedBranchKey:d[e.id]}}),[K,d,o,r]),er=l.useMemo(()=>Q.map(e=>({type:ra.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file?.key})),[Q]),en="deleted-draft-files"===C?er:ea,ei=er.concat(ea),eo=et.concat(en),el=X.length>0||ei.length>0,es=eo.length>0,[ec,ed]=l.useState([]),em=()=>{e(eY.Ce()),L(!1)},eu=(t,a)=>{e(a0.F.enqueue({message:(0,k.t)("visual_bell.files_moved_to_folder",{fileCount:a,folderName:t})})),P(!1),ed([])},e_=()=>{P(!1),ed([])},ef=e=>{let t=[],a=[];return e.forEach(e=>{e.type===ra.nb.FILE&&t.push(e.file),e.type===ra.nb.REPO&&a.push(e.repo)}),{draftsToMove:t,reposToMove:a}},eg=t=>{let{draftsToMove:a,reposToMove:r}=ef(ec);L(!0),e(eY.to({type:wo,data:{isPermanentDeletion:t,draftsToDelete:a,reposToDelete:r,deleteAllDraftsAsync:ec.length>G,setSynchronousFileTransferInProgress:P,onDeleteSuccess:e_,onClose:em}}))},eE=()=>{let{draftsToMove:t,reposToMove:a}=ef(ec);L(!0),e(eY.to({type:wl.K,data:{draftsToMove:t,reposToMove:a,moveAllDraftsAsync:ec.length>G,onMoveSuccess:eu,onClose:em,setSynchronousFileTransferInProgress:P}}))},eh=function(e,t,a,r){let n=r>=1200,i=[{name:(0,k.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--sSZYF drafts_to_move_page_view--column--jpRzM table--column--974RA",getSortValue:e=>ra.Tf.getName(e),cellComponent:e=>l.createElement(wv,{item:e,shouldDisplayFileDates:!n})}];return n&&i.push({name:(0,k.t)("file_browser.drafts_to_move.table_header_last_modified"),className:wu,getSortValue:e=>ra.Tf.getTouchedAt(e)??"",cellComponent:e=>{let t=ra.Tf.getTouchedAt(e);return t?l.createElement(lU.h1,{date:t}):""}},{name:(0,k.t)("file_browser.drafts_to_move.table_header_created"),className:wu,getSortValue:e=>ra.Tf.getCreatedAt(e),cellComponent:e=>l.createElement(lU.h1,{date:ra.Tf.getCreatedAt(e)})}),i.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--Mvc2P drafts_to_move_page_view--column--jpRzM table--column--974RA",cellComponent:r=>0===a?l.createElement(l.Fragment,null,l.createElement(tO.tM,{className:B()("drafts_to_move_page_view--openDraftButton--zXZGf",S.cx.if(!!ra.Tf.getTrashedAt(r),S.cx.invisible).$),onClick:e=>t(e,r)},(0,k.tx)("file_browser.drafts_to_move.open_draft_button")),l.createElement(tO.tM,{className:"drafts_to_move_page_view--moveDraftButton--GmBWa",onClick:t=>e(t,r)},(0,k.tx)("file_browser.drafts_to_move.move_draft_button"))):l.createElement(l.Fragment,null)}),i}((t,a)=>{let{draftsToMove:r,reposToMove:n}=ef([a]);e(eY.to({type:wl.K,data:{draftsToMove:r,reposToMove:n,onMoveSuccess:eu,onClose:em,setSynchronousFileTransferInProgress:P}})),t.stopPropagation()},(t,a)=>{yS({tile:a,index:0,dispatch:e,selectedView:c}),I(a,t),t.stopPropagation()},ec.length,b),[ev,ey,eb]=(0,wa.z)({columnName:(0,k.t)("file_browser.drafts_to_move.table_header_last_modified"),isReversed:!0},eo,eh),ew=l.createElement("div",{className:w_},l.createElement("span",{className:wp},(0,k.tx)("file_browser.drafts_to_move.empty_header")),l.createElement("span",null,(0,k.tx)("file_browser.drafts_to_move.empty_content_description",{tab:l.createElement("button",{className:"drafts_to_move_page_view--emptyContentTab--GKlRP",onClick:()=>x("draft-files"===C?"deleted-draft-files":"draft-files")},"draft-files"===C?(0,k.t)("file_browser.drafts_to_move.deleted_drafts"):(0,k.t)("file_browser.drafts_to_move.drafts"))})));if("NONE"!==A)return l.createElement(wy,{currentFileTransferState:A});let eT=ec.length<=0||ec.length>G,eI="deleted-draft-files"===C||!(0,p.kc)().ps_trashed_drafts_enabled,eC=l.createElement(tD.A,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--ZZyqG",loadingElementId:"loading-content-pane",loaded:Y,backgroundColor:"default"},es?l.createElement(l.Fragment,null,l.createElement("div",{className:"drafts_to_move_page_view--tableWrapper--b-sz2"},l.createElement(wc.Cj,{selectAllDisabled:eb.length>G,items:eb,columns:eh,actionBarClassName:B()("drafts_to_move_page_view--actionBar--BbYQh",{"drafts_to_move_page_view--actionBarHidden--l4K4A":N}),getItemKey:e=>ra.Tf.getFileKey(e)??"",minContentWidth:728,actionBar:e=>l.createElement("div",{className:"drafts_to_move_page_view--actionBarButtons--RUREB"},!eT&&l.createElement(tO.rb,{className:"drafts_to_move_page_view--deleteDraftsButton--Aesaa",onClick:()=>eg(eI)},eI?(0,k.tx)("file_browser.drafts_to_move.bulk_delete_drafts_button"):(0,k.tx)("file_browser.drafts_to_move.bulk_trash_drafts_button")),l.createElement(tO.vd,{className:"drafts_to_move_page_view--moveDraftsButton--fZf6H",disabled:eT,onClick:eE},(0,k.tx)("file_browser.drafts_to_move.bulk_move_drafts_button",{numSelected:ec.length}))),emptyContent:"",onSelectedItemsChange:ed,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,k.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},isLoading:!wd.s1,sortState:ev,onSetSortState:ey,shouldRoundBordersForSelectedRows:!0,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--v9ugA",header:"drafts_to_move_page_view--header--qsyde",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--UOqli",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--Qk923"},scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--yiQAz",rowHeightOverride:wf}))):el?ew:l.createElement(wy,{currentFileTransferState:"TRANSFER_COMPLETED"}));return(0,ez.T8)(l.createElement(oy.r,{content:eC,viewbar:el&&l.createElement(l.Fragment,null,l.createElement("div",{className:"drafts_to_move_page_view--viewbar--wJ6Pu"},l.createElement("div",{className:"drafts_to_move_page_view--viewbarWarning--6T7y-"},l.createElement(ep.EG,{className:"drafts_to_move_page_view--yellowIcon--xHN3r"}),l.createElement("div",null,l.createElement("h1",{className:"drafts_to_move_page_view--viewbarHeading--02fvs"},(0,k.tx)("file_browser.drafts_to_move.viewbar_heading")),l.createElement("ul",{className:"drafts_to_move_page_view--viewbarDescription--dV8s3"},l.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.move_drafts_below")),l.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.drafts_for_personal_work")),l.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.access_to_drafts"))),l.createElement("div",{className:"drafts_to_move_page_view--viewbarActions--v-cwt"},l.createElement(tO.vd,{className:"drafts_to_move_page_view--moveAllDraftsButton--9-TlX",onClick:()=>{L(!0),e(eY.to({type:wl.K,data:{reposToMove:ei.map(e=>e.repo),draftsToMove:X.map(e=>e.file),onMoveSuccess:eu,isMoveAll:!0,moveAllDraftsAsync:X.length>G,onClose:em,setSynchronousFileTransferInProgress:P}}))}},(0,k.tx)("file_browser.drafts_to_move.move_all_drafts_button")),l.createElement(tO.NY,{className:"drafts_to_move_page_view--learnMoreButton--lUnQ9 drafts_to_move_page_view--moveAllDraftsButton--9-TlX",href:"https://www.figma.com/blog/updates-to-how-drafts-work/",target:"_blank"},(0,k.tx)("file_browser.drafts_to_move.viewbar_learn_more_link")))))),l.createElement("div",{className:"drafts_to_move_page_view--tabViewBarContainer--lsoH0"},l.createElement(wh,{selectedTab:C,setSelectedTab:x})))}),e7.e0.FILE_BROWSER,{view:"draftsToMove",selectedTab:C})}let ww={open:!0,openNewTab:!0,showInFolder:!1,copyLink:!0,share:!0,duplicateToDrafts:!0,pinToWorkspace:!1,publishOrgTemplate:!0,favoriteFile:!0,unfavoriteFile:!0,pinToFolder:!0};function wT({folderId:e,pinnedFiles:t}){let a=(0,s.wA)(),r=(0,ea._6)(),n=(0,e1.TA)(),{showing:i,show:o,data:c}=(0,lI.L)(),d=(0,lT.v)(),m=l.useCallback((t,a,n)=>{d(t,a);let i=t.type===ra.nb.PINNED_FILE?t.file:null;(0,tN.E9)(tN.gH,i,{entrypoint:n,selectedView:r.view,resourceType:"folder",resourceId:e,pinDescription:"file open from pinned files for file named "+i?.name})},[d,r.view,e]),u=l.useCallback((e,t)=>{m(wx(e.file),t,"pinned files")},[m]),_=l.useCallback((e,t,r)=>{a(a7.an()),a(a7.Ku({fileKeys:e.map(e=>e.file.key)})),o({data:{tile:wx(e[0].file),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[a,o]),p=l.useCallback(t=>{if(1!==t.length)return;let r=t[0];r?.pinnedByUser?.id===n&&a(tx.z6({folderId:e,fileKey:r.file.key}))},[n,a,e]),f=l.useMemo(()=>t.filter(({file:e})=>!!e).map(e=>wx(e.file)),[t]),g=(0,ra.nw)(f),E=l.useMemo(()=>t.sort((e,t)=>e.file.createdAt>t.file.createdAt?1:-1),[t]);return l.createElement("div",{className:S.cx.px32.pb32.m0.$},t.length>0?l.createElement(lx.A,{handleContextMenu:_,items:E,doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:lN.XU.GRID,handleOpenItem:u,handleDeleteKey:p,gridViewProps:{containerClassName:"folder_pinned_files_content--folderPinnedFilesGrid--LIGoA",renderTile:e=>l.createElement(wI,{pinnedFile:e,isDropdownOpen:i}),renderTileFooter:e=>l.createElement(wC,{pinnedFile:e}),renderTileDragImage:e=>l.createElement(rS.NM,{file:e.file,noBorder:!0})}}):l.createElement("div",null),(()=>{let e=c?.tile??null;return l.createElement(lC.i,{tile:e,selectedTiles:g,tileActions:ww,openTile:t=>{e&&m(e,t,"pinned files: context menu")},dropdownVisible:i})})())}function wI({pinnedFile:e}){let t=wx(e.file);return l.createElement(lb.e,{tile:t,noBorder:!0,size:rH.y.SMALL})}function wC({pinnedFile:e}){return l.createElement("div",{className:S.cx.pt8.flex.flexColumn.$},l.createElement("span",{className:S.cx.ellipsis.textBodyLargeStrong.truncate.$},e.file.name),l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,k.t)("tile.file_tile.pinned_by_user",{name:e.pinnedByUser?.name??""})))}function wx(e){return{type:ra.nb.PINNED_FILE,file:e}}var wN=a(308548),wS=a(363137),wk=a(305821),wL=a(302586),wA=a(954244);let wR=(0,n1.eU)(!1);var wF=a(694778),wP=a(65225),wO=a(570999),wD=a(102310);function wM(e,t,a,r,n,i){let o=(0,wD.B)(r),c=(0,s.wA)(),d=(0,e1.TA)(),m=(0,s.d4)(e=>{let t=r?e.folders[r]:void 0;return t&&t.team_id?e.teams[t.team_id]:void 0});return(0,l.useCallback)(l=>{c((0,yu.zE)({state:o,editorType:e,team:m,from:t,openNewFileIn:i||(0,P.oJ)(l)?vf.ai.NEW_TAB:vf.ai.SAME_TAB,folderId:n?r:void 0,callback:e=>{(0,tN.Cu)({userId:d,fileKey:e},a)}}))},[a,c,e,r,m,n,i,t,o,d])}var wB=a(544949),wU=a(182876),wV=a(115630);let wH="file_creation_thumbnails_shelf--betaTag--PUVzI";function wW(e){let t=e.isDisabled||e.isLoading,a=e.onClick,r=l.useRef(null),n=l.useCallback(e=>{a(e),r.current?.blur()},[a]);return l.createElement("button",{className:B()(e.containerClassName??"file_creation_thumbnails_shelf--fileCreationThumbnail--atC3k",t&&"file_creation_thumbnails_shelf--disabled--6IyUM"),ref:r,"data-testid":e.isLoading?void 0:e.dataTestId,tabIndex:0,disabled:t,onClick:t?void 0:n,"data-onboarding-key":e.dataOnboardingKey},!e.isLoading&&l.createElement(l.Fragment,null,l.createElement("div",{className:e.iconContainerClassName??"file_creation_thumbnails_shelf--iconContainer--e9sFx"},e.icon),l.createElement("div",{className:"file_creation_thumbnails_shelf--productNameContainer--F3ppZ"},l.createElement("span",{className:"file_creation_thumbnails_shelf--productName--13XZL"},e.title),l.createElement("span",{className:"file_creation_thumbnails_shelf--productSubtitle--Oxgs2"},e.isDisabled?(0,k.t)("file_browser.creation_buttons.disabled_by_organization"):e.subtitle)),e.showBetaTag&&l.createElement(ec.Ex,{className:wH,text:(0,k.t)("file_browser.creation_buttons.beta"),color:ec.zE.DEFAULT_TRANSLUCENT}),e.showAlphaTag&&l.createElement(ec.Ex,{className:wH,text:(0,k.t)("file_browser.creation_buttons.alpha"),color:ec.zE.DEFAULT_TRANSLUCENT})))}function wj(e){return l.createElement(wV.v,{mode:e.brand},l.createElement(wW,{title:e.title,subtitle:e.subtitle,icon:e.icon,isDisabled:e.isDisabled,isLoading:e.isLoading,showBetaTag:e.showBetaTag,showAlphaTag:e.showAlphaTag,dataTestId:e.dataTestId,onClick:e.onClick}))}function w$(){let e=l.useRef(null),[t,a]=l.useState(!1),r=l.useCallback(e=>{e.intersectionRatio<.5?a(!0):a(!1)},[a]);(0,wU.g)(e,r,{threshold:.5,rootMargin:"-50px"});let n=(0,s.d4)(e=>e.user?.drafts_folder_id),{isLoading:i,canCreateDesignFile:o,canCreateFigjamFile:c,canCreateSlidesFile:d,canShowCreateSitesFile:m}=(0,wF.n)(n),u=(0,wO.qx)(),_=[l.createElement(wG,{key:"design",isDisabled:!o,isLoading:i}),l.createElement(wY,{key:"whiteboard",isDisabled:!c,isLoading:i}),!1,(0,p.kc)().piper&&l.createElement(wz,{key:"slides",isDisabled:!d,isLoading:i}),u&&l.createElement(wP.Vq,{key:"cooper",isLoading:i}),l.createElement(wQ,{key:"import",isLoading:i})].filter(Boolean),f=_.length,[g,E]=l.useState(window.innerWidth);l.useEffect(()=>{let e=()=>E(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[E]);let{breakpointClassName:h,minWidth:v}=function(e,t){if("ja"===t){if(3===e)return{minWidth:980,breakpointClassName:"file_creation_thumbnails_shelf--jaThreeButtonShelf--Ud7nt"};if(4===e)return{minWidth:1200,breakpointClassName:"file_creation_thumbnails_shelf--jaFourButtonShelf--79zBr"};if(5===e)return{minWidth:1410,breakpointClassName:"file_creation_thumbnails_shelf--jaFiveButtonShelf--wqwQT"};if(6===e)return{minWidth:1620,breakpointClassName:"file_creation_thumbnails_shelf--jaSixButtonShelf--UuUEX"}}if(3===e)return{minWidth:810,breakpointClassName:"file_creation_thumbnails_shelf--enThreeButtonShelf--y7NDF"};if(4===e)return{minWidth:970,breakpointClassName:"file_creation_thumbnails_shelf--enFourButtonShelf--ctLk0"};if(5===e)return{minWidth:1140,breakpointClassName:"file_creation_thumbnails_shelf--enFiveButtonShelf--qkEvu"};if(6===e)return{minWidth:1310,breakpointClassName:"file_creation_thumbnails_shelf--enSixButtonShelf--rVrBv"};throw Error("Invalid number of file creation buttons")}(f,l.useMemo(()=>(0,p.mm)()[0],[])),y=g<v,b=(0,fC.Xr)(wR),w=t||y;return(l.useEffect(()=>{b(w)},[w,b]),y)?null:l.createElement("div",{className:B()("file_creation_thumbnails_shelf--fileCreationThumbnailsShelf--KMJ6U",h),ref:e},_)}function wG({isDisabled:e,isLoading:t}){let a=wM(e2._Y.DESIGN,vf.f6.FILE_BROWSER_THUMBNAILS_RECENTS,"recents_file_creation_thumbnails_created");return l.createElement(wj,{title:(0,k.t)("file_browser.creation_buttons.new_design_file"),subtitle:(0,k.t)("file_browser.creation_buttons.design_and_prototype"),brand:"design",dataTestId:"new-design-file-button",icon:l.createElement(wN.k,null),isDisabled:e,isLoading:t,onClick:a})}function wY({isDisabled:e,isLoading:t}){let a=wM(e2._Y.WHITEBOARD,vf.f6.FILE_BROWSER_THUMBNAILS_RECENTS,"recents_file_creation_thumbnails_created");return l.createElement(wj,{title:(0,k.t)("file_browser.creation_buttons.new_fig_jam_board"),subtitle:(0,k.t)("file_browser.creation_buttons.whiteboard_and_jam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:l.createElement(wS.D,null),isDisabled:e,isLoading:t,onClick:a})}function wz({isDisabled:e,isLoading:t}){let a=wM(e2._Y.SLIDES,vf.f6.FILE_BROWSER_THUMBNAILS_RECENTS,"recents_file_creation_thumbnails_created");return l.createElement(wj,{title:(0,k.t)("file_browser.creation_buttons.new_slide_deck"),subtitle:(0,k.t)("file_browser.creation_buttons.present_and_share"),brand:"piper",dataTestId:"new-slides-file-button",icon:l.createElement(wk.l,null),isDisabled:e,isLoading:t,showBetaTag:(0,p.kc)().omnicreate_slides_beta_tag,onClick:a})}function wQ({isLoading:e}){let t=(0,s.wA)();return l.createElement(wW,{title:(0,k.t)("file_browser.creation_buttons.import"),subtitle:(0,k.t)("file_browser.creation_buttons.bring_in_files"),dataTestId:"file-import-button",icon:l.createElement(wA.R,null),isLoading:e,onClick:()=>{t((0,wB.L)())},containerClassName:"file_creation_thumbnails_shelf--importThumbnail--xooVC file_creation_thumbnails_shelf--fileCreationThumbnail--atC3k",iconContainerClassName:"file_creation_thumbnails_shelf--importIconContainer--FjJ9d file_creation_thumbnails_shelf--iconContainer--e9sFx",dataOnboardingKey:bu._})}var wK=a(522739),wq=a(971097),wZ=a(384162),wX=a(453909),wJ=a(178323),w0=a(887811),w1=a(106112),w2=a(882945),w4=a(27928),w8=a(583765),w3=a(67048),w5=a(435898),w9=a(315944);function w6(){return l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none"},l.createElement("g",{clipPath:"url(#a)"},l.createElement("g",{clipPath:"url(#b)"},l.createElement("path",{fill:"#F6C944",d:"M18.572.742H9.694v8.887h8.878V.742Z"}),l.createElement("path",{fill:"#D9EAA0",d:"M16.352 9.629H9.694v6.664h6.658V9.63Z"}),l.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M10.705 12.663c.549.222 1.3.321 1.902.396-.555.59-.925 1.052-1.107 1.406-.076.146-.163.507.037.625.271.16.681-.158.83-.338.19-.218.558-.761.91-1.45.22.64.47 1.133.625 1.392.225.376.533.504.687.403.153-.102.128-.333.081-.47-.153-.433-.442-.951-.708-1.362.735.158 1.141.254 1.386.232.27-.024.381-.137.402-.257.034-.198-.244-.3-.383-.354-.264-.102-.65-.26-1.339-.405.319-.289.463-.39.793-.9.18-.277.316-.789.138-.916-.258-.184-.566.087-.751.307-.338.402-.503.74-.74 1.192-.178-.485-.394-1.03-.774-1.499-.175-.214-.43-.422-.636-.278-.237.167-.148.5-.055.72.21.497.368.694.772 1.189-.642-.197-1.099-.301-1.902-.301-.165 0-.432.09-.457.237-.025.143.027.298.289.43Z",clipRule:"evenodd"}),l.createElement("path",{fill:"#E99BF4",d:"M9.693 6.666H3.035v6.665h6.658V6.666Z"}),l.createElement("path",{fill:"#985DF6",d:"M9.694 16.664c0 1.84-1.49 3.332-3.33 3.332a3.331 3.331 0 0 1-3.33-3.332c0-1.841 1.491-3.333 3.33-3.333a3.331 3.331 0 0 1 3.33 3.333Z"}),l.createElement("path",{fill:"#000",d:"M11.729 6.315c-.035.167-.101.337-.297.351-.233-.004-.34-.258-.384-.452-.128-.55-.038-1.519 0-2.177-.396.029-2.7-.15-3.245-.312-.172-.05-.36-.18-.334-.381.033-.191.185-.272.36-.312.383-.088 1.8-.073 2.235-.052.058 0 1.504.078 1.683.268.171.182.188.82.149 1.504-.03.516-.061 1.054-.167 1.563Z"}),l.createElement("path",{fill:"#000",d:"M2.665 5.185c0-2.591 5.1-3.423 6.753-3.355.435 0 1.38.086 2.233.394.798.288 1.828 1.162 2.285.699.594-.601-.915-1.434-1.63-1.662C11.476.997 10.37.818 8.85.818 6.386.852 1.556 1.98 1.556 5.185c0 3.831 6.415 3.703 8.138 3.703 3.33 0 7.36-1.016 7.399-4.444.033-2.99-3.18-4.446-5.92-4.442-3.155 0-7.028 1.11-7.028 4.073 0 1.48 1.24 2.18 2.59 2.22 2.959 0 4.785-2.035 4.785-2.035l-.613-.59S8.376 5.184 6.734 5.184c-.975.05-1.48-.25-1.48-1.11 0-2.644 3.96-2.513 5.792-2.615 2.332-.13 4.936.647 4.936 2.985 0 3.066-5.178 3.333-6.288 3.333-.972 0-7.029 0-7.029-2.592Z"}))),l.createElement("defs",null,l.createElement("clipPath",{id:"a"},l.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"})),l.createElement("clipPath",{id:"b"},l.createElement("path",{fill:"#fff",d:"M-30 0h48.571v20H-30z"}))))}let w7="templates_bar--headerTitle--6BSKy text--fontPos13--xW8hS text--_fontBase--QdLsd",Te="templates_bar--seeMoreIcon--u6ar5",Tt="templates_bar--seeMoreTitle--a9L3F text--fontPos13--xW8hS text--_fontBase--QdLsd",Ta="templates_bar--tileBottomRowNameOnly--SMVhN text--fontPos11--2LvXf text--_fontBase--QdLsd";var Tr=a(613557),Tn=a(98015);function Ti(e){let t=(0,s.wA)(),a=(0,e1.iZ)(),r=(0,w0.vD)(a),n=(0,w0.Qk)(!1,r),i=(0,gc.oh)(n),o=(0,gc.mC)(n),c=!!(0,p.kc)().figjam_hybrid_shelf,d=w0.NV.has(r)?r:su.iF.ALL;l.useEffect(()=>{if(!i&&!o)return null!==d?t(wZ.Dw({shelfType:su.cS.FILE_BROWSER_TEMPLATES_BAR,filterLabel:d})):t(wZ.sz({shelfType:su.cS.FILE_BROWSER_TEMPLATES_BAR}))},[i,o,t,r,d]);let m=(0,s.d4)(e=>e.communityHub.shelves[su.cS.FILE_BROWSER_TEMPLATES_BAR]||[]),u=l.useMemo(()=>{let e=new Map;return m.forEach(t=>{e.set(t.id,t.shelf_content.map(e=>e))}),e},[m]),_=l.useCallback(t=>{if(!c||"All"!==t)return null;if(e.showInterimTemplatesShelf&&d)return(0,k.t)("file_browser.templates_shelf.for_you");switch(d){case"ENG":return(0,k.t)("file_browser.hybrid_templates_shelf.for_eng");case"MKT":return(0,k.t)("file_browser.hybrid_templates_shelf.for_mkt");case"UR":return(0,k.t)("file_browser.hybrid_templates_shelf.for_ur");case"PM":return(0,k.t)("file_browser.hybrid_templates_shelf.for_pm");case"DES":return(0,k.t)("file_browser.hybrid_templates_shelf.for_des");default:return null}},[c,d,e.showInterimTemplatesShelf]),f=l.useMemo(()=>{let e=[];return m.forEach(t=>{t.shelf_content.length>0&&e.push({tabKey:t.id,tabTitle:t.title,modifiedTabTitle:_(t.title)})}),e},[m,_]);return e.isShowing&&0!==f.length?l.createElement(ez.fu,{name:"topbar_templates_shown"},l.createElement("div",{className:"templates_bar--container--0nCIh"},l.createElement(To,{tabNameToTemplatesMap:u,folderId:e.folderId,onClose:e.onClose,tabList:f,newFileFrom:e.newFileFrom,normJobPrefix:r,team:e.team,showInterimTemplatesShelf:e.showInterimTemplatesShelf}))):null}function To(e){let[t,a]=l.useState(e.tabList[0]),[r,n]=l.useState(e.tabNameToTemplatesMap.get(t.tabKey)??[]),[i,o]=l.useState(null),{sizeRef:s,numTemplates:c,templateWidth:d,templateHeight:m}=function(e,t){let a=(0,l.useRef)(null),[r,n]=(0,l.useState)(0),i=Math.min(r-2*(t?2:24),t?2229:2002),o=t?0:1;(0,l.useLayoutEffect)(()=>{n(a?.current?.offsetWidth??0)},[n,a]),(0,u6.wY)(a,e=>{n(e.width)});let s=t?16:12,c=(0,l.useMemo)(()=>i?Math.min(Math.floor((i+s)/(171+s))-o,e):0,[i,s,o,e]),d=c&&i?Math.floor((i-s*(c+(t?1:0)))/(c+o)):0,m=d?Math.floor(d*(t?136:124)/171):0;return{sizeRef:a,numTemplates:c,templateWidth:d,templateHeight:m}}(r?.length??0,e.showInterimTemplatesShelf),u=!e.showInterimTemplatesShelf&&!!(0,p.kc)().figjam_hybrid_shelf;l.useEffect(()=>{if(!e.tabList||0===e.tabList.length)return;let t=e.tabList[0];a(t),n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[e.tabList,e.tabNameToTemplatesMap]),l.useEffect(()=>{n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[t,e.tabNameToTemplatesMap]);let _=l.createElement(Tm,{tabs:e.tabList,activeTab:t,setActiveTab:a,hasHybridShelf:u,showInterimTemplatesShelf:e.showInterimTemplatesShelf});return l.createElement(l.Fragment,null,l.createElement("div",{className:B()("templates_bar--headerContainer--3-3sN",{"templates_bar--headerContainerInterim--T-5sO":e.showInterimTemplatesShelf,"templates_bar--headerContainerRegular--9hrY3":!u&&!e.showInterimTemplatesShelf,"templates_bar--headerContainerHybrid--COZhA":u})},!u&&l.createElement("div",{className:"templates_bar--headerLeft--p4T6m"},!e.showInterimTemplatesShelf&&l.createElement(Ts,null),l.createElement(Tc,{normJobPrefix:e.normJobPrefix,showInterimTemplatesShelf:e.showInterimTemplatesShelf})),l.createElement("div",{className:B()({"templates_bar--headerTabs--AAQDi":u,"templates_bar--headerCenter--vLNAU":!u&&!e.showInterimTemplatesShelf,"templates_bar--headerEnd--rI6SI":e.showInterimTemplatesShelf})},u&&l.createElement("div",{className:S.cx.mr8.mt1.$},l.createElement(w6,null)),_),l.createElement("div",{className:B()({"templates_bar--headerRight--OruBN":u,"templates_bar--headerRightOld--j-Via":!u&&!e.showInterimTemplatesShelf,"templates_bar--headerRightOldInterim--AfhZM":e.showInterimTemplatesShelf})},l.createElement(nv.Jn,{className:"templates_bar--closeButton--XeG8e templates_bar--headerIcon--qAnUr",onClick:e.onClose}))),u&&l.createElement(T_,{folderId:e.folderId,team:e.team,newFileFrom:e.newFileFrom}),l.createElement("div",{className:B()({"templates_bar--body--PKvm-":!e.showInterimTemplatesShelf,"templates_bar--bodyInterim--WbP1K":e.showInterimTemplatesShelf}),ref:s},l.createElement("div",{className:B()({"templates_bar--tilesContainer--OHkyf":!e.showInterimTemplatesShelf,"templates_bar--tilesContainerInterim--mTj4h":e.showInterimTemplatesShelf})},r?.slice(0,c??0).map((a,r)=>l.createElement("div",{key:a.id,style:{width:d,height:m,marginRight:e.showInterimTemplatesShelf?16:12}},l.createElement(Td,{hubFile:a,rank:r,folderId:e.folderId,tab:t,duplicatingHubId:i,setDuplicatingHubId:o,newFileFrom:e.newFileFrom,showInterimTemplatesShelf:e.showInterimTemplatesShelf})))),!e.showInterimTemplatesShelf&&l.createElement(Tl,{activeTab:t,width:d,height:m})))}function Tl(e){var t;let a=(0,s.wA)(),r=(t=e.activeTab.tabTitle,l.useMemo(()=>{switch(t){case"Brainstorm":let e="https://static.figma.com/uploads/1b49485e3b8b3a7e8a6f8099d37025abf445eaa9";return{color:"#FFBDF2",bgColor:"#FFF5FD",src:e,srcSet:`https://static.figma.com/uploads/17a263251c06e92c17ebcf534106f46de670f126, ${e} 2x`};case"All":let a="https://static.figma.com/uploads/f48b345384c95e6becd8f0afd653da77516f3754";return{color:"#80CAFF",bgColor:"#D5EAFA",src:a,srcSet:`https://static.figma.com/uploads/4fb27f103e1c26fd5018968f50d4de3ffc525981, ${a} 2x`};case"Diagram":let r="https://static.figma.com/uploads/fb96122b14ed3ae9c4f99858e53f198e4519881d";return{color:"#FFD966",bgColor:"#FFECB4",src:r,srcSet:`https://static.figma.com/uploads/b7d203490b07b0cc0996a32539727dd689542562, ${r} 2x`};case"Meetings":let n="https://static.figma.com/uploads/5bd4f8be4b68b3406a4efc955452d597843fe395";return{color:"#FF8311",bgColor:"#F9CA9F",src:n,srcSet:`https://static.figma.com/uploads/7919f8b041bc650fc00a468edb5639ca277fce09, ${n} 2x`};case"Planning":let i="https://static.figma.com/uploads/a5b7b70525c9fd5b075019212a36a4c85f296f0c";return{color:"#DA9DFF",bgColor:"#EBCAFF",src:i,srcSet:`https://static.figma.com/uploads/5df93072bc6c4eff89a96011b823515116dd80f2, ${i} 2x`};default:return null}},[t]));return r?l.createElement("div",{className:"templates_bar--seeMoreContainer--3XOPB"},l.createElement("button",{className:"templates_bar--seeMore--wyQRY",style:{backgroundColor:r.bgColor,width:e.width,height:e.height},onClick:()=>{(0,tN.Cu)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_see_more_clicked"),(0,w4.KF)(a,{templateInsertionLocation:gI.RD.NEW_FILE,triggeredFrom:"templatesShelfSeeMore",initiallySelectedCategoryTitle:e.activeTab.tabTitle})}},l.createElement("div",{className:B()({"templates_bar--seeMoreImageWrapper--DtT2m":!0,"templates_bar--seeMoreImageDiagrammingWrapper--k-JG5":"Diagram"===e.activeTab.tabTitle})},l.createElement("img",{className:"templates_bar--seeMoreImage--xJ2jX",srcSet:r.srcSet,src:r.src,alt:`See all ${e.activeTab.tabTitle} templates`})),l.createElement("div",{className:"templates_bar--seeMoreSwoopWrapper--smJZh",style:{width:e.width,height:e.height}},l.createElement("svg",{className:"templates_bar--seeMoreSwoop--eQyRg",viewBox:"0 0 171 83",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",null,l.createElement("path",{d:"M171 31.852C156.81 34.3516 142.025 35.6728 126.834 35.6728C78.3913 35.6728 34.0786 22.236 0 0V83H171V31.852Z",fill:r.color})))),l.createElement("div",{"data-preferred-theme":"light",className:"templates_bar--seeMoreContent--Lh02f",style:tV.sx.add({height:"All"===e.activeTab.tabTitle?"30%":"45%"}).$},"All"===e.activeTab.tabTitle?l.createElement("div",{className:Tt},(0,k.tx)("file_browser.templates_shelf.see_all"),l.createElement(j.B,{className:Te,svg:Tr.A})):l.createElement(l.Fragment,null,l.createElement("div",{className:Tt},e.activeTab.modifiedTabTitle??e.activeTab.tabTitle),l.createElement("div",{className:"templates_bar--seeMorePrompt--LIZSe text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("file_browser.templates_shelf.see_more"),l.createElement(j.B,{className:Te,svg:Tr.A})))))):null}function Ts(){return l.createElement("svg",{className:"templates_bar--headerIconLeft--RIFKx",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M0.997498 3.32344C0.997498 2.22161 1.89071 1.3284 2.99254 1.3284H12.9678C14.0696 1.3284 14.9628 2.22161 14.9628 3.32344V13.2987C14.9628 14.4005 14.0696 15.2937 12.9678 15.2937H2.99254C1.89071 15.2937 0.997498 14.4005 0.997498 13.2987V3.32344Z",fill:"#9747FF"}),l.createElement("mask",{id:"path-2-inside-1_1042_9371",fill:"white"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.99255 4.32095H12.9678V12.3011H2.99255V4.32095ZM3.99007 5.31847H11.9702V7.31355H3.99007V5.31847ZM11.9702 8.31107H6.98264V11.3036H11.9702V8.31107ZM5.98512 11.3036H3.99007V8.31107H5.98512V11.3036Z"})),l.createElement("path",{d:"M3.99007 5.31847V4.32095H2.99255V5.31847H3.99007ZM11.9702 5.31847H12.9678V4.32095H11.9702V5.31847ZM11.9702 7.31355V8.31107H12.9678V7.31355H11.9702ZM3.99007 7.31355H2.99255V8.31107H3.99007V7.31355ZM2.99255 4.32095V3.32343H1.99503V4.32095H2.99255ZM12.9678 4.32095H13.9653V3.32343H12.9678V4.32095ZM12.9678 12.3011V13.2986H13.9653V12.3011H12.9678ZM2.99255 12.3011H1.99503V13.2986H2.99255V12.3011ZM11.9702 8.31107H12.9678V7.31355H11.9702V8.31107ZM6.98264 8.31107V7.31355H5.98512V8.31107H6.98264ZM6.98264 11.3036H5.98512V12.3011H6.98264V11.3036ZM11.9702 11.3036V12.3011H12.9678V11.3036H11.9702ZM5.98512 11.3036V12.3011H6.98264V11.3036H5.98512ZM3.99007 11.3036H2.99255V12.3011H3.99007V11.3036ZM3.99007 8.31107V7.31355H2.99255V8.31107H3.99007ZM5.98512 8.31107H6.98264V7.31355H5.98512V8.31107ZM3.99007 6.316H11.9702V4.32095H3.99007V6.316ZM10.9727 5.31847V7.31355H12.9678V5.31847H10.9727ZM4.9876 7.31355V5.31847H2.99255V7.31355H4.9876ZM11.9702 7.31355H6.98264V9.30859H11.9702V7.31355ZM5.98512 8.31107V11.3036H7.98016V8.31107H5.98512ZM6.98264 12.3011H11.9702V10.3061H6.98264V12.3011ZM12.9678 11.3036V8.31107H10.9727V11.3036H12.9678ZM5.98512 10.3061H3.99007V12.3011H5.98512V10.3061ZM4.9876 11.3036V8.31107H2.99255V11.3036H4.9876ZM3.99007 9.30859H5.98512V7.31355H3.99007V9.30859ZM4.9876 8.31107V11.3036H6.98264V8.31107H4.9876ZM11.9702 6.31603H3.99007V8.31107H11.9702V6.31603ZM3.99007 12.3011V4.32095H1.99503V12.3011H3.99007ZM2.99255 5.31847H12.9678V3.32343H2.99255V5.31847ZM11.9702 4.32095V12.3011H13.9653V4.32095H11.9702ZM12.9678 11.3036H2.99255V13.2986H12.9678V11.3036Z",fill:"white",mask:"url(#path-2-inside-1_1042_9371)"}))}function Tc(e){let[t,a]=(0,w0.sh)(e.normJobPrefix);return e.showInterimTemplatesShelf?l.createElement("div",{className:w7},(0,k.tx)("file_browser.templates_shelf.interim_title")):l.createElement("div",{className:w7},t??(0,k.tx)("file_browser.templates_shelf.title"))}function Td(e){let t=(0,s.wA)(),a=e.hubFile,r=a.id,n=null!==e.duplicatingHubId,i=e.duplicatingHubId===r,o=a&&(0,gI.a6)(e.hubFile),c=n=>{n.stopPropagation(),e.setDuplicatingHubId(r),t(h2.rL({hubFileId:r,hubFileName:o?.name||"this file",openInNewTab:!1,folderId:e.folderId,source:vf.f6.FILE_BROWSER_TEMPLATES_BAR,callback:t=>{e.setDuplicatingHubId(null),(0,tN.Cu)({fileKey:t,rank:e.rank,templateId:r,productType:(0,wX.L)(a.viewer_mode)},"topbar_template_selected"),(0,wJ._)("resource_inserted",{fileKey:t,resourceId:r,resourceName:o.name,resourceType:"template",templateType:w1.n.HubFile,triggeredFrom:e.newFileFrom,category:e.tab.tabTitle,templateCategory:e.tab.tabKey})}}))};return a?l.createElement(w2.zq,{containerStyle:"templates_bar--templatesTileContainer--yy7Q2",onClick:n?void 0:c,image:l.createElement(w2.FK,{backgroundColor:(0,mT.Cn)(a.client_meta),removeBorder:!0,className:B()({"templates_bar--templatesTileImage--y0sA9":!e.showInterimTemplatesShelf,"templates_bar--templatesTileImageInterim--GA5Gc templates_bar--templatesTileImage--y0sA9":e.showInterimTemplatesShelf}),customRatioClassName:"templates_bar--imageRatio--enx9l"},l.createElement(w2.zx.Cover,null,l.createElement("button",{className:"templates_bar--hoverOverlay--bQBil browse_templates_modal--hoverOverlay--sFj3y",onClick:c,disabled:n})),l.createElement(w2.zx.Center,null,l.createElement(r3.$$,{onClick:c,className:B()("templates_bar--useTemplateButton--4KFhz",{"templates_bar--bgFigjam--quTf0":a.viewer_mode===e2.y4.WHITEBOARD,"templates_bar--bgSlides--V5gmr":a.viewer_mode===e2.y4.SLIDE_TEMPLATE}),disabled:n,tabIndex:-1},i?l.createElement(tM.kt,{size:"medium"}):(0,k.tx)("file_browser.new_file_creation_topbar.use_templates"))),l.createElement(mC.Ho,{image:e.overrideThumbnailUrl||a.thumbnail_url||void 0,isSet:!!e.overrideThumbnailUrl||!!a.thumbnail_is_set,isWhiteboard:a.viewer_mode===e2.y4.WHITEBOARD,hubFileId:a.id,alt:(0,gI.a6)(a).name,imageClassName:a.viewer_mode===e2.y4.SLIDE_TEMPLATE?"templates_bar--slidesThumbnailImage--uJ-8c templates_bar--thumbnailImage--ymHpx":"templates_bar--thumbnailImage--ymHpx",resizedThumbnailUrls:a.resized_thumbnail_urls})),bottomRow:e.showInterimTemplatesShelf?l.createElement(w2.Wf.NameAndFileIconMetadata,{name:o.name,className:"templates_bar--tilesBottomRowContainerInterim--2UYbZ",textClassName:Ta,viewerMode:a.viewer_mode}):l.createElement(w2.Wf.NameMetadata,{name:o.name,className:"templates_bar--tilesBottomRowContainer--GxsNx",textClassName:Ta}),bottomRowStyle:e.showInterimTemplatesShelf?"templates_bar--bottomRowStyleInterim--qBzJE":"templates_bar--bottomRowStyle--a32JN"}):null}function Tm(e){let t=(0,s.wA)(),a=!e.hasHybridShelf&&!e.showInterimTemplatesShelf;return l.createElement("div",{className:"templates_bar--tabs--a8HOf text--fontPos13--xW8hS text--_fontBase--QdLsd",style:tV.sx.add({columnGap:e.hasHybridShelf?"20px":"26px"}).$},a&&l.createElement(wK.GG,{"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("file_browser.templates_shelf.search_tooltip"),"aria-label":(0,k.t)("file_browser.templates_shelf.search_tooltip"),className:"templates_bar--searchButton--1EdKI templates_bar--headerIcon--qAnUr",onClick:()=>{(0,tN.Cu)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_search_clicked"),(0,w4.KF)(t,{templateInsertionLocation:gI.RD.NEW_FILE,triggeredFrom:"templatesShelfSearch"})}},l.createElement(eD.In,{icon:"search-32"})),e.tabs.map(t=>l.createElement(Tu,{key:t.tabKey,tab:t,isActive:t.tabKey===e.activeTab.tabKey,setActiveTab:e.setActiveTab,showInterimTemplatesShelf:e.showInterimTemplatesShelf})))}function Tu(e){return l.createElement(wK.GG,{className:B()({"templates_bar--tab---drzF":!e.showInterimTemplatesShelf,"templates_bar--tabInterim--b4Do5 text--fontPos11--2LvXf text--_fontBase--QdLsd":e.showInterimTemplatesShelf,"templates_bar--activeTab--c7Hid":e.isActive}),onClick:()=>{(0,tN.Cu)({triggeredFrom:"file-browser",category:e.tab.tabTitle},"template_shelf_category_toggled"),e.setActiveTab(e.tab)}},e.tab.modifiedTabTitle??e.tab.tabTitle)}function T_(e){let[t,a]=(0,l.useState)(""),r=(0,ef.md)(w8.dO).status===w9.c.LOADING,{onMake:n}=function(e,t,a){let r=(0,s.wA)(),n=(0,wD.B)(a);return{onMake:(a,i,o)=>{r(yu.zE({state:n,editorType:e2._Y.WHITEBOARD,team:t,from:e,openNewFileIn:(0,P.oJ)(i)?vf.ai.NEW_TAB:vf.ai.SAME_TAB,figjamAiNewFileData:{prompt:o?`${o.title} ${o.subtitle}`:a,useCaseCategory:o?.useCaseCategory,subtitle:o?.subtitle,entrypoint:w5.fV.TEMPLATE_SHELF}}))}}}(e.newFileFrom,e.team,e.folderId);return l.createElement("div",{className:S.cx.ml24.mr24.flex.flexRow.justifyCenter.$,style:tV.sx.add({width:"calc(100% - 48px)"}).$},l.createElement("div",{className:S.cx.flex.itemsCenter.colorBg.b1.colorBorder.wFull.$,style:tV.sx.add({maxWidth:"800px",borderRadius:"12px"}).$},l.createElement("div",{className:S.cx.ml12.font14.colorTextSecondary.flex.itemsCenter.gap8.$},l.createElement(j.B,{svg:Tn.A,style:tV.sx.add({fill:"currentColor"}).$}),l.createElement(w3.G,{location:"FILE_BROWSER_BAR"})),l.createElement("input",{className:B()(S.cx.flex1.px16.py12.h24.bgTransparent.font13.lh24.$,"templates_bar--input--v2677"),placeholder:(0,k.t)("whiteboard.ai_onboarding.file_browser.placeholder"),value:t,onChange:e=>a(e.target.value),disabled:r,autoComplete:"off",onKeyDown:e=>{t.length>0&&(0,P.Fo)(e)&&"Enter"===e.key&&(e.preventDefault(),n(t))}}),l.createElement("div",{className:B()(S.cx.mr8.$,"templates_bar--figjamButton--8yaTU")},l.createElement(wq.$n,{variant:"primary",disabled:0===t.length||r,onClick:e=>n(t,e)},l.createElement("div",{className:S.cx.flex.itemsCenter.gap8.$},(0,k.tx)("file_browser.hybrid_templates_shelf.generate_button"))))))}var Tp=a(56430);(0,eh.r1)("dismissed_figjam_ai_file_browser_bar");let Tf=(0,n1.eU)(!1);function Tg(e){var t;let a=(0,eJ.gj)(e.folderId,e2._Y.WHITEBOARD).unwrapOr(!1),r=(0,eJ.gj)(e.folderId,e2._Y.DESIGN).unwrapOr(!1),n=(0,eJ.gj)(e.folderId,e2._Y.SLIDES).unwrapOr(!1),i=(0,e1.TA)(),o=e.team&&e8.ng.getProTrialStatus(e.team)===bx.a.IN_TRIAL,{recommendedTemplatesIsOpen:s,toggleRecommendedTemplates:c}=e,d=l.useCallback(()=>{c(),(0,tN.Cu)({userId:i,opening:!s},"topbar_recommended_templates_toggled")},[s,i,c]),m=(0,fC.Xr)(Tf),u=!!(0,p.kc)().figjam_hide_templates_shelf,_=(0,eM.F1)(),f=(t={component:"NewFileCreationTopbar"},(0,ab.FR)(t)),g=!E.Ay.mobile&&r&&n&&!o&&!e.disableRecommendedTemplates&&s&&f&&(!u||_()),h=e.showFileCreationShelf&&!g?l.createElement(w$,null):void 0;return(l.useEffect(()=>{m(g)},[m,g]),E.Ay.mobile)?null:a||r||n?l.createElement(l.Fragment,null,h,g&&l.createElement(Ti,{isShowing:e.recommendedTemplatesIsOpen,onClose:d,folderId:e.folderId,newFileFrom:e.newFileFrom,team:e.team,showInterimTemplatesShelf:u}),o&&l.createElement(Tp.J,{teamId:e.team.id})):l.createElement(l.Fragment,null,h)}Tg.displayName="NewFileCreationTopbar";var TE=a(433011);function Th(e){let[t,a]=l.useState(!1),[r]=l.useState(()=>new TE.W),{isSelected:n,selectPinnedFile:i,file:o,index:s,openFile:c}=e,d=l.useCallback(e=>{t?(n&&i(o.file,e),c(o.file,e,s)):(i(o.file,e),r.reset(),r.scheduleOnce(()=>{a(!1)},500),a(!0),e.preventDefault(),e.stopPropagation())},[r,s,n,c,o.file,i,t]);l.useEffect(()=>()=>r.reset(),[r]);let m=e.file.file,u=t?(0,rn.jN)({file:e.file.file}):void 0;return u&&(u=(0,lD.mc)(u,e.user),u=(0,lD.vk)(u,e.currentOrgId,e.currentTeamId,e.selectedView)),l.createElement("a",{className:B()(yi.GC,{[yi.GV]:e.isSelected}),href:u,rel:"noopener",onClick:d,onContextMenu:t=>{e.onFileContextMenu(e.file.file,t,e.index)}},l.createElement("div",{className:yi.PP},l.createElement(rS.NM,{file:m,noBorder:!0})),l.createElement("div",{className:yi.q6},l.createElement("div",{className:yi.z6},l.createElement(L.E,{fontSize:13,fontWeight:"medium",truncate:!0},m.name)),l.createElement("div",{className:yi.h7},e.file.pinnedByUser?l.createElement(L.E,{fontSize:11,fontWeight:"regular",truncate:!0},(0,k.tx)("tile.file_tile.pinned_by_user",{name:e.file.pinnedByUser.name})):l.createElement(L.E,{fontSize:11,fontWeight:"regular",truncate:!0},(0,k.tx)("tile.file_tile.pinned_just_now")))))}function Tv(e){let t=l.useRef(null),a=l.useRef(null),r=l.useRef(null),n=l.useRef(null),i=l.useRef(null),{selectedView:o,tileSelect:c,currentOrgId:u,currentTeamId:_,user:f}=(0,nJ.R)(e=>({selectedView:e.selectedView,tileSelect:e.tileSelect,currentOrgId:e.currentUserOrgId,currentTeamId:e.currentTeamId,user:e.user})),g=(0,s.wA)(),{showing:h,show:v,hide:y,data:b}=(0,lI.L)(),w=l.useCallback((e,t,a)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},n={type:ra.nb.PINNED_FILE,file:e},i=t.shiftKey&&t.altKey;if(c&&c[rd.F.PINNED_FILES]){if(c[rd.F.PINNED_FILES][n.file.key]){v({data:{tile:n,targetRect:r,index:a,enableRestore:i}});return}if(t.shiftKey||t.metaKey||t.ctrlKey){g(a7.y$({type:rd.F.PINNED_FILES,tiles:[n]})),v({data:{tile:n,targetRect:r,index:a,enableRestore:i}});return}}t.shiftKey||t.metaKey||t.ctrlKey||g(a7.an()),g(a7.y$({type:rd.F.PINNED_FILES,tiles:[n]})),v({data:{tile:n,targetRect:r,index:a,enableRestore:i}})},[g,v,c]),T=l.useCallback((e,t)=>{if(h){y();return}if(E.Ay.mobile||E.Ay.tablet){m.Ay.redirect((0,rn.jN)({file:e}));return}t.stopPropagation();let a=c&&c[rd.F.PINNED_FILES]&&c[rd.F.PINNED_FILES][e.key];if(t.ctrlKey||t.metaKey||t.shiftKey)a?g(a7.TK({tileKeys:[e.key]})):g(a7.y$({type:rd.F.PINNED_FILES,tiles:[{type:ra.nb.PINNED_FILE,file:e}]}));else{if(a)return;g(a7.an()),g(a7.y$({type:rd.F.PINNED_FILES,tiles:[{type:ra.nb.PINNED_FILE,file:e}]}))}},[g,h,y,c]),I=l.useCallback((e,t)=>{d.eD&&(0,el.sx)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify(o)}),g(q.UN({fileKey:e.key,entrypoint:"pinned files"}));let a=E.Ay.mac?t.metaKey:t.ctrlKey,r=null;if(a&&t.shiftKey?r=d.aw.FOCAL_TAB:a?r=d.aw.BACKGROUND_TAB:t.shiftKey&&(r=d.aw.NEW_WINDOW),null!=r){g(K.oB()),d.eD&&(t.preventDefault(),t.stopPropagation(),d.eD.openFile({fileKey:e.key,title:e.name||"Untitled",fileEditorType:e.editorType,target:r,isTeamTemplate:e.isTeamTemplate,userId:f?.id}));return}t.preventDefault(),t.stopPropagation(),g(y_.p4({planId:u||yy.P}));let n=o&&("recentsAndSharing"===o.view||"folder"===o.view)?o:void 0,i=(0,p.kc)().ps_benchmark;(0,lD.N7)(u,e.parentOrgId,_,e.teamId)?(0,lD.QV)({file:{key:e.key,editorType:e.editorType}},{user:f,teamId:i?_:null,orgId:u,selectedView:o}):g(K.$T({view:"fullscreen",fileKey:e.key,editorType:(0,EH.wN)(e.editorType),prevSelectedView:n}))},[g,u,_,o,f]),C=l.useMemo(()=>e.files.filter(({file:e})=>!!e).map(({file:e})=>({type:ra.nb.PINNED_FILE,file:e})),[e.files]),x=(0,ra.nw)(C),N=l.useCallback(()=>{let t=b?.tile??null;return l.createElement(lC.i,{...e,tile:t,selectedTiles:x,openTile:e=>{t?.type===ra.nb.PINNED_FILE&&t?.file&&I(t.file,e)},dropdownVisible:h})},[b?.tile,e,x,h,I]),S=l.useCallback(e=>{(e.target===t.current||e.target===a.current||e.target===r.current||e.target===i.current||n.current&&n.current.contains(e.target))&&(g(K.oB()),g(a7.an()))},[g]),k=c[rd.F.PINNED_FILES],L=yT+` ${yi.dp}`;l.useEffect(()=>{if(E.Ay.mobile&&E.Ay.safari&&t.current){let e=t.current.className;window.addEventListener("load",()=>{t.current&&(t.current.className=""),setTimeout(()=>{t.current&&(t.current.className=e)},500)})}},[]);let A=l.useMemo(()=>e.files.map(e=>e.file?.key).filter(e=>!!e),[e.files]);return(0,a2.IT)(A),l.createElement("div",{className:"tiles_view--pinnedContainer--2x-rH",onMouseDown:S,ref:t},l.createElement("div",{className:L,ref:a},l.createElement("div",{ref:r,key:"grid",className:B()(yw,"tiles_view--tilesGridPinned--YNmwb")},e.files.map((e,t)=>{let a=!!(k&&k[e.file.key]);return l.createElement(Th,{file:e,openFile:I,index:t,onFileContextMenu:w,isSelected:a,selectPinnedFile:T,key:`file-${e.file.key}`,currentOrgId:u,currentTeamId:_,selectedView:o,user:f})}))),N())}function Ty(e){return l.createElement("div",{className:B()("starter_team_overview_item--container--2OVmD",{"starter_team_overview_item--containerDisabled--76kDd":e.disabled,"starter_team_overview_item--containerDefault--dN-eI":!e.disabled})},l.createElement(j.B,{className:"starter_team_overview_item--icon--Z3o0g",svg:e.icon}),l.createElement("p",{className:"starter_team_overview_item--text--r36FA"},e.text))}var Tb=a(174726),Tw=a(965821);function TT({folderId:e}){let t=(0,nf.Rs)(nE.yU5,{projectId:e});if("loaded"!==t.status)return null;let a=t.data.project?.team?.teamFileCounts?.designFileCount??0,r=t.data.project?.team?.teamFileCounts?.whiteboardFileCount??0;return l.createElement(l.Fragment,null,l.createElement(Ty,{icon:Tw.A,text:(0,k.t)("team_view.starter_team.num_of_figma_files_user",{numFigmaFilesUsed:a,maxFreeFiles:ek.WW})}),l.createElement(Ty,{icon:Tb.A,text:(0,k.t)("team_view.starter_team.num_of_figjam_files_user",{numFigjamFilesUsed:r,maxFreeFiles:ek.WW})}))}function TI({folderId:e}){return l.createElement("div",{className:"starter_team_overview--container--YU-xB text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"StarterTeamOverview"},l.createElement("div",{className:"starter_team_overview--header--4s2vt text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.starter_team_overview")),l.createElement("div",{className:"starter_team_overview--detailsWithFigjam--n0fVl"},l.createElement(TT,{folderId:e})))}let TC="upgrade_section--sidebarDivider--O7mLk",Tx="upgrade_section--upsellDescription--Heggv text--fontPos13--xW8hS text--_fontBase--QdLsd";function TN({teamId:e}){let t=(0,s.wA)(),a=(0,e0.TN)(e),r=(0,s.d4)(t=>t.teams[e]),n=(0,nf.Rs)(nE.kQI,{id:e}),i=!!n.data?.team?.hasPermission,o=r&&!r.org_id&&!r.subscription&&i,c=e8.ng.canSeeProTrialUx(a),d=r&&!(0,ek.w5)(r),m=()=>c?e5.b.PRO_TRIAL_UPSELL_MODAL:e5.b.UPGRADE_SECTION,u=a=>()=>{t((0,eY.to)({type:eu.V,data:{teamId:e,upsellSource:a}}))};return d&&o||c?c?l.createElement(ez.fu,{name:m(),properties:e8.ng.getTrackingProperties()},l.createElement("div",{className:TC}),l.createElement("p",{className:"upgrade_section--upsellTitle--db4mh text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(L.E,{fontSize:13,fontWeight:"medium"},(0,k.tx)("team_view.upgrade.pro_trials.title"))),l.createElement("p",{className:Tx},l.createElement(L.E,{fontSize:13},(0,k.tx)("team_view.upgrade.pro_trials.description"))),l.createElement("div",{className:"upgrade_section--teamProUpgrade--8J0Tz text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(tO.vd,{onClick:u(m()),trackingProperties:{teamId:e,trackingDescriptor:eg.c.UPGRADE_TO_PROFESSIONAL}},(0,k.tx)("team_view.upgrade.pro_trials.upgrade_to_professional_cta")))):l.createElement(ez.fu,{name:m()},l.createElement("div",{className:TC}),l.createElement("p",{className:Tx},l.createElement(tO.Us,{onClick:u(m()),trackingProperties:{trackingDescriptor:eg.c.UPGRADE_YOUR_TEAM},trusted:!0},(0,k.tx)("team_view.upgrade.upgrade_your_team")),(0,k.tx)("team_view.upgrade.for_unlimited_files_projects_and_customizable_team_libraries"))):null}var TS=a(902957),Tk=a(129318),TL=a(543312),TA=a(212957),TR=a(66154),TF=a(573821);let TP="seen_pro_onboarding_unlimited_files_overlay",TO=(0,eh.r1)(TP);function TD({teamId:e,canCreateFigjamBoard:t}){let a=(0,ef.md)(TO),r=(0,ef.md)(TL.e),n=(0,s.d4)(e=>e.userTeamFlags),i=n[e]?.[TF.UA],o=(0,eM.kO)(),{show:c,isShowing:d,complete:m}=(0,eE.e)({overlay:ew.jVB,priority:ev.N.DEFAULT_MODAL,experiment:{check:o,predicate:e=>e,postCheck:e=>!e}},[a,r]);return((0,u.h)(()=>{i&&c({canShow:(t,a)=>a.some(t=>t.id===e)})}),d)?l.createElement(gM.M,{isShowing:d,userFlagOnShow:TP},l.createElement(ez.fu,{name:TA.S.getTooltipTrackingContext("Unlimited Files"),properties:TA.S.getTrackingProperties(e)},l.createElement(TR.yG,{dismissModal:m,canCreateFigjamBoard:t}))):null}function TM(e){let{selectedView:t,userFlags:a,userTeamFlags:r,userEduVerified:n,isFreeUser:i,userAnalyticsData:o,...c}=(0,nJ.R)(e=>({selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!e.user?.student_validated_at,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,eL.getPermissionsState)(e)})),d=(0,s.wA)(),m=(0,nf.Rs)(nE.UpR,{}),{teamId:u,selectedTab:_}=e,f=c.teams[u],g=!!f?.org_id,E=!!f?.subscription,h=u&&(0,eL.canAdminTeam)(u,c),v=(0,eM.Yz)();(0,l.useEffect)(()=>{(0,p.kc)().requires_action_3ds_banner&&u&&!g&&E&&h&&d(b1.Be({teamId:u}))},[d,u,g,E,h]);let y=(0,s.d4)(e=>e.teamBilling?.summary),b=bZ(e2.vt.TEAM,f,u,{selectedView:t,userFlags:a,userTeamFlags:r,selectedTab:_,isFreeUser:i,userAnalyticsData:o,eduPeriodEnd:m.data?.currentUser?.eduPeriodEnd,billingSummary:y,checks:{isEligibleForLockedRedesign:v},...c},d);if(!b)return l.createElement("div",null);let w=b0({resourceType:e2.vt.TEAM,teamId:u},b),T=b.severity===bA.c.WARN?bR:"",I=b.bannerClassName||"",C=`${bW} ${T} ${I}`;return l.createElement("div",{className:C},l.createElement(b8,{...b,tracking:w}))}var TB=a(290750);class TU extends l.PureComponent{constructor(){super(...arguments),this.state={contributors:null},this.viewUser=(e,t)=>{this.props.dispatch(K.$T({view:"user",userId:t.id,userViewTab:o1.o.INTERNAL_PROFILE}))}}componentDidMount(){TB.W.getContributors({folderId:this.props.folderId}).then(e=>{this.setState({contributors:e.data.meta})}).catch(e=>{console.warn("Unable to load project contributors")})}render(){let e=this.viewUser;return l.createElement("div",{className:"contributors--contributors--UpVcx text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("div",{className:"contributors--contributorsHeader--6sefy"},(0,k.tx)("file_browser.folder.recent_contributors")),l.createElement(gi.x,{className:"contributors--loading--0u-Y2",isLoading:!this.state.contributors},()=>l.createElement("div",null,this.state.contributors&&this.state.contributors.filter(e=>e.user).map(t=>l.createElement(ap.az,{key:t.user.id,className:"contributors--contributorAvatar--bCw14",entity:t.user,size:24,showIsMe:t.user.id===this.props.currentUserId,onClick:e})),this.state.contributors&&0===this.state.contributors.length&&l.createElement("div",{className:"contributors--contributorEmpty--BnRcr text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.people_who_have_edited_this_project_will_appear_here")))))}}let TV=(0,s.Ng)((e,t)=>{let a=e.folders[t.folderId],r=a&&a.team_id?e.teams[a.team_id]:null;return{folderOrg:r&&r.org_id?e.orgById[r.org_id]:null,currentUserId:e.user?e.user.id:null}})(TU);var TH=a(411045),TW=a(303345),Tj=a(298543);function T$(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,s.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,i=lR.findDOMNode(a.current),o=[];return e.canCreateDesignFile&&o.push(l.createElement(oV.c$,{key:"new-design-file",children:l.createElement(l.Fragment,null,l.createElement(rN.oS,{className:S.cx.pr6.$,size:rN.LE.SMALL,type:rN.y1.DESIGN}),(0,k.tx)("file_browser.tool_bar.new_design_file")),onClick:e.onNewDesignFileClick})),e.canCreateWhiteBoardFile&&o.push(l.createElement(oV.c$,{key:"new-figjam-board",children:l.createElement(l.Fragment,null,l.createElement(rN.oS,{className:S.cx.pr6.$,size:rN.LE.SMALL,type:rN.y1.WHITEBOARD}),(0,k.tx)("file_browser.tool_bar.new_figjam_board")),onClick:e.onNewWhiteBoardClick})),e.canCreateSlidesFile&&o.push(l.createElement(oV.c$,{key:"new-slides-file",children:l.createElement(l.Fragment,null,l.createElement(rN.oS,{className:S.cx.pr6.$,size:rN.LE.SMALL,type:rN.y1.SLIDES}),(0,k.tx)("file_browser.tool_bar.new_slide_deck")),onClick:e.onNewSlidesClick})),l.createElement("button",{className:B()(S.cx.flex.itemsCenter.$,"new_file_toolbar_dropdown--newFileDropdown--pPPdw"),ref:a,onClick:a=>{e.dropdownKey&&i&&t(K.j7({type:e.dropdownKey,data:{targetRect:i?.getBoundingClientRect()}}))}},l.createElement(j.B,{svg:ok.A,className:B()(S.cx.pr6.$,"new_file_toolbar_dropdown--svg--ugaqW")}),(0,k.tx)("file_browser.tool_bar.new"),n&&l.createElement(Tj.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},o))}var TG=a(896026);function TY(e){let t=(0,TH.cf)(),a=wM(e2._Y.DESIGN,e.from,"toolbar_design_created"),r=(0,eM.Yz)()(!!e.isTeamLocked),n=t&&!!e.requestPending&&!e.canCreate,i=!!e.disabled||r||n,o=i?g.lQ:a,l=i?(0,k.t)("locked_team.label.tooltip"):void 0,s=i?eR.Ib.TEXT:void 0;return{disabled:i,onClick:o,dataTooltip:l,dataTooltipType:s,displayText:(0,k.t)("file_browser.tool_bar.new_design_file"),dataTestId:"new-design-file-button",editorThemeMode:"design",key:oR.D.NEW_FILE,listOptionType:TG.R.DESIGN,requestPending:n,canRequest:t&&!1===e.requestPending&&!1===e.canCreate}}function Tz(e){let t=(0,TH.cf)(),a=wM(e2._Y.WHITEBOARD,e.from,"toolbar_figjam_created"),r=(0,eM.Yz)()(!!e.isTeamLocked),n=t&&!!e.requestPending&&!e.canCreate,i=!!e.disabled||r||n,o=i?g.lQ:a,l=i?(0,k.t)("locked_team.label.tooltip"):void 0,s=i?eR.Ib.TEXT:void 0;return{disabled:i,onClick:o,dataTooltip:l,dataTooltipType:s,displayText:(0,k.t)("file_browser.tool_bar.new_figjam_board"),dataTestId:"new-whiteboard-file-button",editorThemeMode:"whiteboard",key:oR.D.NEW_WHITEBOARD_FILE,listOptionType:TG.R.WHITEBOARD,requestPending:n,canRequest:t&&!1===e.requestPending&&!1===e.canCreate}}var TQ=a(741477),TK=a(870232),Tq=(e=>(e.NEW_SLIDES_FILE="NEW_SLIDES_FILE",e))(Tq||{});function TZ(e){let t=(0,TH.cf)(),a=wM(e2._Y.SLIDES,e.from,"toolbar_slides_created"),r=(0,eM.Yz)()(!!e.isTeamLocked),n=t&&!!e.requestPending&&!e.canCreate,i=!!e.disabled||r||n,o=i?(0,k.t)("locked_team.label.tooltip"):void 0,l=i?eR.Ib.TEXT:void 0,s=i?g.lQ:a;return{disabled:i,onClick:s,dataTooltip:o,dataTooltipType:l,displayText:(0,k.t)("file_browser.tool_bar.new_slide_deck"),dataTestId:"new-slides-file-button",editorThemeMode:"piper",key:"NEW_SLIDES_FILE",listOptionType:TG.R.SLIDES,requestPending:n,canRequest:t&&!1===e.requestPending&&!1===e.canCreate}}let TX="resource_creation_action--icon--I0s0W",TJ="resource_creation_action--iconDisabled--80iVj",T0="resource_creation_action--betaTag--o8v94",T1="resource_creation_action--fadeInOnMount--A5XBA",T2={[TG.R.DESIGN]:"resource_creation_action--designHoverOption--50QUQ",[TG.R.WHITEBOARD]:"resource_creation_action--figJamHoverOption--ipE-z",[TG.R.SLIDES]:"resource_creation_action--piperHoverOption--x6D--",[TG.R.SITES]:"resource_creation_action--seascapeHoverOption--AZM8v",[TG.R.IMPORT]:"resource_creation_action--importHoverOption--sVdl8",[TG.R.COOPER]:"resource_creation_action--cooperHoverOption--r7I1c"};function T4(e,t){let a=void 0!==t?t:e.onClick;return{displayText:e.displayText,activeClassName:"resource_creation_action--active--a-b-K",className:B()(T2[e.listOptionType],"resource_creation_action--menuOptionItem--XHeQF",e.disabled&&"resource_creation_action--disabled--Kajn-"),disabled:e.disabled,preventDismissOnSelected:!1,callback:(t,r,n,i)=>{e.disabled||a(i)},render:()=>l.createElement(T8,{disabled:e.disabled,text:e.displayText,onClick:a,listOptionType:e.listOptionType,dataTestId:e.dataTestId,key:e.key,dataOnboardingKey:e.dataOnboardingKey,requestPending:e.requestPending,canRequest:e.canRequest})}}function T8(e){let t={[TG.R.DESIGN]:l.createElement(wN.k,{className:e.disabled?TJ:TX}),[TG.R.WHITEBOARD]:l.createElement(wS.D,{className:e.disabled?TJ:TX}),[TG.R.SLIDES]:l.createElement(wk.l,{className:e.disabled?TJ:TX}),[TG.R.SITES]:l.createElement(wL.Y,{className:e.disabled?TJ:TX}),[TG.R.IMPORT]:l.createElement(wA.R,{className:e.disabled?TJ:TX}),[TG.R.COOPER]:l.createElement(rR.w,{inverted:!0})};return l.createElement("div",{role:"link",tabIndex:0,"data-testid":e.dataTestId,"data-tooltip":e.dataTooltip,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip-timeout-delay":300,"data-onboarding-key":e.dataOnboardingKey},l.createElement("div",{className:B()({[S.cx.flex.gap8.flexRow.pl6.pt6.pb6.pr8.overflowHidden.$]:!0})},l.createElement("div",{className:S.cx.flex.w24.h24.flexRow.itemsCenter.alignCenter.justifyCenter.flexShrink0.$},t[e.listOptionType]),l.createElement("div",{className:B()({[S.cx.flex.h24.flexRow.overflowHidden.flexGrow1.itemsCenter.$]:!0,[S.cx.colorTextMenu.$]:!e.disabled,[S.cx.colorTextMenuDisabled.$]:!!e.disabled})},e.text),e.listOptionType===TG.R.SLIDES&&(0,p.kc)().omnicreate_slides_beta_tag&&l.createElement(ec.Ex,{className:T0,text:(0,k.t)("file_browser.creation_buttons.beta"),color:ec.zE.LIGHT_TRANSLUCENT}),(e.listOptionType===TG.R.SITES||e.listOptionType===TG.R.COOPER)&&(0,p.kc)().sites_alpha&&l.createElement(ec.Ex,{className:T0,text:(0,k.t)("file_browser.creation_buttons.alpha"),color:ec.zE.LIGHT_TRANSLUCENT}),e.requestPending&&l.createElement(ec.Ex,{className:T0,text:(0,k.t)("file_browser.creation_buttons.request_sent"),color:ec.zE.LIGHT_TRANSLUCENT}),e.canRequest&&l.createElement(ec.Ex,{className:T0,text:(0,k.t)("file_browser.creation_buttons.request"),color:ec.zE.LIGHT_TRANSLUCENT})))}function T3(){let e=(0,tR.vt)();return(0,eM.Yz)()(e)}function T5({createOptionsList:e,dropdownType:t,isHidden:a}){let r=(0,s.wA)(),n=(0,s.d4)((0,TQ.E)(t)),i=T3(),o=(0,TH.cf)(),c=()=>{n||r(K.j7({type:t}))},d=l.useRef(null),[m,u]=l.useState(void 0),_=l.useCallback(e=>{d.current=e,u(e?.getBoundingClientRect())},[u]);return l.useEffect(()=>{let e=()=>u(d.current?.getBoundingClientRect());return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[u]),l.createElement(l.Fragment,null,l.createElement("div",{tabIndex:0,role:"menu","data-tooltip":i?(0,k.t)("locked_team.label.tooltip"):(0,k.t)("file_browser.tool_bar.create_new"),"data-tooltip-type":eR.Ib.TEXT,onKeyDown:e=>{"Enter"===e.key&&c()}},l.createElement(oA,{variant:i?"secondary":"primary",onMouseDown:c,text:(0,k.t)("file_browser.tool_bar.create_new"),hasDropdown:!0,dataTestId:"omnicreate-creation-button",ref:_,disabled:i})),m&&n&&!a&&l.createElement(ez.fu,{name:"Resource Creation Dropdown",properties:{fileCreationDefaultsDropdownType:t}},l.createElement(aP.j,{dataTestId:"resource-creation-dropdown",lean:"center",showPoint:!1,rootAndSubmenuMaxWidth:o?236:180,minWidth:180,autoHeight:!0,hidePointWhenContentOffScreen:!0,recordingKey:"resource-creation-dropdown",onSelectItem:(e,t)=>{e.callback&&e.callback(void 0,void 0,void 0,t)},items:e,parentRect:m,dispatch:r})))}function T9({dropdownType:e,disabled:t,from:a,folderId:r,isHidden:n}){let{canCreateDesignFile:i,canCreateFigjamFile:o,canCreateSlidesFile:s,canShowCreateSitesFile:c}=(0,wF.n)(r),d=TY({from:a,disabled:t||!i}),m=Tz({from:a,disabled:t||!o});(0,wP.XT)({from:a});let u=[T4(d),T4(m)];(0,TK.lt)({from:a,disabled:t});let _=TZ({from:a,disabled:t||!s});(0,p.kc)().piper&&u.push(T4(_));let f=(0,bu.o)({disabled:t});return u.push({displayText:"",disabled:!0,separator:!0},T4(f)),l.createElement(T5,{dropdownType:e,createOptionsList:u,isHidden:n})}function T6(e){let t=(0,ef.md)(wR),a=T3(),r=(0,ef.md)(Tf),n=!E.Ay.mobile&&!a&&!r,i=t||r,[o,s]=l.useState(!1);l.useEffect(()=>{i&&s(!0)});let[c,d]=l.useState(!i),m=!i&&c;return n&&!o?e.leftContent??null:l.createElement(l.Fragment,null,m&&l.createElement("div",{className:T1},e.leftContent),l.createElement("div",{className:B()("resource_creation_action--fadeContainer--A86Kj",n?i?T1:"resource_creation_action--fadeOut--KJEi2":"",m&&"resource_creation_action--hidden--HrBSv"),onAnimationStart:()=>{d(!1)},onAnimationEnd:()=>{i||d(!0)}},e.leftContent,l.createElement(T9,{dropdownType:e.dropdownType,disabled:e.disabled,from:e.from,folderId:e.folderId,isHidden:!i})))}var T7=a(558011);function Ie(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,s.d4)(({dropdownShown:e})=>e),n=(0,s.d4)(t=>(0,ee.oq)(e.folder.id,t))??null,i=(0,s.d4)(e=>e.favorites.collapsedCustomSections),o=(0,aL.S)(),c=(0,tA.Q)({currentOrgId:n,currentTeamId:null}),d=l.useMemo(()=>{if("loaded"===c.status)return(0,eq.T0)(c.data,e.folder.id)},[c,e.folder.id]),m=void 0!==d;if("loaded"!==c.status)return l.createElement("div",{className:S.cx.flex.itemsCenter.colorIcon.$},l.createElement(j.B,{svg:Eq.A}));let u=(0,eq.gV)(c.data,n),_=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,p=a.current&&r?.data?.targetRef===a.current&&r?.type===e_.jU,f=a.current,g=[];return e.folder.canCreateDesignFile&&g.push(l.createElement(oV.c$,{key:"import",children:(0,k.tx)("file_browser.folder.import"),onClick:e.onImportClick})),e.folder.canView&&g.push(l.createElement(oV.c$,{key:"share",children:(0,k.tx)("file_browser.folder.share"),onClick:e.onShareClick})),e.setFavorite&&(o?g.push(l.createElement(oV.c$,{key:"add-to-favorites-section",children:l.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.w150.$},(0,k.tx)("favorited_resources.add_to_sidebar"),l.createElement(j.B,{svg:T7.A})),onClick:r=>{r.stopPropagation(),a.current&&t(K.j7({type:e_.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.folder.id}}))}})):g.push(l.createElement(oV.c$,{key:"shaadd-to-favorites-section",children:e.folder.is_subscribed?(0,k.tx)("sidebar.remove_from_favorites"):(0,k.tx)("sidebar.add_to_favorites"),onClick:a=>{a.stopPropagation(),t(tx.ZJ({folderId:e.folder.id,folderName:e.folder.path,teamId:e.folder.team_id,isSubscribed:!e.folder.is_subscribed}))}}))),l.createElement("button",{className:S.cx.flex.itemsCenter.colorIcon.$,ref:a,onClick:a=>{e.dropdownKey&&f&&t(K.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},l.createElement(j.B,{svg:Eq.A}),_&&l.createElement(Tj.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&l.createElement(rI.t,{updateFavorite:(a,r)=>{(!u||a)&&(e.setFavorite&&e.setFavorite(a,d?.resource.id,r),a&&r&&(i.delete(r),t(t5.U6({collapsedCustomSections:i})),ae.Fp({type:"topLevel",id:"custom",orgId:n,sectionId:r},!0)))},resourceId:e.folder.id,resourceType:e2.bk.FOLDER,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(0,tP.oA)(c.data?.currentUser?.userSidebarSections)??[],customSectionOrdering:c.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var It=a(510037),Ia=a(492379),Ir=a(750293),In=a(720647),Ii=a(410436),Io=a(466816),Il=a(564517),Is=a(997016),Ic=a(731210),Id=a(114959),Im=a(808576),Iu=a(249963),I_=a(234587);function Ip({dataTestId:e,key:t,tooltipEditorString:a,listOptionType:r}){return{displayText:(0,k.t)("file_browser.tool_bar.request_sent"),preventDismissOnSelected:!0,render:()=>l.createElement(T8,{disabled:!0,text:(0,k.t)("file_browser.tool_bar.request_sent"),onClick:g.lQ,listOptionType:r,dataTestId:e,key:t,dataTooltip:(0,k.t)("file_browser.tool_bar.request_sent_tooltip",{editorString:a})})}}var If=a(36816);function Ig(e,t,a){return e===a1._YF.WHITEBOARD?t&&t.whiteboardPaidStatus===e2.El.RESTRICTED||a&&a.whiteboardPaidStatus===If.Zf.RESTRICTED:e===a1._YF.DESIGN&&(t&&t.designPaidStatus===e2.El.RESTRICTED||a&&a.designPaidStatus===If.Zf.RESTRICTED)}var IE=a(631981);function Ih({folder:e,user:t,dispatch:a,team:r,shouldShowRenameModal:n,onClaimClick:i,lgFolder:o,shouldShowLockedRedesign:c}){let[d,m]=l.useState(void 0),_=(0,tq.cD)(),f=(0,TH.cf)(),E=()=>{e.name&&j&&(a(tx.WC()),a(eY.to({type:(0,yj.y)(),data:{folder:e}})))},v=()=>{Il.S.getFolderTransfer({folderId:e.id}).then(({data:e})=>{m(e.meta)},e=>{m(void 0)})};(0,u.h)(()=>{v()}),(0,u.h)(()=>{n&&E()});let y=(0,eM.fn)()===eM.ih.CONTROL,b=(0,eJ.FC)(),w=(0,s.d4)(e=>e.currentUserOrgId),T=(0,s.d4)(e=>e.teamRoleRequests),{handleUpgrade:I,getUpgradeElibigility:C,hasPendingRequest:x}=(0,TW.wH)({folderId:e.id}),N=l.useMemo(()=>o&&o.team&&o.team.org?.id,[o]),L=l.useMemo(()=>o&&o.team&&o.team.id,[o]),A=l.useMemo(()=>!!o?.team?.canAdmin,[o]),R=()=>{td.Ay.del(`/api/asset_transfer/${d?.id}`).then(()=>{m(void 0),a(a0.F.enqueue({message:"Transfer revoked."}))},e=>{a(a0.F.enqueue({message:"Something went wrong - check your connection and try again",error:!0}))})},F=()=>{a(eY.to({type:ru.W,data:{folderId:e.id}}))},P=l.useMemo(()=>!A&&e&&null!==w&&!o?.canEdit,[A,e,w,o]),O=l.useMemo(()=>!!(o&&o.canCreateFigjamFile&&o.canEdit),[o]),D=l.useMemo(()=>!!(o&&o.canCreateDesignFile&&o.canEdit),[o]),M=l.useMemo(()=>!!o&&o.canCreateSlidesFile&&o.canEdit,[o]),B=!!(0,p.kc)().piper&&M,U=(0,I_.sy)(),V=D&&U,H=O||D,W=l.useMemo(()=>!!(o&&o.canRead),[o]),j=l.useMemo(()=>!!(o&&o.canEdit),[o]),$=l.useMemo(()=>!!(o&&o.isEditingLockedForUser),[o]),G=l.useMemo(()=>{if(P&&T&&r&&T[r.id]&&T[r.id].status===Ii.c.PENDING)return T[r.id].id},[P,T,r]);l.useEffect(()=>{P&&w&&a((0,eZ.Rw)())},[P,a,w]);let Y=(0,re.jm)(N,L),z=(0,aL.S)(),Q=(0,nl.a)(e.id),K=c?(0,k.t)("locked_team.label.tooltip"):void 0,Z=c?eR.Ib.TEXT:void 0,X=o?.team?.org?.currentBaseOrgUser,J=o?.team?.currentTeamUser,et=(0,eM.zq)(),ea=(0,h.I7)("exp_pro_upgrade_project_vr"),er=(0,h.I7)("exp_org_upgrade_project_vr"),en=(e,t,n)=>{let i=N?o?.team?.org:o?.team,l=i?.name,s=t.toString();if(f){let t=C(s,n);return t===Io.q.CAN_UPGRADE?I({afterUpgradeCallback:e,licenseType:s,upgradeReason:Iu.X.CREATE_FILE,entryPoint:Ir.tc.CREATE_FILE_PROJECT_VIEW}):t===Io.q.CANNOT_UPGRADE?()=>a(a0.F.enqueue({message:"Can't upgrade",error:!0})):e}if(es(t,o))return()=>{a(eY.to({type:Im.y,data:{planType:N?vg.O.ORG:vg.O.TEAM,planName:l,seatTypesToBeUpgraded:{design:t===e2._Y.DESIGN,whiteboard:t===e2._Y.WHITEBOARD},planId:N??L,upgradeReason:Iu.X.CREATE_FILE,onConfirm:e}}))};if(ec(t,o)){if(X&&o?.team)return()=>{a(eY.to({type:Ic.Y,data:{orgId:N??"",orgUser:{id:X.id,user_id:X.userId,org_id:N??"",permission:X.permission,license_group_member:{license_group_id:o.team?.licenseGroupId??null}},entryPoint:Ir.PE.CreateFileProjectView,licenseType:(0,In.vc)(t)}}))};if(J)return()=>{a(eY.to({type:Id.PK,data:{team:r,entryPoint:Ir.Wc.CREATE_FILE_PROJECT_VIEW,editorType:t}}))}}return e},ei=!1;_&&J&&(J&&J.whiteboardPaidStatus===If.Zf.RESTRICTED||J&&J.designPaidStatus===If.Zf.RESTRICTED)&&o&&o.canEdit&&o.team&&!o.team.isStarterTeam&&!o.team.isStudentTeam&&((0,el.sx)("pro_upgrade_project_exp_fetch",{reduxTeamId:_,lgTeamId:J.teamId,userId:J.userId}),ei=ea.getConfig().getValue("showExp",!1));let eo=!1;w&&X&&(X&&X.whiteboardPaidStatus===e2.El.RESTRICTED||X&&X.designPaidStatus===e2.El.RESTRICTED)&&o&&o.canEdit&&o.team&&o.team.org?.id&&((0,el.sx)("org_upgrade_project_exp_fetch",{reduxOrgId:w,lgOrgId:o.team.org?.id,userId:X.userId}),eo=er.getConfig().getValue("showExp",!1));let es=(e,t)=>!(t&&t.team&&t.team?.org?.k12GoogleOrg)&&(e===a1._YF.WHITEBOARD?!!X&&X.whiteboardPaidStatus===e2.El.STARTER||!!J&&J.whiteboardPaidStatus===If.Zf.STARTER:e===a1._YF.DESIGN&&(!!X&&X.designPaidStatus===e2.El.STARTER||!!J&&J.designPaidStatus===If.Zf.STARTER))&&!!t&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam&&et(),ec=(e,t)=>!(e===e2._Y.WHITEBOARD&&t?.team?.org?.isFigJamDisabled)&&!!Ig(e,X,J)&&!!t&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam&&(!!X&&!!eo||!!J&&!!ei),ed=e=>{if(Ig(e,X,J)){if(X&&eo){if(e===e2._Y.DESIGN&&X.designAccountTypeRequest?.status==="pending"||e===e2._Y.WHITEBOARD&&X.whiteboardAccountTypeRequest?.status==="pending")return!0}else if(J&&ei&&(e===e2._Y.DESIGN&&J.designAccountTypeRequest?.status==="pending"||e===e2._Y.WHITEBOARD&&J.whiteboardAccountTypeRequest?.status==="pending"))return!0}return!1},em=wM(e2._Y.DESIGN,vf.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_design_created",e.id,!!(!r&&o&&o.canEdit)),eu=wM(e2._Y.WHITEBOARD,vf.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_figjam_created",e.id,!!(!r&&o&&o.canEdit)),e_=wM(e2._Y.SLIDES,vf.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_slides_created",e.id,!!(!r&&o&&o.canEdit)),ep=wM(e2._Y.SITES,vf.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_sites_created",e.id,!!(!r&&o&&o.canEdit));wM(e2._Y.COOPER,vf.f6.FILE_BROWSER_TOPBAR_FOLDER,`toolbar_${EH.sq}_created`,e.id,!!(!r&&o&&o.canEdit));let ef=en(em,e2._Y.DESIGN,D),eg=en(eu,e2._Y.WHITEBOARD,O),eE=en(e_,e2._Y.SLIDES,B),eh=(t,r,n)=>{if(e){let i={folder:e,entrypoint:"folder_page_view",sectionId:n,favoriteId:r};t?a(t5.Mv(i)):a(t5.jv(i))}},ev=()=>{a(q.gN(e.id)),a((0,wB.L)())},ey=!!(0,ee.c8)(e.id,e.team_id,b).data,eb=TY({from:vf.f6.FILE_BROWSER_TOPBAR_FOLDER,canCreate:D,requestPending:f&&x(e2.G_.DESIGN)}),ew=Tz({from:vf.f6.FILE_BROWSER_TOPBAR_FOLDER,canCreate:O,requestPending:f&&x(e2.G_.WHITEBOARD)}),eT=(0,bu.o)({}),eI=TZ({from:vf.f6.FILE_BROWSER_TOPBAR_FOLDER,canCreate:B,requestPending:f&&x(e2.G_.SLIDES)}),eC=(0,TK.lt)({from:vf.f6.FILE_BROWSER_TOPBAR_FOLDER});return(0,wP.XT)({from:vf.f6.FILE_BROWSER_TOPBAR_FOLDER}),l.createElement(ov,{title:e.name,rightSideActions:(()=>{let n=[],s=(0,p.kc)().ps_benchmark&&(0,e4.R$)(t,w);ey&&n.push({kind:oR.A.BUTTON,key:oR.D.CLAIM,displayText:(0,k.t)("file_browser.folder.join_as_owner"),onClick:i});let d=[],m=T4(ew,eg),u=T4(eb,ef),_=null!==eI?T4(eI,e_):null,E=null!==eC?T4(eC,ep):null,h=ed(e2._Y.DESIGN),v=ed(e2._Y.WHITEBOARD),b=ec(e2._Y.DESIGN,o)&&ec(e2._Y.WHITEBOARD,o)&&h&&v;if(!$&&!s){let e=Ip({dataTestId:"request-sent-design-button",key:oR.D.REQUEST_SENT_DESIGN,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figma_design"),listOptionType:TG.R.DESIGN}),t=Ip({dataTestId:"request-sent-whiteboard-button",key:oR.D.REQUEST_SENT_WHITEBOARD,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figjam"),listOptionType:TG.R.WHITEBOARD}),a=Ip({dataTestId:"disabled-import-button",key:oR.D.IMPORT,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figma_design_and_figjam"),listOptionType:TG.R.IMPORT});b?(d.push(e,t),V&&null!==E&&d.push(E),B&&null!==_&&d.push(_),d.push(a)):(D?d.push(u):f?d.push(u):ec(e2._Y.DESIGN,o)&&(h?d.push(e):d.push(u)),O?d.push(m):f?d.push(m):ec(e2._Y.WHITEBOARD,o)&&(v?d.push(t):d.push(m)),V&&null!==E&&d.push(E),(B||f)&&null!==_&&d.push(_))}if(H&&!s&&(d.push({displayText:"",disabled:!0,separator:!0}),d.push(T4(eT))),d.length>0&&n.push({kind:oR.A.CUSTOM,key:oR.D.NEW_RESOURCE,element:l.createElement(T5,{createOptionsList:d,dropdownType:TG.x})}),W){let e={kind:oR.A.BUTTON,key:oR.D.SHARE,displayText:(0,k.t)("file_browser.folder.share"),onClick:c?g.lQ:F,"data-tooltip":K,"data-tooltip-type":Z,styleClass:c?IE.EB:void 0};n.push(e)}P&&n.push({kind:oR.A.BUTTON,key:oR.D.REQUEST_TO_EDIT,displayText:void 0!==G?(0,k.t)("file_browser.team.cancel_request"):(0,k.t)("file_browser.team.request_to_edit"),onClick:()=>{G?a(Ia.lT({requestId:G})):r&&a(eY.to({type:Is.$,data:{team:r,requesterCurrentLevel:e6.e6.VIEWER,source:"FolderPageView"}}))}});let T=z?l.createElement(rk.r,{setFavorite:eh,favoriteType:e2.bk.FOLDER,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:w,teamId:L??null,containerStyle:o6.HM}):l.createElement(It.d,{folder:e});if(y&&(!(0,p.kc)().ps_benchmark||Y)&&n.push({kind:oR.A.CUSTOM,key:oR.D.FAVORITE,element:T}),!$&&(D||O||B)){let e=l.createElement(T$,{dropdownKey:"new-file-dropdown",canCreateDesignFile:D,canCreateWhiteBoardFile:O,canCreateSlidesFile:B,onNewDesignFileClick:ef,onNewWhiteBoardClick:eg,onNewSlidesClick:eE});n.push({kind:oR.A.CUSTOM_BUTTON,key:oR.D.NEW_FILE_DROPDOWN,styleClass:S.cx.colorBgInverse.$,showOnMobile:!0,hideOnDesktop:!0,element:e})}let I=l.createElement(Ie,{dropdownKey:"project-overflow-dropdown",folder:e,onImportClick:ev,onShareClick:F,setFavorite:Y?eh:null});return n.push({kind:oR.A.CUSTOM_BUTTON,key:oR.D.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:I}),n})(),rightSideOfTitleAction:(()=>{let t=Q({folder:{...(0,vf.Kk)({...e,canCreateDesignFile:D,canCreateFigjamFile:O,canCreateSlidesFile:B},j),isSubscribed:e.is_subscribed,description:e.description},onRenameClick:E,onRevokeTransfer:R,shouldShowJoinButton:!1,getPendingInfo:v,pendingTransfer:d});return W&&t.length>0?{kind:oR.A.CUSTOM,key:oR.D.DROPDOWN,element:l.createElement(oU,{buttonAriaLabel:(0,k.t)("file_browser.folder.page_header_dropdown_label"),dropdownKey:`folder-${e.id}`,dropdownOptions:t})}:void 0})()})}let Iv="folder_page_view--sidebarDivider--NEgHu";function Iy(e){let t=(0,s.wA)(),a=(0,nf.Rs)(nE.CH9,{folderId:e.folderId}),r=l.useMemo(()=>"loaded"===a.status?(a.data.project?.pinnedFiles||[]).filter(e=>!!e.file):[],[a]);l.useEffect(()=>{t(tx.MR({folderId:e.folderId,fileKeys:r.map(e=>e.file.key)}))},[r,t,e.folderId]);let n=l.useCallback(()=>{t(a7.an())},[t]);return 0!==r.length?l.createElement(l.Fragment,null,l.createElement("div",{className:"folder_page_view--pinnedHeader--YJufT",onMouseDown:n},l.createElement(L.E,{fontSize:13,color:"secondary"},(0,k.tx)("file_browser.folder.pinned"))),(0,p.kc)().pinned_folder_files_items_view?l.createElement(wT,{pinnedFiles:r,folderId:e.folderId}):l.createElement(Tv,{files:r,tileActions:e.tileActions,repos:e.repos})):null}let Ib={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToFolder:!0,pinToWorkspace:!0},Iw=(0,v1.xx)(ee.ZN);function IT(e){let{folderId:t}=e,a=(0,nf.Rs)(nE.L8O,{projectId:t}),r=(0,eJ.FC)(),n=(0,J.LK)(t),i=a4.Qw.useTransformShallowEqual(n,e=>{let a=e.folder;return{folder:e.folder,canView:(0,eL.canViewFolder_DEPRECATED)(t,r),canEdit:(0,eL.canEditFolder)(t,r),isEditingLocked:!!a&&(0,ek.ZZ)(a,r),team:r.teams[a?.team_id||""]||null}}).data,o=i?.folder,c=(0,ab.Lm)(),d=(0,s.wA)(),m=(0,nf.Rs)(nE.Udv,{id:t});l.useLayoutEffect(()=>{if("loaded"===m.status&&!m.data.project?.hasPermission||a.data?.project?.trashedAt){if(a.data?.project?.team){let e=a.data.project.team.id;d(K.$T({view:"team",teamId:e}))}else d(K.$T({view:"recentsAndSharing"}))}a.data?.project?.isAbandonedDrafts&&c?.permission===e2.Xn.ADMIN&&(a.data?.project?.team&&!(a.data?.project?.team.isStarterTeam||a.data?.project?.team.isStudentTeam)?d(K.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:t,planId:a.data?.project?.team.id,adminPlanType:vg.O.TEAM})):a.data?.project?.org&&d(K.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:t,planId:a.data?.project?.org?.id,adminPlanType:vg.O.ORG})))},[d,m,a,t,c]);let u=(0,eM.Yz)();l.useEffect(()=>{o&&!o.is_invite_only&&o.team_id&&!i.team&&d(TS.Jt({teamId:o.team_id}))},[d,t,o,i?.team]),l.useEffect(()=>{if(!(0,p.kc)().auto_accept_project_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,Tk.QL)("auto_role");t&&o&&t in e&&((i.canView||"100"!==t)&&(i.canEdit||"300"!==t&&"900"!==t&&"999"!==t)&&d(a0.F.enqueue({message:(0,k.t)("file_browser.auto_accept_project_invite_modal",{projectName:o.name,inviteType:e[t]})})),(0,Tk.EM)("auto_role"))},[d,o,i]);let _=a.data?.project||null,f=(0,s.d4)(e=>Iw(t,e.tileSortFilterStateByView)),g=(0,s.d4)(tL.yK),h=(0,s.d4)(e=>!!i?.team&&!!o?.team_id&&bX(e,e2.vt.TEAM,i.team,o.team_id,{isEligibleForLockedRedesign:u})),v=(0,s.d4)(e=>!!e.userFlags.hide_recommended_templates_in_projects),y=(0,s.d4)(e=>e.selectedBranchKeyByRepoId),b=(0,tR.vt)(),w=(0,eX.dq)(),T=(0,e1.iZ)(),I=()=>{d(t9.b({hide_recommended_templates_in_projects:!v}))},C=!!_?.canCreateFigjamFile,x=!!_?.canCreateDesignFile,N=!!_?.canCreateSlidesFile,L=!!_?.canEdit,A=!!_?.canRead,R=()=>!h&&!v,F=function(){let e=(0,s.Pj)();return l.useCallback(async t=>{try{await td.Ay.post(`/api/folders/${t}/claim`),e.dispatch(tx.qp({folderId:t})),(0,ee.qF)(t)||e.dispatch((0,J.jl)({folderId:t,loadedFolders:{}}))}catch(t){e.dispatch($.s.error(t.message||(0,k.t)("file_browser.file_browser_actions.claim_team_error")))}},[e])}(),P=()=>F(t),O=(0,ee.c8)(t,o?.team_id||null,r),D=(0,eM.PP)();if(!o||"loaded"!==n.status||"loaded"!==a.status)return l.createElement("div",{className:"folder_page_view--loading--ZkDG0"},l.createElement(tM.kt,null));let M=e=>{d(tx.ub({folderId:t,description:e.trim()}))},B={view:"project",folderId:t,canEdit:i.canEdit,userSpace:w?e7.qo.ORG:e7.qo.PERSONAL},U=i.team,V=U&&!(0,ek.w5)(U);return(0,ez.T8)(l.createElement(oy.r,{content:l.createElement("div",{className:S.cx.flex.flexColumn.$},(()=>{let t=!!(x||C||N)&&!i.isEditingLocked,a=t?"":(0,k.t)("file_browser.folder.no_files_yet");if("loaded"!==O.status)return null;let{files:r,repos:s,filesByRepoId:c}=n.data,d=[...r.map(e=>({type:ra.nb.FILE,file:e})),...s.filter(e=>!e.trashed_at).map(e=>({type:ra.nb.REPO,repo:e,branches:c[e.id],selectedBranchKey:y[e.id]||""}))],m=l.createElement(l.Fragment,null,l.createElement(Tg,{team:i.team||void 0,newFileFrom:vf.f6.FILE_BROWSER_TOPBAR_FOLDER,disableRecommendedTemplates:g||u(b),folderId:o.id,recommendedTemplatesIsOpen:R(),toggleRecommendedTemplates:I,isInProjectsView:!0}),l.createElement(Iy,{folderId:e.folderId,repos:s,tileActions:Ib}),l.createElement(yB,{newFileTile:t,tiles:d,tileActions:Ib,sortFilterOptions:f,emptyStateText:a,isFolder:!0,eligibleForLockedStateRedesign:u(b)})),_=l.createElement(yU,{emptyStateText:(0,k.t)("file_browser.folder.join_this_project_to_view_files"),onClaimClick:P});return O.data?_:m})(),l.createElement(vK.cx,null)),metaContent:E.Ay.mobile||!V||D()?void 0:(()=>{let e=L&&!i.isEditingLocked,a=i.team,r=a&&!(0,ek.w5)(a);return l.createElement("div",{className:"folder_page_view--metaColumn--FPnOz"},(e||o.description)&&l.createElement(l.Fragment,null,l.createElement("div",{className:Iv}),l.createElement("div",{className:"folder_page_view--folderDescription--wO8Rd text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("h3",{className:S.cx.font13.fontMedium.$},(0,k.tx)("file_browser.about")),l.createElement(gv,{value:o.description||"",placeholder:(0,k.t)("file_browser.folder.add_a_description"),formatter:gh,submit:M,readOnly:!e}))),o.team_id&&l.createElement(l.Fragment,null,l.createElement("div",{className:Iv})),A&&!E.Ay.mobile?l.createElement(TV,{key:t,folderId:t}):null,a&&r&&l.createElement(TI,{folderId:t}),o.team_id&&l.createElement(TN,{teamId:o.team_id}))})(),banner:U&&h?l.createElement(TM,{teamId:U.id}):void 0,header:l.createElement(l.Fragment,null,l.createElement(Ih,{dispatch:d,user:T,folder:{...i,...o,canCreateDesignFile:x,canCreateWhiteboardFile:C},team:U,currentOrgId:w,onClaimClick:P,shouldShowRenameModal:e.shouldShowRenameModal||!1,lgFolder:_,shouldShowLockedRedesign:u(b)}),x&&U&&l.createElement(TD,{teamId:U.id,canCreateFigjamBoard:C}))}),e7.e0.FILE_BROWSER,B)}function II(){let e;let t=(0,s.d4)(e=>e.currentTeamId),a=(0,ea._6)(),r=(0,nf.Rs)(nE.RRC,{teamId:t??""},{enabled:!!t});if(!(0,p.kc)().limited_plan_spaces)return null;if("loaded"!==r.status)e=l.createElement(tM.qc,null);else{let n=("loaded"===r.data.currentUser.status&&r.data.currentUser.data.teamProjectRoles||[]).filter(e=>!!e.project).map(e=>{let t=e.project;return{id:t.id,name:t.name,description:t.description,path:t.path,team_id:t.teamId,is_invite_only:!!t.inviteOnlyAt,is_view_only:!!t.viewOnlyAt,deleted_at:t.deletedAt?t.deletedAt.toISOString():null,updated_at:t.updatedAt.toISOString(),created_at:t.createdAt.toISOString(),touched_at:t.lastModifiedAt,shared_at:e.sharedWithYouFolder?.sharedAt.toISOString(),shared_by_user:e.sharedWithYouFolder?.sharedByUser}});e=l.createElement(l.Fragment,null,l.createElement(ba,{viewId:`limitedTeam-${t}`,folderList:n,selectedView:a,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!0}))}return(0,ez.T8)(l.createElement(oy.r,{content:l.createElement(l.Fragment,null,e),viewbar:l.createElement("div",{className:"limited_space_team_projects_page_view--viewbar--YMqKQ"},l.createElement("div",{className:"limited_space_team_projects_page_view--viewbarHeading--mTm27"},(0,k.tx)("file_browser.limited_space_team_projects.heading")))}),e7.e0.FILE_BROWSER,{view:"limitedSpaceTeamProjects"})}function IC({orgId:e}){let t=(0,eJ.FC)(),a=(0,s.wA)();return(0,eL.canMemberOrg)(e,t)?l.createElement(oE.K,{action:{kind:oE.A.BUTTON,key:oR.D.VIEW_LIBRARIES,displayText:(0,k.t)("org_view.view_libraries"),onClick:()=>{a(K.$T({view:"org",orgId:e,orgViewTab:tZ.X.LIBRARIES}))}}}):null}function Ix({orgId:e}){let t=(0,s.wA)(),a=(0,s.d4)(tL.QT),r=(0,s.d4)(t=>t.orgById[e]),{canCreateTeam:n}=(0,ar.LM)(r,null);return a||!n?null:l.createElement(oE.K,{action:{kind:oE.A.CUSTOM,key:oR.D.NEW_TEAM,element:l.createElement(oA,{onClick:()=>{t(eY.to({type:tX.Uc,data:{}}))},variant:"inverse",text:(0,k.t)("license_group_view.toolbar.new_team_button")})}})}function IN({orgId:e}){return e?l.createElement(l.Fragment,null,l.createElement(Ix,{orgId:e,key:"org-new-team-action"}),l.createElement(IC,{orgId:e,key:"org-library"})):null}var IS=a(193360);function Ik(){let e=(0,s.wA)(),t=(0,eX.dq)(),a=bq((0,nJ.R)(e=>({...(0,eL.getPermissionsState)(e),selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData})),e);if(!a)return l.createElement("div",null);let r=b0({resourceType:"org",orgId:t},a),n=a.severity===bA.c.WARN?bR:"",i=`${bW} ${n}`;return l.createElement("div",{className:i},l.createElement(b8,{...a,tracking:r}))}var IL=a(463206);let IA="org_meta_content--container--b5Iq3";function IR({org:e}){return l.createElement("div",{className:S.cx.flex.flexColumn.rowGap16.$},l.createElement(ap.Ro,{entity:e,size:36}),l.createElement(L.E,{fontWeight:"medium",fontSize:13},e.name))}function IF({handle:e}){let t=(0,s.wA)();return l.createElement("a",{href:new sm.xn({profileHandle:e}).href,className:IL.Be,onClick:a=>{a.metaKey||(a.preventDefault(),t(K.$T({view:"communityHub",subView:"handle",handle:e})))}},l.createElement(L.E,{fontSize:11},"@",e))}function IP({orgId:e}){let t=(0,s.d4)(t=>(0,tj.Xy)(t.orgUsersByOrgId[e]).map(e=>e.user)),a=(0,s.wA)();return l.createElement(o0,{label:(0,k.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{a(K.$T({view:"user",userId:t.id,userViewTab:o1.o.INTERNAL_PROFILE}))},canLeave:!1})}function IO({org:e,orgStats:t}){let a=t?l.createElement(L.E,{fontSize:11,color:"secondary"},(0,k.tx)("org_home_view_meta.member_count",{memberCount:t.memberCount.data}),l.createElement("span",null,"\xa0\xb7\xa0"),"workspaceCount"in t?(0,k.tx)("org_home_view_meta.workspace_count",{workspaceCount:t.workspaceCount.data}):(0,k.tx)("org_home_view_meta.team_count",{teamCount:t.discoverableTeamCount.data})):l.createElement(fr.Wi,{className:S.cx.mb4.$,animationType:fr.JR.SHIMMER});return l.createElement("div",{className:IA},l.createElement(IR,{org:e}),l.createElement("span",{className:S.cx.mt4.$},a),e.community_profile_handle?l.createElement("span",{className:S.cx.mt2.$},l.createElement(IF,{handle:e.community_profile_handle})):null,l.createElement("span",{className:S.cx.mt32.$},l.createElement(IP,{orgId:e.id})))}function ID({org:e}){let t=(0,nf.Rs)(nE.nYs,{orgId:e.id});return l.createElement(IO,{orgStats:t.data?.org??null,org:e})}function IM({org:e}){let t=(0,nf.Rs)(nE.kei,{orgId:e.id});return l.createElement(IO,{orgStats:t.data?.org??null,org:e})}function IB({org:e}){return l.createElement("div",{className:IA},l.createElement(IR,{org:e}),e.community_profile_handle?l.createElement("span",{className:S.cx.mt4.$},l.createElement(IF,{handle:e.community_profile_handle})):null,l.createElement("span",{className:S.cx.mt4.$},l.createElement(L.E,{fontSize:11,color:"secondary"},(0,k.tx)("payments_modal.guest_permission_disclaimer")," ",l.createElement("a",{className:IL.Be,href:"https://help.figma.com/hc/articles/360039957374",target:"_blank",rel:"noopener"},(0,k.tx)("org_home_view_meta.learn_more")))))}var IU=a(963067),IV=a(66944);let IH="org_plugins_view--resourcesGrid--vuLoW profile_resources_grid--_resourcesGridTemplateColumns--19JO6",IW="org_plugins_view--container--LquUh",Ij="org_plugins_view--emptyState--lppIb tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd";function I$(){let e=(0,IU.Yo)(),t=(0,s.wA)(),a=(0,s.d4)(e=>e.publishedPlugins);l.useEffect(()=>{t(mg.Xt())},[t]);let r=function(){if(!e)return[];let t=(0,dw.Qt)((0,dw.i8)(Object.values(a)),e.id);return Object.keys(t).map(e=>t[e])}();return e&&0!==r.length?l.createElement("div",{className:IW},l.createElement("div",{className:IH},r.map((e,t)=>l.createElement(mC.AB,{isPublic:!1,pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,viewContext:"OrgPluginsView",innerText:(0,k.t)("org_view.plugin_tile"),trackingProperties:{pluginId:e.id,position:t},dropdown:l.createElement(IV.d,{resource:e})})),l.createElement(mC.hT,{numResources:r.length}))):l.createElement("div",{className:Ij},(0,k.tx)("org_view.private_plugins_will_appear_here"))}let IG=e=>{switch(e){case tZ.X.HOME:return(0,k.t)("org_view.overview");case tZ.X.YOUR_TEAMS:return(0,k.t)("org_view.your_teams");case tZ.X.PLUGINS:return(0,k.t)("org_view.plugins");case tZ.X.WIDGETS:return(0,k.t)("org_view.widgets");default:return null}};function IY(e){let t=(0,s.wA)(),a=(0,eX.sZ)(),r=e=>{t(K.$T({view:"org",orgId:a?.id??"",orgViewTab:e}))},n=Object.keys(tZ.X).reduce((t,a)=>{let n=IG(tZ.X[a]);return null!=n&&t.push(l.createElement(v8.r,{tab:tZ.X[a],onClick:r,isSelected:e.selectedTab===tZ.X[a],tabName:n,key:a})),t},[]),i=l.createElement(v8.f,{tabs:n});return l.createElement(ii.g2,{leftSide:i,rightSide:[]})}var Iz=a(888762),IQ=a(180881);function IK(){let e=(0,s.wA)(),t=(0,s.d4)(e=>(0,iy.Jl)(e)),a=(0,s.d4)(e=>e.publishedWidgets);l.useEffect(()=>{e(mg.gI())},[e]);let r=(0,Iz.sb)(),n=l.useMemo(()=>t?Object.values((0,dw.Qt)((0,dw.i8)(Object.values(a)),t.id)).map(e=>({widget:e,version:(0,dw.uF)(e)})):[],[t,a]),i=l.useCallback(({version:e})=>e.name??"",[]),o=l.useCallback(({widget:e},t)=>r(e,t),[r]),c=l.useCallback(t=>{if(1!==t.length)return;let a=t[0].widget;e((0,eY.to)({type:IQ.H,data:{plugin:a},showModalsBeneath:!0}))},[e]);return t&&0!==n.length?(0,p.kc)().file_browser_widgets_items_view?l.createElement(l.Fragment,null,l.createElement(lx.A,{items:n,getAriaLabel:i,viewType:lN.XU.GRID,handleOpenItem:o,handleDeleteKey:c,multiselectDisabled:!0,isDraggable:!1,gridViewProps:{containerClassName:S.cx.p32.$,renderTile:IZ,renderTileFooter:Iq}})):l.createElement("div",{className:IW},l.createElement("div",{className:IH},n.map(({widget:e},t)=>l.createElement(Iz.F9,{key:`widget-${e.id}`,widget:e,viewContext:"OrgWidgetsView",trackingProperties:{widget:e.id,position:t}})),l.createElement(mC.hT,{numResources:n.length}))):l.createElement("div",{className:Ij},(0,k.tx)("org_view.private_widgets_will_appear_here"))}function Iq({widget:e,version:t}){return l.createElement("div",{className:S.cx.flex.flexRow.h48.selectNone.$},l.createElement(Iz.aA,{widget:e,version:t,viewContext:"OrgWidgetsView"}))}function IZ({widget:e,version:t}){return l.createElement(Iz.Ke,{widget:e,version:t,removeBorder:!0})}var IX=a(549999);function IJ(e){let{unassignedTeams:t,isSelected:a,onSelect:r}=e,[n,i]=l.useState(!1),o=(0,s.wA)(),c=()=>{o(q.kg({clickedResourceType:"workspace"})),o(K.$T({view:"workspace",subView:am.V0.DIRECTORY,workspaceId:null,selectedTab:am.dN.TEAMS}))},d=(0,k.tx)("org_view.license_group.unassigned_tile.name"),m=l.createElement(ap.md,{teams:t,size:40,isHovered:n}),u=l.createElement("span",null,"\xa0"),_=(0,k.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});return l.createElement(oe.a,{name:d,headerLeft:m,headerRight:u,footerLeft:_,onClick:e=>{2===e.detail||E.Ay.mobile||E.Ay.tablet?c():1===e.detail&&r()},canView:!0,onMouseOver:()=>{i(!0)},onMouseOut:()=>{i(!1)},isCardActive:n||a,isSelected:a})}var I0=a(193212);let I1="org_page_view--favoriteStarContainer--GKbng button_styles--button--vl9vc",I2="org_page_view--workspaceTileTitleColorForLightBackground---zSTU",I4="org_page_view--workspaceTileTitleColorForDarkBackground--m6sFp",I8="org_page_view--secondaryTextColorOnLightBackground--68byE",I3="org_page_view--secondaryTextColorOnDarkBackground--7Ru-V",I5="org_page_view--favoriteStarContainerForLightBackground--W9qx7 workspace_page_header--favoriteStarContainerForLightBackground--AKL23",I9="org_page_view--favoriteStarContainerForDarkBackground--mVRVn workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt";function I6(e){let t,a,r;let{workspace:n,teamCount:i,isSelected:o,onSelect:c}=e,d=(0,s.d4)(e=>e.currentUserOrgId),[m,u]=l.useState(!1),_=(0,I0.aq)(),p=n.colorConfig?.colors??[],f=e.isMainWorkspace?p[0]:void 0,g=n.description??void 0;f&&(f=iW(n.id,f,_()));let h=(0,s.wA)(),v=()=>{h(q.kg({clickedResourceType:"workspace",resourceIdOrKey:n.id})),h(K.$T({view:"workspace",subView:am.V0.DIRECTORY,workspaceId:n.id,selectedTab:am.dN.TEAMS}))},y=l.useCallback((e,t,a)=>{if(n){let r={workspace:{id:n.id,name:n.name??"",imgUrl:n.imgUrl},entrypoint:"workspace_tile",sectionId:a,favoriteId:t};e?h(t5.ZW(r)):h(t5.if(r))}},[h,n]);f&&((0,iO.kx)(f)?(t=I4,a=I3,r=I9):(t=I2,a=I8,r=I5));let b=l.createElement(ap.z6,{entity:n,size:40}),w=(0,tP.oA)(n.memberCount),T=l.createElement("div",{className:B()(S.cx.flex.flexRow.itemsCenter.$,a)},l.createElement("span",null,(0,k.tx)("org_view.license_group.member_count",{memberCount:w?.data??"0"}),l.createElement("span",null,"\xa0\xb7\xa0"),(0,k.tx)("org_view.license_group.team_count",{teamCount:i}))),I=l.createElement(rk.r,{setFavorite:y,favoriteType:e2.bk.WORKSPACE,resourceId:n.id,size:rk.m.MEDIUM,containerStyle:B()(I1,r),noHoverState:!0,orgId:d,parentBackgroundColor:f}),C=n.orgAccess===e2.bU.SECRET?l.createElement("div",{className:S.cx.ml4.$,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},l.createElement(eD.In,{icon:"lock-16"})):null;return l.createElement(oe.a,{backgroundColor:f,description:g,descriptionClassName:a,name:l.createElement("span",{className:t},n.name),titleSubtitleRight:C,headerLeft:b,footerLeft:T,headerRight:I,onClick:e=>{2===e.detail||E.Ay.mobile||E.Ay.tablet?v():1===e.detail&&c()},canView:!0,onMouseOver:()=>{u(!0)},onMouseOut:()=>{u(!1)},isCardActive:m||o,isSelected:o})}function I7(){let[e,t]=l.useState(null),a=(0,s.wA)(),r=(0,eJ.FC)(),n=(0,s.d4)(e=>e.currentUserOrgId),i=(0,eX.sZ)(),o=(0,ar.Au)(n),{canCreateTeam:c}=(0,ar.LM)(i,null),d=(0,nf.Rs)(nE.bUn,{orgId:n}),m="loaded"!==d.status,u=d.data?.org?.workspaces??[],_=m?[]:[...u],p=(0,ef.md)(i9.w),f="loaded"!==p.status,{workspaceTeamCounts:g,unassignedTeams:E}=l.useMemo(()=>{let e=(p.data||[]).filter(e=>(0,od.dP)(e,r,n));return{workspaceTeamCounts:(0,al.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[r,n,p]);(0,V.KQ)(_,"name");let h=_.find(e=>e.id===o.data),v=_.map(a=>{if(a.id!==h?.id)return l.createElement(I6,{key:a.id,workspace:a,teamCount:g[a.id]??0,isSelected:e?.type==="workspace"&&e.workspaceId===a.id,onSelect:()=>{t({type:"workspace",workspaceId:a.id})}})});if(E.length>0&&v.push(l.createElement(IJ,{key:"unassigned",unassignedTeams:E,isSelected:e?.type==="unassigned-teams",onSelect:()=>{t({type:"unassigned-teams"})}})),m||f)return l.createElement(i6.X,{isLoading:!0});let y=h&&l.createElement(l.Fragment,null,l.createElement("div",{className:S.cx.pl32.$},l.createElement(L.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.your_workspace"))),l.createElement(i6.X,{emptyView:l.createElement(l.Fragment,null),tileSize:i6.o.Medium},l.createElement(I6,{key:h.id,workspace:h,teamCount:g[h.id]??0,isMainWorkspace:!0,isSelected:e?.type==="workspace"&&e.workspaceId===h.id,onSelect:()=>{t({type:"workspace",workspaceId:h.id})}})));return l.createElement(l.Fragment,null,y,h&&l.createElement("div",{className:S.cx.pl32.$},l.createElement(L.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.other_workspaces"))),l.createElement(i6.X,{emptyView:l.createElement(oi.C,{onCreateTeam:c?()=>{a(eY.to({type:tX.Uc,data:{}}))}:void 0}),tileSize:i6.o.Medium},v))}function Ce(e){let{unassignedTeams:t,isSelected:a,isHovered:r}=e,n=(0,k.tx)("org_view.license_group.unassigned_tile.name"),i=l.createElement(ap.md,{teams:t,size:40,isHovered:r}),o=l.createElement("span",null,"\xa0"),s=(0,k.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});return l.createElement(oe.a,{name:n,headerLeft:i,headerRight:o,footerLeft:s,canView:!0,isCardActive:r||a,isSelected:a,isInItemsView:!0})}function Ct(e){let t,a,r;let{workspace:n,teamCount:i,isSelected:o,isHovered:c}=e,d=(0,s.d4)(e=>e.currentUserOrgId),m=(0,I0.aq)(),u=n.colorConfig?.colors??[],_=e.isMainWorkspace?u[0]:void 0;_&&(_=iW(n.id,_,m()));let p=(0,s.wA)(),f=l.useCallback((e,t,a)=>{if(n){let r={workspace:{id:n.id,name:n.name??"",imgUrl:n.imgUrl},entrypoint:"workspace_tile",sectionId:a,favoriteId:t};e?p(t5.ZW(r)):p(t5.if(r))}},[p,n]);_&&((0,iO.kx)(_)?(t=I4,a=I3,r=I9):(t=I2,a=I8,r=I5));let g=l.createElement(ap.z6,{entity:n,size:40}),E=(0,nS.oA)(n.memberCount),h=l.createElement("div",{className:B()(S.cx.flex.flexRow.itemsCenter.$,a)},l.createElement("span",null,(0,k.tx)("org_view.license_group.member_count",{memberCount:E?.data??"0"}),l.createElement("span",null,"\xa0\xb7\xa0"),(0,k.tx)("org_view.license_group.team_count",{teamCount:i}))),v=l.createElement(rk.r,{setFavorite:f,favoriteType:e2.bk.WORKSPACE,resourceId:n.id,size:rk.m.MEDIUM,containerStyle:B()(I1,r),noHoverState:!0,orgId:d,parentBackgroundColor:_}),y=n.orgAccess===e2.bU.SECRET?l.createElement("div",{className:S.cx.ml4.$,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},l.createElement(eD.In,{icon:"lock-16"})):null;return l.createElement(oe.a,{isInItemsView:!0,backgroundColor:_,name:l.createElement("span",{className:t},n.name),titleSubtitleRight:y,headerLeft:g,footerLeft:h,headerRight:v,canView:!0,isCardActive:c||o,isSelected:o})}function Ca(){return(0,p.kc)().file_browser_workspace_items_view?l.createElement(Cr,null):l.createElement(I7,null)}function Cr(){let e=(0,s.wA)(),t=(0,eJ.FC)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,eX.sZ)(),n=(0,ar.Au)(a),{canCreateTeam:i}=(0,ar.LM)(r,null),o=(0,ef.md)(i9.w),{workspaceTeamCounts:c,unassignedTeams:d}=l.useMemo(()=>{let e=(o.data||[]).filter(e=>(0,od.dP)(e,t,a));return{workspaceTeamCounts:(0,al.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[t,a,o]),m=(0,nf.Rs)(nE.bUn,{orgId:a}),{currentWorkspace:u,otherWorkspaces:_}=l.useMemo(()=>{let e=m.transform(e=>{let t=e.org?.workspaces??[];(0,V.KQ)(t,"name");let a=t.find(e=>e.id===n.data),r=t.filter(e=>e.id!==a?.id);return d.length>0&&r.push(iB.O),{currentWorkspace:a,otherWorkspaces:r}});return"loaded"===e.status?e.data:{currentWorkspace:null,otherWorkspaces:[]}},[m,n,d]),p="loaded"!==o.status,f=l.useCallback(()=>{e(eY.to({type:tX.Uc,data:{}}))},[e]);if("loaded"!==m.status||p)return l.createElement(i6.X,{isLoading:!0});let g=u&&l.createElement(l.Fragment,null,l.createElement("div",{className:S.cx.pl32.$},l.createElement(L.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.your_workspace"))),l.createElement(Cn,{items:[u],isMainWorkspace:!0,workspaceTeamCounts:c,unassignedTeams:d,focusOnLoad:!0}));return l.createElement(l.Fragment,null,g,u&&l.createElement("div",{className:S.cx.pl32.$},l.createElement(L.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.other_workspaces"))),0===_.length?l.createElement(oi.C,{onCreateTeam:i?f:void 0}):l.createElement(Cn,{items:_,isMainWorkspace:!1,workspaceTeamCounts:c,unassignedTeams:d,focusOnLoad:!u}))}function Cn({items:e,isMainWorkspace:t,workspaceTeamCounts:a,unassignedTeams:r,focusOnLoad:n}){let i=(0,IX.$)(),o=l.useCallback(e=>e===iB.O?(0,k.t)("org_view.license_group.unassigned_tile.name"):e.name,[]),s=l.useCallback((e,t)=>{i(e===iB.O?null:e.id,t)},[i]),c=l.useMemo(()=>({tileBorderRadius:16,containerClassName:"org_workspaces_view--workspaceGrid--7PxK9",renderTile:(e,{isSelected:n,isHovered:i})=>e===iB.O?l.createElement(Ce,{isSelected:n,isHovered:i,unassignedTeams:r}):l.createElement(Ct,{workspace:e,teamCount:a[e.id]??0,isSelected:n,isHovered:i,isMainWorkspace:t})}),[t,r,a]);return l.createElement("div",{className:S.cx.mt24.mb32.mx32.$},l.createElement(lx.A,{viewType:lN.XU.GRID,isDraggable:!1,items:e,multiselectDisabled:!0,getAriaLabel:o,gridViewProps:c,handleOpenItem:s,doNotFocusOnLoad:!n}))}let Ci=(e,t)=>({canMemberOrg:(0,eL.canMemberOrg)(e.currentUserOrgId,(0,eL.getPermissionsState)(e)),org:e.orgById[t],isEnterpriseOrgDirectoryEnabled:(0,tL.QT)(e),currentOrgUser:e.user&&e.currentUserOrgId?e.orgUsersByOrgId[e.currentUserOrgId][e.user.id]:null});function Co(e){let{canMemberOrg:t,org:a,isEnterpriseOrgDirectoryEnabled:r,currentOrgUser:n}=(0,nJ.R)(t=>Ci(t,e.orgId)),i=(0,s.wA)();l.useEffect(()=>{t&&(i(oc.Jt({includeMemberCount:!0,includeTopMembers:!1,includeProjectCount:!0})),i(IS.Pg({orgId:e.orgId})))},[t,e.orgId,i]);let o=null;switch(e.selectedTab){case tZ.X.WIDGETS:o=l.createElement(IK,null);break;case tZ.X.PLUGINS:o=l.createElement(I$,null);break;case tZ.X.YOUR_TEAMS:o=l.createElement(of,{onlyJoinedTeams:!0,workspaceId:null});break;case tZ.X.HOME:case tZ.X.FONTS:case tZ.X.LIBRARIES:o=r?l.createElement(Ca,null):l.createElement(of,{workspaceId:null})}let c=n&&n.permission===e2._D.GUEST,d=null;d=c?l.createElement(IB,{org:a}):r?l.createElement(ID,{org:a}):l.createElement(IM,{org:a});let m=l.createElement(IY,{selectedTab:e.selectedTab});return l.createElement(oy.r,{banner:l.createElement(Ik,null),viewbar:m,content:o,metaContent:d})}var Cl=a(200482);let Cs=(0,n1.eU)(!1);function Cc(){let e=(0,c.lH)(),t=(0,ef.md)(c.Bb),a=(0,ef.md)(Cs),r=(0,fC.Xr)(Cs);if(!(0,p.kc)().chrome_os_app_install_button||!E.Ay.chromeos||!E.Ay.chrome||e||!t)return null;let n=async()=>{r(!0);let e=await t.prompt();"dismissed"===e.outcome&&r(!1),(0,el.sx)("add_to_chromebook_clicked",{installed:"accepted"===e.outcome})};return l.createElement(oE.K,{action:{kind:oE.A.CUSTOM,key:oR.D.ADD_TO_CHROMEBOOK,element:l.createElement("button",{onClick:n,className:B()(IE.AS,a&&IE.Xn),tabIndex:0},l.createElement(j.B,{className:IE.He,svg:Cl.A}),(0,k.tx)("file_browser.tool_bar.add_to_chromebook"))}})}var Cd=a(58716);function Cm(){return d.eD||!(0,p.kc)().desktop_get_app_navbar?null:l.createElement(oE.K,{action:{kind:oE.A.CUSTOM,key:oR.D.GET_DESKTOP_APP,element:l.createElement("button",{onClick:()=>{m.Ay.redirect(`/download/desktop/${E.Ay.mac?"mac":"win"}`,"_blank")},"data-onboarding-key":"get_desktop_app",className:IE.Fu},l.createElement(j.B,{className:IE.Kk,svg:Cd.A}),(0,k.tx)("banner.desktop_download_button"))}})}function Cu(){let e=(0,s.wA)(),t=(0,e1.Pc)();return l.createElement(oE.K,{action:{kind:oE.A.BUTTON,key:oR.D.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(K.$T({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,k.t)("internal_profile.view_community_profile"),styleClass:S.cx.colorText.$}})}var C_=a(275413);function Cp(){let e=(0,s.wA)(),t=!!(0,tK.f)("dismissed_oct_31_release_notes_promo_banner"),a=(0,p.kc)().marketing_promo_banner&&!t,r=()=>{e(t9.b({dismissed_oct_31_release_notes_promo_banner:!0}))};return a?l.createElement(ez.fu,{name:"Release Notes Promo Banner",properties:{severity:bA.c.EVENT}},l.createElement("div",{className:"banner--wrapper--Nx0aH"},l.createElement(j.B,{svg:C_.A,className:"banner--logo--lVDiq",svgClassName:"banner--svg--moSCa"}),l.createElement("div",{className:"banner--copy_and_ctas--f7Oif"},l.createElement("h2",{className:"banner--title--hrxPG"},(0,k.tx)("banner.marketing_promo.title")),l.createElement(tO.e2,{className:"banner--button_group--xtoOR"},l.createElement(tO.vd,{className:"banner--primary_button--PRn3f",onClick:()=>{(0,lD.FJ)("https://events.figma.com/release-notes-oct-2024/ProdBanner","_blank")}},(0,k.tx)("banner.marketing_promo.primary_cta")),l.createElement(tO.tM,{className:"banner--secondary_button--YcI6L",onClick:()=>r()},(0,k.tx)("general.close")))))):null}var Cf=a(791435);let Cg=new class{constructor(){this.SharerFilterOptionsSchemaValidator=(0,cB.vh)(),this.PlanFilterOptionsSchemaValidator=(0,cB.vh)()}getSharerFilterOptions(e){return this.SharerFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/sharer_filter_options?resource_type[]=${e.resource_type}`))}getPlanFilterOptions(e){return this.PlanFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/plan_filter_options?resource_type[]=${e.resource_type}`))}};function CE(){return{"":{label:(0,k.t)("shared_with_you.filters.all_organizations")}}}let Ch=rl.M4.Query({fetch:async e=>{let t=await Cg.getPlanFilterOptions({resource_type:e}),a={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(a[e.plan_id]=t)}),{...CE(),...a}}});function Cv(e){let t=e.join("&resource_type[]="),[a]=(0,rl.IT)(Ch(t));return a.data||CE()}let Cy={"":"Anyone"};function Cb(e){let[t,a]=(0,l.useState)(Cy),r=e.join("&resource_type[]=");return(0,l.useEffect)(()=>{Cg.getSharerFilterOptions({resource_type:r}).then(({data:e})=>{a(e.meta.shared_by_filters.reduce((e,{user_id:t,label:a})=>({...e,[t]:a}),{...Cy}))})},[r]),t}var Cw=a(307524),CT=a(388120);function CI(e){let t=(0,nf.Rs)(nE.ox,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null}),a=(0,l.useCallback)(()=>{"loaded"===t.status&&t.data.sharedWithYouResources.hasNextPage()&&t.data.sharedWithYouResources.loadNext(30)},[t]),r="loaded"===t.status&&t.data.sharedWithYouResources.isLoadingNextPage;return{subscription:t,fetchNextPage:a,isFetchingNextPage:r}}function CC(e){let t=(0,ea._6)(),a=(0,s.d4)(e=>e.tileSortFilterStateByView),r="recentsAndSharing"===t.view?a.recentsAndSharing.sharedFiles:a.sharedWithYou,n=Cb(["file","file_repo","prototype"]),i=Cv(["file","file_repo","prototype"]),o={tileSortFilterConfig:r,sortKeys:[lN.C0.SHARED_AT]},{subscription:c,fetchNextPage:d,isFetchingNextPage:m}=function(e){let{subscription:t,fetchNextPage:a,isFetchingNextPage:r}=CI({...e,resourceTypes:["file","file_repo","prototype"]}),n=(0,vp.y)();return{subscription:(0,l.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFile){let a=function(e,t){if(!e||!e.file)return null;let{file:a,...r}=e,n=(0,ro.V1)({...a,...r,edit_url:`${window.location.origin}/file/${a.key}/${(0,d7.sy)(a.name||"")}`});return n.preview_thumbnail_urls=(0,tP.oA)(n.preview_thumbnail_urls),(0,ro.V1)({type:ra.nb.FILE,file:n},{filePerms:(0,a2.ru)(a,t)})}(t.sharedWithYouFile,n);a&&e.push(a)}else if(t.sharedWithYouRepo){let a=function(e,t){let{repo:a,...r}=e;if(null===a)return null;let{branches:n,...i}=a,o=n?.filter(e=>null!=e)?.map(e=>ro.V1({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${d7.sy(e.name||"")}`:"",client_meta:e.checkpointClientMeta}))??[],l=(0,ro.V1)({...i,...r});return(0,ro.V1)({type:ra.nb.REPO,repo:l,branches:o,selectedBranchKey:""},{repoPerms:(0,CT.zh)(a,t)})}(t.sharedWithYouRepo,n);a&&e.push(a)}else if(t.sharedWithYouPrototype){let a=function(e){let{prototype:t,...a}=e;if(null==t)return null;let r=(0,ro.V1)({...t,...a});return(0,ro.V1)({type:ra.nb.PROTOTYPE,prototype:r},{prototypePerms:(0,Cw.R)(t)})}(t.sharedWithYouPrototype);a&&e.push(a)}return e},[])),[t,n]),fetchNextPage:a,isFetchingNextPage:r}}({sharedBy:r.filters.sharedBy??"",planId:r.filters.plan?.planId??"",planType:r.filters.plan?.planType??"",fileType:(e=>{switch(e){case lN.t2.DESIGN:return"design";case lN.t2.FIGJAM:return"whiteboard";case lN.t2.PROTOTYPE:return"prototype";case lN.t2.SITES:return"sites";case lN.t2.SLIDES:return"slides";case lN.t2.ANY:return null;default:(0,x.xb)(e)}})(r.filters.fileType)??"",sortOrder:r.sort.dir===lN.ue.ASC?"asc":"desc",sortKey:(0,lN.De)(r.sort.key)??"shared_at"}),u=(0,l.useMemo)(()=>c.data?c.data.map(e=>((e.type===ra.nb.FILE||e.type===ra.nb.REPO)&&(e.renameCallbacks={onStopRename:t=>{e.type===ra.nb.FILE?e.file.name=t??e.file.name:e.type===ra.nb.REPO&&(e.repo.name=t??e.repo.name)}}),e)):[],[c.data]),{trackPerformanceEvent:_}=(0,Cf.S)("swy_files_pagination_performance","livegraph");(0,l.useEffect)(()=>{_("fetch_end")},[_,u.length]),(0,l.useEffect)(()=>{"errors"===c.status&&_("fetch_error",{errors:JSON.stringify(c.errors??{})})},[_,c.status,c.errors]),(0,l.useEffect)(()=>(_("fetch_start"),()=>{_("fetch_cancel")}),[_]);let p=(0,l.useCallback)(()=>{m||(_("fetch_next"),d())},[m,d,_]);return l.createElement(tD.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loaded"===c.status,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(bb.B,{onShouldFetchNextPage:p},l.createElement(yB,{tiles:u,tileActions:{showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0},chunkSize:u.length,sortFilterOptions:o,newFileTile:!1,emptyStateText:m?"":(0,k.t)("shared_with_you.no_items"),sharedWithYouFilters:{sharer:n,plan:i,fileType:!0},hideSorter:!0,currentPlanFilter:r.filters.plan,currentSharedByFilter:r.filters.sharedBy,eligibleForLockedStateRedesign:e.eligibleForLockedStateRedesign})))}function Cx(){return{[lN.cT.ALL]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.all"),[lN.cT.SHARED]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.shared"),[lN.cT.ORG_DELETED_DRAFTS]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")}}function CN(e){let t=(0,ea._6)(),a=(0,tq.ol)(),r=(0,nf.Rs)(nE.kQI,{id:a?.id||""},{enabled:!!a}),n=(0,s.d4)(e=>e.tileSortFilterStateByView),i="recentsAndSharing"===t.view?n.recentsAndSharing.sharedProjects:n.sharedWithYou,o=Cb(["folder"]),c=Cv(["folder"]),d=Cx(),m={tileSortFilterConfig:i,sortKeys:[lN.C0.SHARED_AT]},{subscription:u,fetchNextPage:_,isFetchingNextPage:p}=function(e){let{subscription:t,fetchNextPage:a,isFetchingNextPage:r}=CI({...e,resourceTypes:["folder"]});return{subscription:(0,l.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFolder){let{folder:a,...r}=t.sharedWithYouFolder;if(null==a)return e;let n=a.updatedAt.toString(),i=(0,ro.V1)({...a,...r},{created_at:a.createdAt.toString(),updated_at:n,deleted_at:a.deletedAt?.toString()||null,touched_at:n});e.push(i)}return e},[])),[t]),fetchNextPage:a,isFetchingNextPage:r}}({sharedBy:i.filters.sharedBy??"",planId:i.filters.plan?.planId??"",planType:i.filters.plan?.planType??"",orgDeletedDrafts:"",sortOrder:i.sort.dir===lN.ue.ASC?"asc":"desc",sortKey:(0,lN.De)(i.sort.key)??"shared_at"}),f=(0,l.useMemo)(()=>u.unwrapOr([]),[u]),g=(0,l.useMemo)(()=>f.map(e=>e.id),[f]),{trackPerformanceEvent:E}=(0,Cf.S)("swy_projects_pagination_performance","livegraph");(0,l.useEffect)(()=>{E("fetch_end")},[E,g.length]),(0,l.useEffect)(()=>{"errors"===u.status&&E("fetch_error",{errors:JSON.stringify(u.errors??{})})},[E,u.status,u.errors]),(0,l.useEffect)(()=>(E("fetch_start"),()=>{E("fetch_cancel")}),[E]);let h=(0,l.useCallback)(()=>{p||(E("fetch_next"),_())},[p,_,E]),v="loaded"===r.status&&!!r.data.team&&r.data.team.hasPermission;return l.createElement(tD.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loaded"===u.status,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(bb.B,{onShouldFetchNextPage:h},l.createElement(ba,{viewId:"shared-with-you-projects",teamId:a?a.id:void 0,canEditTeamContents:v,folderList:f,chunkSize:f.length,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!0,sharedWithYouFilters:{sharer:o,plan:c,orgDeletedDrafts:d},sortFilterOptions:m,selectedView:t,emptyStateText:p?"":(0,k.t)("shared_with_you.no_items"),useLGPerms:!0,currentPlanFilter:i.filters.plan,eligibleForLockedStateRedesign:!!a&&e.eligibleForLockedStateRedesign})))}function CS(){let e=(0,s.wA)(),t=(0,tR.vt)(),a=(0,eM.Yz)(),r=(0,s.d4)(({orgById:e})=>e),n=(0,s.d4)(({currentUserOrgId:e})=>e),i=(0,tL.yK)({orgById:r,currentUserOrgId:n}),o=!!(0,s.d4)(e=>e.userFlags).hide_recommended_templates_in_recents,c=(0,s.d4)(e=>e.user?.drafts_folder_id);if(!c)return null;let d=a(t);return l.createElement(Tg,{folderId:c,newFileFrom:vf.f6.FILE_BROWSER_TOPBAR_RECENTS,disableRecommendedTemplates:i||d,recommendedTemplatesIsOpen:!o,toggleRecommendedTemplates:()=>e(t9.b({hide_recommended_templates_in_recents:!o})),showFileCreationShelf:!d})}var Ck=a(552963),CL=a(201188),CA=a(322611),CR=a(565701);let CF=e=>l.createElement("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D"},e),CP=(0,aA.Ju)(function(e){let t=(0,s.wA)(),a=(0,e1.iZ)();return a?l.createElement(CA.u,{tintedModalBackground:!0,headerText:(0,k.t)("interstitial.unsubscribe_success_header")},l.createElement("div",{className:CR.Yg},(0,k.tx)("interstitial.unsubscribe_success_subheader_with_address",{emailName:CF((()=>{switch(e.policyType){case"FileCommentActivity":return(0,k.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,k.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,k.t)("interstitial.feed_weekly_digest");case"WorkspaceActivity":return(0,k.t)("interstitial.workspace_activity");default:(0,x.xb)(e.policyType)}})()),emailAddress:CF(a.email)})),l.createElement(tO.nD,{onClick:()=>{t(eY.Lo())},className:"unsubscribe_confirmation_modal--button--j6qqT"},(0,k.tx)("interstitial.done")),l.createElement("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,eY.to)({type:CL.s,data:{tab:CL.c.NOTIFICATIONS}})),t(eY.aZ())}},(0,k.tx)("interstitial.open_notifications_settings"))):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var CO=a(540193),CD=a(765521),CM=a(383112);function CB({eligibleForLockedStateRedesign:e}){let t=(0,s.d4)(e=>e.currentUserOrgId),a=(0,CO.ql)(t||null),r=(0,CO.O8)(t||null),n=(0,bw.Rp)(),i=l.useMemo(()=>a.transform(e=>e.map(ra.fA)),[a]),o=l.useMemo(()=>r.transform(e=>e.map(ra.Nu)),[r]),c=(0,s.d4)(e=>e.recentRepos),d=(0,s.d4)(e=>e.selectedBranchKeyByRepoId),m=l.useMemo(()=>c.map(e=>(0,ra.uy)(e,d)),[c,d]),u=l.useMemo(()=>Object.values(n).map(ra.gB),[n]),_=l.useMemo(()=>a4.Qw.merge([i,o],m,u),[u,i,o,m]),p=(0,s.d4)(e=>e.tileSortFilterStateByView),f=l.useMemo(()=>({tileSortFilterConfig:p.recentsAndSharing.recents,sortKeys:[lN.C0.NAME,lN.C0.CREATED_AT,lN.C0.ACCESSED_AT]}),[p]);!function(){let e=(0,s.wA)(),t=(0,ab.yN)({phase:"passthrough",component:"useUpgradeRequestModalOnPageLoad",attribute:"currentPlan",legacy:(e,t)=>t?{planType:e2.OL.ORG,id:t.id}:e?{planType:e2.OL.TEAM,id:e.id}:null,migrated:e=>e?.key.parentId?{id:e.key.parentId,planType:e.tier}:null}),a=(0,Tk.QL)("one_click_upgrade_request_type"),r=(0,Tk.QL)("upgrade_modal_type")||"",n=(0,Tk.QL)("entry_point")||"",i=(0,In.px)(a??r),o=(0,nf.Rs)(nE.LmV,{orgId:t?.planType===e2.OL.ORG?t.id:null,teamId:t?.planType===e2.OL.TEAM?t.id:null},{enabled:!!t?.id&&!!i});(0,l.useEffect)(()=>{if(("disabled"===o.status||"loaded"===o.status)&&((0,Tk.EM)("one_click_upgrade_request_type"),(0,Tk.EM)("upgrade_modal_type"),(0,Tk.EM)("entry_point")),!t||"loaded"!==o.status||!i)return;let r=o.data.currentUser.baseOrgUser;if(r&&(0,In.qX)(i,o.data.currentUser.baseOrgUser)){let o=r.licenseGroupMember&&r.licenseGroupMember.licenseGroupId?{license_group_id:r.licenseGroupMember.licenseGroupId}:void 0;e((0,eY.to)({type:Ic.Y,data:{orgId:t.id,orgUser:{id:r.id,permission:r.permission,license_group_member:o,user_id:r.user.id,org_id:t.id},licenseType:i,entryPoint:(0,CM.K)(Ir.PE,n)??(0,CM.K)(Ir.tc,n)??(0,CM.K)(Ir.i$,n)??(i===In.Te.DEV_MODE?Ir.i$.DowngradeEmail:Ir.PE.DEPRECATED_Recents),isOneClickUpgradeRequest:!!a,trackForDowngradeNotificationExperiment:!0}}));return}let l=o.data.currentUser.teamUser;if(l&&a&&function(e,t){switch(e){case In.Te.WHITEBOARD:return t?.whiteboardPaidStatus===e2.Zf.RESTRICTED;case In.Te.DESIGN:return t?.designPaidStatus===e2.Zf.RESTRICTED;default:return!1}}(i,l)){e((0,eY.to)({type:Id.PK,data:{team:{id:t.id},isOneClickUpgradeRequest:!!a,editorType:(0,In.gN)(i),entryPoint:(0,CM.K)(Ir.tc,n)??(0,CM.K)(Ir.Wc,n)??n}}));return}},[e,i,a,n,o,t])}(),(0,CD.V)();let g=l.useMemo(()=>({showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0}),[]),h=E.Ay.mobile||E.Ay.tablet?(0,k.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",v="loaded"===_.status;return l.createElement(tD.A,{loadingElementId:"loading-content-pane",loaded:v,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(yB,{tiles:_.data,tileActions:g,sortFilterOptions:f,newFileTile:!0,emptyStateText:h,hideSorter:!0,eligibleForLockedStateRedesign:e}),l.createElement(vK.cx,null))}var CU=a(601538);let CV="seen_shared_files_onboarding",CH=(0,eh.r1)("seen_account_profile_switcher_onboarding"),CW=(0,eh.r1)(CV);function Cj(){let e=(0,ef.md)(CH),t=(0,ef.md)(CW),a=(0,eE.e)({overlay:ew.fz8,priority:ev.N.SECONDARY_MODAL},[t,e]);return(0,u.h)(()=>{a.show({canShow:(e,t)=>t&&!e})}),l.createElement(ey.rq,{targetKey:CU.Bh,isShowing:a.isShowing,title:(0,k.tx)("rcs.shared_with_you.shared_files_title"),description:(0,k.tx)("rcs.shared_with_you.shared_files_description",{recents:l.createElement("span",{className:S.cx.fontBold.$},(0,k.tx)("rcs.shared_with_you.recents"))}),primaryCta:{type:"button",label:(0,k.tx)("rcs.got_it"),onClick:a.complete,ctaTrackingDescriptor:eg.c.DONE},width:350,onClose:a.complete,trackingContextName:"File Browser Shared Files in Recents Overlay",userFlagOnShow:CV})}let C$=e=>{switch(e){case ot.G.RECENTLY_VIEWED:return(0,k.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case ot.G.SUGGESTED:return(0,k.t)("file_browser.recents_and_sharing_view.suggested_files_tab_name");case ot.G.SHARED_PROJECTS:return(0,k.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case ot.G.SHARED_FILES:return(0,k.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,x.xb)(e)}};function CG(e){let t=e.options.tileSortFilterConfig.filters.sharedBy,a=e.options.tileSortFilterConfig.filters.plan;return l.createElement("div",{className:"recents_and_sharing_viewbar--dropdownCollectionContainer--XE-iM"},l.createElement(l.Fragment,null,e.filters?.sharer&&Object.keys(e.filters?.sharer).length>1&&l.createElement(l.Fragment,null,t&&l.createElement(ii.qD,{userId:t}),l.createElement(ii.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})),e.filters?.plan&&Object.keys(e.filters?.plan).length>1&&l.createElement(l.Fragment,null,a?.planId&&l.createElement(ii.lV,{planOption:e.filters.plan[a.planId]}),l.createElement(ii.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})),e.filters?.fileType&&l.createElement(l.Fragment,null,l.createElement(ii.ye,{config:e.options.tileSortFilterConfig,tab:e.tab}))))}function CY(e){let t=e.selectedTab,a=(0,s.wA)(),r=(0,ea._6)(),n=(0,s.d4)(e=>e.tileSortFilterStateByView),i=bs(),o=t===ot.G.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],c=Cb(o),d=function(){let e=(0,e1.TA)(),t=(0,s.d4)(e=>e.authedUsers),a=(0,s.d4)(e=>e.plans),r=(0,s.d4)(e=>e.orgById),n=(0,s.d4)(n4.P),i=(0,p.kc)().limited_plan_spaces,o=e?t.byId[e]:null;return(i?a.map(e=>{let t="";if(e.plan_type===vg.O.ORG){let a=r[e.plan_id];t=a?.name??t}else{let a=n[e.plan_id];t=a?.name??t}return{label:t,plan_id:e.plan_id,plan_type:e.plan_type===vg.O.ORG?vg.O.ORG:vg.O.TEAM}}):(o?.plans??[]).map(e=>({label:e.name,plan_id:e.plan_id,plan_type:e.is_org?"org":"team"}))).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...CE()})}(),m=Cv(o),u=Cx(),_={sharer:(0,yh._o)(t)?void 0:c,plan:(0,yh._o)(t)?d:m,fileType:t!==ot.G.SHARED_PROJECTS,orgDeletedDrafts:t===ot.G.SHARED_PROJECTS?u:void 0},f=l.useMemo(()=>{let e;switch(t){case ot.G.RECENTLY_VIEWED:case ot.G.SUGGESTED:e=n.recentsAndSharing.recents;break;case ot.G.SHARED_FILES:e=n.recentsAndSharing.sharedFiles;break;case ot.G.SHARED_PROJECTS:e=n.recentsAndSharing.sharedProjects;break;default:(0,x.xb)(t)}return{tileSortFilterConfig:e,sortKeys:ot.o[t]}},[t,n]),g=e=>{e===ot.G.SHARED_FILES?(0,el.sx)("file_browser_shared_files"):e===ot.G.SHARED_PROJECTS&&(0,el.sx)("file_browser_shared_projects"),a(K.$T({view:"recentsAndSharing",tab:e}))},E=e=>{(0,el.sx)("file view toggle",{viewType:e===lN.XU.GRID?"grid":"list"}),Object.keys(ot.G).map(t=>{a(K.JF({selectedView:r,config:{...f.tileSortFilterConfig,viewMode:e},tab:ot.G[t]}))},a(K.uV({viewId:"shared-with-you-projects",viewMode:e})))},h=l.createElement("div",{className:S.cx.flex.alignCenter.$},l.createElement(ii.$c,{initialViewMode:f.tileSortFilterConfig.viewMode,onViewModeChange:E})),v=l.createElement(ii.mc,{options:f,selectedView:r,dispatch:a,tab:t}),y=l.createElement("div",{className:S.cx.flex.$,key:"sortWithViewOptions"},v,h),b=l.createElement(CG,{options:f,filters:_,tab:t,key:"recentsAndSharingTileFilters"}),w=l.createElement(ii.IB,{dropdownKey:"recents-and-sharing-sort-filter-mobile-dropdown",sortFilterOptions:f,filters:_,onViewModeChange:E,tab:t}),T=[...i()?[ot.G.SUGGESTED]:[],ot.G.RECENTLY_VIEWED,ot.G.SHARED_FILES,ot.G.SHARED_PROJECTS].map(t=>{let a=t===ot.G.SHARED_FILES?CU.Bh:"";return l.createElement(v8.r,{tab:t,onClick:g,isSelected:e.selectedTab===t,tabName:C$(t),key:t,dataOnboardingKey:a})});return l.createElement(l.Fragment,null,l.createElement(gD.p,null,l.createElement(Cj,null)),l.createElement(ii.g2,{leftSide:l.createElement(v8.f,{tabs:T}),rightSide:[b,y],rightSideMobile:w}))}function Cz(e){switch(e){case iI.bb.ACCOUNT:return CL.c.ACCOUNT;case iI.bb.COMMUNITY:return CL.c.COMMUNITY;case iI.bb.NOTIFICATIONS:return CL.c.NOTIFICATIONS}}function CQ(e){let t=(0,s.wA)(),a=(0,eM.Yz)(),r=(0,tR.vt)(),n=bJ({checks:{isEligibleForLockedRedesign:a}}),{selectedTab:i,accountModalTab:o,emailPolicyToUnsubscribeFrom:c}=e,d=l.createElement(CY,{selectedTab:i}),m=(0,_.ZC)(o),u=(0,_.ZC)(c);return(0,l.useEffect)(()=>{o&&o!==m?(t((0,eY.to)({type:CL.s,data:{tab:Cz(o)}})),t(K.$T({view:"recentsAndSharing"}))):c&&c!==u&&(Ck.z.updateUserCommunicationPreference({channelType:"email",policyType:c,policySetting:"none"}).then(()=>{t((0,eY.to)({type:CP,data:{policyType:c}}))}).catch(e=>{t((0,eY.to)({type:CL.s,data:{tab:Cz(iI.bb.NOTIFICATIONS)}})),t(a0.F.dequeue({}))}),t(K.$T({view:"recentsAndSharing"})))},[o,m,c,u,t]),l.createElement(oy.r,{banner:n?l.createElement(b3,{folderId:null}):l.createElement(Cp,null),viewbar:d,viewBarSticky:!0,toolbar:l.createElement(CS,null),content:function(e,t){switch(e){case ot.G.SHARED_FILES:return l.createElement(CC,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign});case ot.G.SHARED_PROJECTS:return l.createElement(CN,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign});case ot.G.RECENTLY_VIEWED:case ot.G.SUGGESTED:return l.createElement(CB,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign});default:(0,x.xb)(e)}}(i,{eligibleForLockedStateRedesign:a(r)})})}var CK=a(24171),Cq=a(996773);let CZ=(0,o2.rw)();function CX(e){let t=(0,s.wA)(),a=[l.createElement(CZ,{tab:CK.G.FILES,key:"files",selectedTab:e.selectedTab,onClick:()=>{t(K.$T({view:"sharedWithYou",tab:CK.G.FILES}))},mobileNavTabTitle:(0,k.t)("shared_with_you.toolbar.files")},(0,k.tx)("shared_with_you.toolbar.files")),l.createElement(CZ,{tab:CK.G.PROJECTS,key:"projects",selectedTab:e.selectedTab,onClick:()=>{t(K.$T({view:"sharedWithYou",tab:CK.G.PROJECTS}))},mobileNavTabTitle:(0,k.t)("shared_with_you.toolbar.projects")},(0,k.tx)("shared_with_you.toolbar.projects"))];return l.createElement(Cq.W,{resetTileSelectionOnMouseDown:!0,tabs:a})}function CJ(e){return l.createElement(oy.r,{toolbar:l.createElement(CX,{selectedTab:e.tab}),content:function(e){switch(e){case"files":return l.createElement(CC,null);case"projects":return l.createElement(CN,null)}}(e.tab)})}var C0=a(412721),C1=a(834571),C2=a(501217);function C4(){return l.createElement("div",{className:S.cx.flex.p12.colorBgSelected.bRadius6.$},l.createElement("div",{className:S.cx.mr12.colorIcon.itemSelfCenter.$},l.createElement(j.B,{svg:uy.A})),(0,k.tx)("sidebar.meta.this_team_is_for_education_users_only"),l.createElement(tO.Us,{target:"_blank",trusted:!0,href:"/education/"},(0,k.tx)("org_home_view_meta.learn_more")))}function C8({team:e}){let t=(0,s.wA)(),a=(0,nf.Rs)(nE.kQI,{id:e.id}),r=!!a.data?.team?.hasPermission,[{data:n}]=(0,f.IT)((0,J.Xg)({teamId:e.id})),i=(n||[]).filter(e=>""!==e.name).length,o=(0,h.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&r&&i>=ek.Wf)||o.getConfig().getValue("show_upsell",!1))return null;let c=l.createElement(tO.Us,{onClick:()=>{t((0,eY.to)({type:eu.V,data:{teamId:e.id,upsellSource:e5.b.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:eg.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink"},(0,k.tx)("file_browser.starter_team.upgrade_link"));return l.createElement(ez.fu,{name:"Starter Team Upsell Footer"},l.createElement("div",{className:B()(S.cx.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--pM4nA"),"data-testid":"starterTeamUpsellFooter"},l.createElement("div",{className:B()(S.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper--H-soB")},l.createElement("strong",null,i===ek.Wf?(0,k.tx)("file_browser.starter_team.project_limit_warning",{maxProjects:ek.Wf}):(0,k.tx)("file_browser.starter_team.project_limit_warning_over_max_projects")),l.createElement("p",{className:S.cx.alignCenter.$},(0,k.tx)("file_browser.starter_team.project_limit_info",{upgradeLink:c})))))}var C3=a(874109);let C5="professional_badge_onboarding_key",C9="seen_professional_badge_overlay";function C6({teamId:e}){let t=(0,s.d4)(e=>e.userTeamFlags),a=t[e]?.[C9],r=t[e]?.[TF.UA],n=(0,eM.kO)(),i=(0,eE.e)({overlay:ew.zMZ,priority:ev.N.DEFAULT_MODAL,experiment:{check:n,predicate:e=>e,postCheck:()=>!0}}),o=(0,s.wA)();return((0,l.useEffect)(()=>{r&&!a&&i.show()},[i,r,a]),i.isShowing)?l.createElement(ey.rq,{isShowing:i.isShowing,title:(0,k.tx)("pro_onboarding.see_whats_included"),description:(0,k.tx)("pro_onboarding.review_your_teams_plan_and_all_its_features_by_clicking_on_your_professional_badge"),targetKey:C5,onClose:()=>{o(nk.bE({all_team_flags:[{team_id:e,flags:{[C9]:!0}}]})),i.complete()},trackingContextName:e7.e0.PROFESSIONAL_BADGE_TOOLTIP,trackingProperties:TA.S.getTrackingProperties(e),emphasized:!0,shouldCenterArrow:gB.EL.FALLBACK,clickOutsideToHide:!0}):null}let C7="seen_pro_onboarding_unlimited_projects_overlay",xe=(0,eh.r1)(C7);function xt({teamId:e}){let t=(0,ef.md)(xe),a=(0,ef.md)(TL.e),r=(0,s.d4)(e=>e.userTeamFlags),n=r[e]?.[TF.UA],i=r[e]?.[C9],o=(0,eM.kO)(),{show:c,isShowing:d,complete:m}=(0,eE.e)({overlay:ew._9u,priority:ev.N.DEFAULT_MODAL,experiment:{check:o,predicate:e=>e,postCheck:e=>!e}},[t,a]);return((0,u.h)(()=>{n&&i&&c({canShow:(t,a)=>a.some(t=>t.id===e)})}),d)?l.createElement(gM.M,{isShowing:d,userFlagOnShow:C7},l.createElement(ez.fu,{name:TA.S.getTooltipTrackingContext("Unlimited Projects"),properties:TA.S.getTrackingProperties(e)},l.createElement(TR.jA,{dismissModal:m}))):null}function xa(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,s.d4)(({dropdownShown:e})=>e),n=e.team.org_id??null,i=(0,tA.Q)({currentOrgId:n,currentTeamId:null}),o=(0,s.d4)(e=>e.favorites.collapsedCustomSections),c=(0,aL.S)(),d=l.useMemo(()=>{if("loaded"===i.status)return(0,eq.T0)(i.data,e.team.id)},[i,e.team.id]),m=void 0!==d;if("loaded"!==i.status)return l.createElement("div",{className:S.cx.flex.itemsCenter.colorIcon.$},l.createElement(j.B,{svg:Eq.A}));let u=(0,eq.gV)(i.data,n),_=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,p=a.current&&r?.data?.targetRef===a.current&&r?.type===e_.jU,f=a.current,g=[];return e.showInvite&&g.push(l.createElement(oV.c$,{key:"import",children:(0,k.tx)("file_browser.team.invite"),onClick:e.onInviteClick})),g.push(l.createElement(oV.c$,{key:"share",children:(0,k.tx)("file_browser.team.view_members"),onClick:t=>e.onMembersClick(t)})),c&&g.push(l.createElement(oV.c$,{key:"add-to-favorites-section",children:l.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.w150.$},(0,k.tx)("favorited_resources.add_to_sidebar"),l.createElement(j.B,{svg:T7.A})),onClick:r=>{r.stopPropagation(),a.current&&t(K.j7({type:e_.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.team.id}}))}})),l.createElement("button",{className:S.cx.flex.itemsCenter.colorIcon.$,ref:a,onClick:a=>{e.dropdownKey&&f&&t(K.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},l.createElement(j.B,{svg:Eq.A}),_&&l.createElement(Tj.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&l.createElement(rI.t,{updateFavorite:(a,r)=>{(!u||a)&&(e.setFavorite(a,d?.resource.id,r),a&&r&&(o.delete(r),t(t5.U6({collapsedCustomSections:o})),ae.Fp({type:"topLevel",id:"custom",orgId:n,sectionId:r},!0)))},resourceId:e.team.id,resourceType:e2.bk.TEAM,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(i.data?.currentUser?.userSidebarSections?(0,tP.oA)(i.data.currentUser.userSidebarSections):null)??[],customSectionOrdering:i.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var xr=a(873497),xn=a(761273),xi=a(297536),xo=a(937890),xl=a(5313),xs=a(50292);function xc(e){let{team:t,orgTeamActionType:a}=e;switch(a){case od.gO.CLICK_JOIN:case od.gO.BYPASS_REQUEST:return l.createElement(l.Fragment,null,(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),l.createElement("br",null),(0,k.tx)("file_browser.team.please_join_team"));case od.gO.CLICK_REQUEST:return l.createElement(l.Fragment,null,(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),l.createElement("br",null),(0,k.tx)("file_browser.team.please_request_to_join_team"));case od.gO.CLICK_WITHDRAW:return(0,k.tx)("file_browser.team.request_to_join_team_is_pending",{teamName:t.name});default:return(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name})}}function xd({team:e}){let t=(0,s.d4)(t=>(0,od.YP)(e,t.teamRoleRequests[e.id],(0,eL.getPermissionsState)(t),t.currentUserOrgId)),a=(0,s.d4)(t=>t.teamRoleRequests[e.id]),r=(0,s.wA)(),n=l.createElement("div",{className:"team_page_view--nonMemberViewContainer--uleTt"},l.createElement("div",{className:"team_page_view--header--sTxh6"},l.createElement(ed.nl,{team:e,size:ed.Pf.LARGE}),l.createElement("span",{className:"team_page_view--teamName--9MXYi text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.name)),l.createElement("div",{className:"team_page_view--joinOptionText--McFNQ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement(xc,{team:e,orgTeamActionType:t})),l.createElement("div",{className:"team_page_view--joinButton--waTM-"},l.createElement(i7.m,{team:e,onJoin:(0,oc.GR)(r,e.id),onLeave:()=>{r(eY.to({type:ou.p,data:{teamId:e.id}}))},onJoinRequestOverride:()=>{r(eY.to({type:Is.$,data:{team:e}}))},onBypassRequestOverride:(0,oc.GR)(r,e.id,e6.e6.OWNER),onWithdrawRequestForTeamOverride:()=>{let e=a?.id;e&&r(Ia.lT({requestId:e}))},isCardActive:!1})));return l.createElement(oy.r,{content:n})}function xm({teamId:e,selectedTab:t,upgradeModalType:a,showProOnboardingModal:r}){let n;let i=(0,nJ.R)(t=>{let a=t.teams[e];return a&&{...a,canAdmin:(0,eL.canAdminTeam)(e,t),canEdit:(0,eL.canEditTeam)(e,t),canRead:(0,eL.canViewTeam)(e,t),isCurrentUserInTeam:(0,eL.hasViewerRoleAccessOnTeam)(e,t),canEditTeamContents:(0,eL.hasEditorRoleAccessOnTeam)(e,t)}}),o=(0,s.d4)(e=>e.currentUserOrgId),c=(0,s.d4)(e=>i&&i.org_id&&e.orgById[i.org_id]||null),d=(0,s.d4)(e=>e.avatarEditorState),m=(0,s.d4)(e=>e.loadingState),_=(0,s.d4)(e=>e.teamBilling),E=(0,s.wA)(),h=(0,ea._6)(),[v,y]=l.useState(!1),[{status:b,data:w}]=(0,f.IT)((0,J.Xg)({teamId:i?.id}),{revalidateOnMount:!0});(0,C0.w)(e);let T=(0,s.d4)(e=>e.teamRoleRequests),I=!!(0,s.d4)(e=>i&&(0,eL.canManageOrgTeam)(i.id,e,e.user?.id)),[C,x]=l.useState(),N=(0,ek.w5)(i)&&!i?.org_id,L=(0,nf.Rs)(nE.GyZ,{teamId:e}),A="loaded"===L.status,R=l.useMemo(()=>(0,xi.X)(L),[L]),F=!!(R&&R.canAdmin),P=!!(R&&R.canEdit),O=!!(R&&R.canRead),D=(0,eM.Yz)(),M=(0,tR.vt)(e),B=l.useCallback(()=>{Il.S.getTeamTransfer({teamId:e}).then(({data:e})=>{x(e.meta)},()=>{x(void 0)})},[e]);(0,u.h)(()=>{let e=(0,Tk.QL)("team_role_redemption");if(e&&parseInt(e) in e6.e6){let e=(0,xo.VE)();e&&E(a0.F.enqueue({message:e})),(0,Tk.EM)("team_role_redemption")}}),(0,u.h)(()=>{if(!(0,p.kc)().auto_accept_team_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,Tk.QL)("auto_role");t&&null!==i&&t in e&&((i?.canRead||"100"!==t)&&(i?.canEdit||"300"!==t)&&(i?.canAdmin||"900"!==t&&"999"!==t)&&E(a0.F.enqueue({message:(0,k.t)("join_team_flash.auto_accept_team_invite_modal",{teamName:i?.name||"",inviteType:e[t]})})),(0,Tk.EM)("auto_role"))}),l.useEffect(()=>{B()},[C?.id,B]),l.useEffect(()=>{let e=xn.um.loadingKeyForPayload();(0,gc.VP)(m,e)||(0,gc.D2)(m,e)||E(xn.um())},[E,m]),l.useEffect(()=>{o&&E((0,eZ.Rw)())},[E,o]),l.useEffect(()=>{if(i)y(!1);else{let t=oc.HD.loadingKeyForPayload({teamId:e}),a=`TEAM_GET_ACTION_${e}`;o&&!m[t]?E(oc.HD({teamId:e,disableFlashError:!0})):(0,gc.VP)(m,t)||(0,gc.VP)(m,a)||y(!0)}},[E,m,i,e,o]),l.useEffect(()=>{if(i&&!i.org_id){if(t===eA.A$.BILLING){let e=b1.Be.loadingKeyForPayload({teamId:i.id}),t=b1.NP.loadingKeyForPayload({teamId:i.id}),a=!(0,gc.D2)(m,e)&&!(0,gc.VP)(m,e),r=!(0,gc.D2)(m,t)&&!(0,gc.VP)(m,t);(a||r)&&E(b1.Q({teamId:i.id}))}else if(t===eA.A$.MEMBERS){let e=TS.m$.loadingKeyForPayload({teamId:i.id});(0,gc.VP)(m,e)||(0,gc.D2)(m,e)||E(TS.m$({teamId:i.id}))}else if(t===eA.A$.SETTINGS){let e=b1.Be.loadingKeyForPayload({teamId:i.id});F&&N&&!(0,gc.VP)(m,e)&&!(0,gc.D2)(m,e)&&E(b1.Q({teamId:i.id}))}}},[E,t,m,i,c,N,F]);let V=(0,e1.Pc)(),H=(0,nf.Rs)(nE.Cit,{teamId:e}),W=H.data?.team?.currentTeamUser;l.useEffect(()=>{let e;if(!(i&&V&&W&&a)||!N)return;let r=a===e2.G_.DEV_MODE,n=a===e2.G_.WHITEBOARD?e2._Y.WHITEBOARD:e2._Y.DESIGN;if(n===e2._Y.DESIGN?e=W.designAccountTypeRequest?.status==="pending":n===e2._Y.WHITEBOARD&&(e=W.whiteboardAccountTypeRequest?.status==="pending"),!0===e&&E($.s.flash((0,k.t)("team_view.request_upgrade.request_already_sent"))),!1===e&&(0,tL.dk)(!!(0,e4.XG)(W,n)||r&&!(0,e4.HA)(W,n),e,i,V)){let e=(0,Tk.QL)("entry_point")||(r?Ir.i$.DowngradeEmail:Ir.tc.DOWNGRADE_EMAIL);E(eY.to({type:Id.PK,data:{editorType:n,team:i,entryPoint:e}}))}E(K.$T({view:"team",teamId:i.id,teamViewTab:t}))},[E,i,V,W,a,N,t]),(0,u.h)(()=>{r&&E(eY.to({type:xs.C,data:{teamId:e}}))});let j=l.useCallback((e,t,a)=>{if(i){let r={team:i,entrypoint:"team_page_view",sectionId:a,favoriteId:t};e?E(t5.DN(r)):E(t5.ox(r))}},[E,i]),G=l.useCallback(()=>{td.Ay.del(`/api/asset_transfer/${C?.id}`).then(()=>{x(void 0),E(a0.F.enqueue({message:(0,k.t)("asset_transfers.revoke.transfer_revoked")}))},()=>{E(a0.F.enqueue({message:(0,k.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[C?.id,E]),Y=l.useRef(!1);l.useEffect(()=>{!Y.current&&(0,p.kc)().pro_team_project_transfers&&"team"===h.view&&h.assetTransferRequestId&&E(eY.to({type:(0,C1.S)(),data:{selectedAssetTransferRequest:h.assetTransferRequestId}})),Y.current=!0});let z=l.useMemo(()=>{if(i)return{team:i,pending:C,onRevokeTransfer:G,updatePending:B,billing:_}},[B,G,C,i,_]),Q={view:"team",teamId:e,teamViewTab:eA.A$.HOME},q=(0,U.n)(xr.am.MEMBERS,z,!!i?.canAdmin,Q),Z=(0,U.n)(xr.am.SETTINGS,z,!!i?.canAdmin,Q);l.useEffect(()=>{t===eA.A$.MEMBERS?q():t===eA.A$.SETTINGS&&Z()},[]);let X=l.useCallback(e=>{let t={view:"team",teamId:i?i.id:"",teamViewTab:e};E(K.$T(t))},[E,i]),ee=l.useMemo(()=>{if(i&&O)switch(i.org_access){case e2.bU.PRIVATE:return(0,k.t)("file_browser.team_header.closed_team_header");case e2.bU.SECRET:return(0,k.t)("file_browser.team_header.secret_team_header")}},[i,O]),et=l.useMemo(()=>{if(i&&O){if(i.org_access===e2.bU.PRIVATE)return(0,k.t)("file_browser.team_header.closed_team_subtitle");if(i.org_access===e2.bU.SECRET)return(0,k.t)("file_browser.team_header.secret_team_subtitle")}},[i,O]),er=(0,eG.N)();if(!A)return l.createElement(tM.qc,null);if(v||!O&&!o)return l.createElement(oD.S,{resourceType:iI.Ft.TEAM});if(!i)return null;if(!O)return l.createElement(xd,{team:i});let en=()=>{E((0,J.SX)({where:rs.Ah.FolderListView,team:i}))},ei=()=>{E(K.oB()),Z(),X(eA.A$.SETTINGS)},eo=()=>{E(K.oB()),E(K.$T({view:"teamAdminConsole",teamId:i.id,isProTeam:i.pro_team,teamAdminConsoleViewTab:i.pro_team?eA.Iv.DASHBOARD:eA.Iv.MEMBERS})),(0,el.sx)("Admin Console Opened",{trackingContext:e7.e0.FILE_BROWSER,entryPoint:"team_page_view"})},es="loaded"===b;n=i.org_id?es?l.createElement(l.Fragment,null,l.createElement(ba,{viewId:`team-${e}`,teamId:e,eligibleForLockedStateRedesign:D(M),folderList:w||[],showTeamNameOrAuthor:!1,onCreateNewFolder:P?en:void 0,canEditTeamContents:P,selectedView:h}),l.createElement(vK.cx,null)):l.createElement(tM.qc,null):l.createElement(l.Fragment,null,es?l.createElement(l.Fragment,null,l.createElement(Tp.J,{teamId:i.id}),l.createElement(ba,{viewId:`team-${e}`,teamId:e,eligibleForLockedStateRedesign:D(M),folderList:w||[],showTeamNameOrAuthor:!1,onCreateNewFolder:i.isCurrentUserInTeam?en:void 0,canEditTeamContents:P,selectedView:h}),l.createElement(vK.cx,null)):l.createElement(tM.qc,null));let em=i.canAdmin?l.createElement(te.FL,{entity:i,entityType:e9.ck.TEAM,avatarEditorState:d,size:40,dispatch:E,avatarSvg:rC.A,svgSizeRatio:.6}):l.createElement(ed.nl,{team:i,size:40,avatarSvg:rC.A,svgSizeRatio:.6}),eu=!O&&!I,e_=(()=>{if(eu)return;let e=er({team:i,onChangeTeamIconClick:()=>{E((0,eK.o)({team:i}))},onRenameClick:()=>{E(eY.to({type:(0,C2.h)(),data:{team:i}}))},teamRoleRequests:T}),t=[],a=(0,p.kc)().view_members_action_in_starter_pro_teams;return z&&(P&&(!c&&a&&t.push({displayText:(0,k.t)("teams_table.view_team_members"),callback:q}),t.push({displayText:(0,k.t)("team_view.settings.view_settings"),callback:ei})),c&&t.push({displayText:(0,k.t)("teams_table.view_team_members"),callback:q})),N&&i.canAdmin&&!a&&t.push({displayText:(0,k.t)("team_view.settings.view_admin_console"),callback:eo}),t.length>0&&t.push({displayText:"",separator:!0}),t.push(...e),t})(),ep=e_?{kind:oR.A.CUSTOM,key:oR.D.DROPDOWN,element:l.createElement(oU,{buttonAriaLabel:(0,k.t)("team_view.page_header_dropdown_label"),dropdownKey:`team-${i.id}`,dropdownOptions:e_})}:void 0,ef=i.pro_team&&(0,p.kc)().pro_onboarding_launch,eg=i.student_team?l.createElement(C4,null):(0,ek.w5)(i)?void 0:l.createElement(C8,{team:i});return l.createElement(oy.r,{content:l.createElement(l.Fragment,null,n,eg),banner:l.createElement(TM,{teamId:e,selectedTab:t}),header:l.createElement(ov,{avatar:em,title:i.name,rightSideActions:function(e,t,a,r,n,i,o,s){let c=[],d=!!Object.keys(i).includes(e.id)&&i[e.id]?.status===Ii.c.PENDING,m=e.canAdmin&&!e.isCurrentUserInTeam,u={kind:oE.A.CUSTOM,key:oR.D.FAVORITE,element:l.createElement(rk.r,{setFavorite:r,favoriteType:e2.bk.TEAM,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:e.org_id,containerStyle:o6.HM})};m&&c.push({kind:oE.A.BUTTON,key:oR.D.JOIN_TEAM,displayText:(0,k.t)("file_browser.team.join_team"),onClick:(0,oc.GR)(t,e.id,e6.e6.ADMIN)});let _=s?eR.Ib.TEXT:void 0,p=s?(0,k.t)("locked_team.label.tooltip"):void 0;n&&!(0,e4.R$)(a,e.org_id)?c.push({kind:oE.A.CUSTOM,key:oR.D.NEW_PROJECT,element:l.createElement("div",{"data-tooltip":p,"data-tooltip-type":_},l.createElement(oA,{"data-onboarding-key":"team-view-new-project-cta",dataTestId:"team-view-new-project-cta",variant:s?"secondary":"inverse",disabled:s,onClick:()=>{t((0,J.SX)({team:{...e,canEdit:n,canAdmin:e.canAdmin,canEditTeamContents:n},where:rs.Ah.FolderListView}))},text:(0,k.t)("file_browser.team.add_project")}),l.createElement(xt,{teamId:e.id})),showOnMobile:!0}):!e.org_id||e.org_access===e2.bU.SECRET||m||e.canAdmin||c.push({kind:oE.A.BUTTON,key:oR.D.REQUEST_TO_EDIT,displayText:d?(0,k.t)("file_browser.team.cancel_request"):(0,k.t)("file_browser.team.request_to_edit"),onClick:()=>{d?t(Ia.lT({requestId:i[e.id]?.id})):t(eY.to({type:Is.$,data:{team:e,requesterCurrentLevel:e6.e6.VIEWER}}))}});let f=s?g.lQ:()=>{t(eY.to({type:(0,C3.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))};c.push({kind:oE.A.BUTTON,key:oR.D.INVITE,displayText:(0,k.t)("file_browser.team.share"),onClick:f,styleClass:s?IE.EB:void 0,"data-tooltip":p,"data-tooltip-type":_}),e.org_id&&c.push(u);let E=l.createElement(xa,{dropdownKey:"team-overflow-dropdown",team:e,showInvite:!0,onInviteClick:()=>{t(eY.to({type:(0,C3.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))},onMembersClick:o,setFavorite:r});return c.push({kind:oE.A.CUSTOM_BUTTON,key:oR.D.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:E}),c}(i,E,V,j,P,T,e=>{e.stopPropagation(),E(K.oB()),q(),X(eA.A$.MEMBERS)},D(M)),rightSideOfTitleAction:ep,pageHeaderIcon:void 0,badge:l.createElement(nH.Y,{direction:"horizontal"},ee?l.createElement("div",{className:S.cx.ml4.mr4.$,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":ee,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":et},l.createElement(eD.In,{icon:"lock-16"})):void 0,ef?l.createElement(l.Fragment,null,l.createElement(ez.fu,{name:ec._Y.PROFESSIONAL,properties:TA.S.getTrackingProperties(e)},l.createElement(ez.$z,{type:"button",onClick:()=>{E(eY.to({type:xl.q,data:{teamId:i.id}}))},"data-onboarding-key":C5,className:"team_page_view--pointerOnHover--at7fp"},l.createElement(ec.Ex,{color:ec.zE.INFORMATIONAL,text:(0,k.t)("pro_onboarding.professional"),size:ec.vj.EXTRA_LARGE}))),l.createElement(C6,{teamId:e})):void 0)})})}var xu=a(733556),x_=a(941381);let xp={ctrlKey:"metaKey"};function xf(e,t={}){let a=(0,s.wA)(),r=(0,s.Pj)(),n=l.useMemo(()=>({metaKey:e=>{let t=(0,yh.xS)(r.getState(),e);a(q.V3({url:t}))},...t}),[t,a,r]);return l.useCallback((t,r)=>{let i=e(r),o=Object.keys(n).find(e=>t[e]);if(o){let e=n[E.Ay.mac?o:xp[o]||o];if(e){t.preventDefault(),e(i);return}}a(K.$T(i))},[n,a,e])}var xg=a(692630),xE=a(314866),xh=a(196495),xv=a(548310),xy=a(654696);let xb="org_user_meta_content--teamsHeader--1p4jT org_user_meta_content--sectionHeader--snmkw text--fontPos13--xW8hS text--_fontBase--QdLsd";function xw(e){let t=(0,s.wA)(),a=(0,e1.iZ)(),r=(0,xv.w)(e.user),n=(0,s.d4)(t=>t.currentUserOrgId===e.orgId),i=()=>{t((0,eY.to)({type:xy.u}))};return l.createElement("div",{className:S.cx.flex.flexColumn.ml16.hFull.$},l.createElement(gi.x,{isLoading:e.isLoading},()=>l.createElement(l.Fragment,null,l.createElement("div",{className:"org_user_meta_content--userData--NrFpt"},l.createElement(ed.H8,{user:e.user,size:ed.Pf.LARGE}),l.createElement("div",{className:"org_user_meta_content--userName--JeBfv text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.title),e.user.profile?.job_title&&l.createElement("div",{className:"org_user_meta_content--jobTitle--bWmsS text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(ec.Ex,{color:ec.zE.INVERT,text:(0,xE.lb)(e.user.profile?.job_title)}),e.userId===a?.id&&l.createElement("span",{className:"org_user_meta_content--blueLink--u44PB blue_link--blueLink--9rlnd",role:"button",tabIndex:0,onClick:i},(0,k.tx)("internal_profile.change_job_title"))),e.user.email&&l.createElement("div",{className:"org_user_meta_content--email--tgx7t text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.user.email),l.createElement(gv,{value:e.description??"",placeholder:(0,k.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:gh,readOnly:e.isReadOnly,className:"org_user_meta_content--description--gYuxd text--fontPos13--xW8hS text--_fontBase--QdLsd"})),r&&e.user?.id===a?.id&&l.createElement(xN,{user:e.user}),n&&l.createElement(tB.P,{className:S.cx.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:S.cx.p16.borderBox.flex.flexColumn.$},l.createElement("div",{className:xb},(0,k.tx)("internal_profile.teams")),l.createElement(xS,{userId:e.userId,orgId:e.orgId}),l.createElement("div",{className:xb},(0,k.tx)("internal_profile.recent_projects")),l.createElement(xC,{files:e.recents,isYourProfile:!e.isReadOnly})))))}function xT(e){let t=(0,e1.iZ)(),a=(0,s.wA)();return l.createElement(xw,{submitDescription:t=>{a(xh.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function xI(e){let t=(0,s.wA)(),a=(0,e1.iZ)();return l.createElement(xw,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!a||a.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,k.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:a=>{e.orgId&&e.orgUser&&t(IS.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:a},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function xC(e){let t=(0,eJ.FC)(),a=xf(e=>({view:"folder",folderId:e})),r=l.useMemo(()=>{if(e.files.status!==lo.r.SUCCESS)return[];let a=[],r=[];if(!e.files)return a;let n=new Set;for(let i of e.files.value){if(n.has(i.folder_id)||(n.add(i.folder_id),""===i.folder_name||null==i.folder_name))continue;let e={id:i.folder_id,name:i.folder_name,teamName:i.team_name,hasAccess:(0,eL.canViewFolder_DEPRECATED)(i.folder_id,t)};if(e.hasAccess?a.push(e):r.push(e),a.length+r.length>=5)break}return a.concat(r)},[e.files,t]);return l.createElement(gi.x,{state:e.files},()=>l.createElement("div",null,0===r.length&&l.createElement("div",{className:"org_user_meta_content--projectEmptyState--zusT6 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isYourProfile?(0,k.t)("internal_profile.your_recent_projects_will_appear_here"):(0,k.t)("internal_profile.their_recent_projects_will_appear_here")),r.map(e=>l.createElement("div",{key:e.id,onClick:e.hasAccess?t=>a(t,e.id):void 0,className:e.hasAccess?"org_user_meta_content--project--t-Nos org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--a1lrh org_user_meta_content--dim--aNVfK org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},l.createElement("span",{"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":e.hasAccess?void 0:(0,k.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName})},e.name)))))}function xx(e){return l.createElement("div",{className:"org_user_meta_content--userProfileNotification--qHv4P"},l.createElement("div",{className:"org_user_meta_content--userProfileNotificationTitle--lDm8h text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.title),l.createElement("div",{className:"org_user_meta_content--userProfileNotificationText--H2ZHJ text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.text),l.createElement("div",{className:"org_user_meta_content--userProfileNotificationAction--NQLlj"},e.action))}function xN(e){let{profile:t}=e.user,a=(0,s.wA)(),[r,n]=l.useState(!1),i=r=>{n(!0),setTimeout(()=>{a(xh.yJ({user:{id:e.user.id,job_title:r,profile:{...t,job_title:r}},userInitiated:!0}))},600),(0,tN.Cu)({trackingContext:e7.e0.FILE_BROWSER,context:"job_title",text:"Set Job Title",jobTitle:r})};return l.createElement(l.Fragment,null,t?.images?null:l.createElement(xx,{title:(0,k.t)("internal_profile.profile_image_nudge.title"),text:(0,k.t)("internal_profile.profile_image_nudge.text"),action:l.createElement(tO.N_,{trusted:!0,className:"org_user_meta_content--userProfileNotificationActionLink--sVVav",onClick:()=>{a((0,eK.X)({entity:e.user,entityType:e9.ck.CURRENT_USER,shape:"CIRCLE"})),(0,tN.Cu)({trackingContext:e7.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})}},(0,k.tx)("internal_profile.profile_image_nudge.action"))}),t?.job_title?null:l.createElement(xx,{title:(0,k.t)("internal_profile.job_title_nudge.title"),text:(0,k.t)("internal_profile.job_title_nudge.text"),action:r?l.createElement(tM.kt,null):l.createElement(l.Fragment,null,xE.s_.map(e=>l.createElement(ec.Ex,{key:e,color:ec.zE.INVERT,subtle:!0,text:(0,xE.lb)(e),className:"org_user_meta_content--userProfileNotificationBadge--UDTOo",onClick:()=>i(e)})))}))}let xS=(0,s.Ng)((e,t)=>({permissionState:e}))(function(e){let[t,a]=l.useState(null);l.useEffect(()=>{wi.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{a(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let r=xf(e=>({view:"team",teamId:e.id})),n=(t||[]).sort((t,a)=>{let r=(0,eL.canViewTeam)(t.id,e.permissionState),n=(0,eL.canViewTeam)(a.id,e.permissionState);return r&&!n?-1:!r&&n?1:0});return l.createElement(gi.x,{isLoading:!t},()=>l.createElement("div",{className:S.cx.flex.flexColumn.gap8.$},n.map(t=>{let a=(0,eL.canViewTeam)(t.id,e.permissionState);return l.createElement(ap.rE,{key:t.id,entity:t,size:12,hideFallbackInitial:!0,onClick:a?r:void 0,className:`org_user_meta_content--teamListItem--gXcF- text--fontPos13--xW8hS text--_fontBase--QdLsd ${a?"":"org_user_meta_content--dim--aNVfK"}`,"data-tooltip-type":eR.Ib.TEXT,"data-tooltip":a?void 0:(0,k.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4})}),t&&0===t.length&&(0,k.tx)("internal_profile.no_teams_in_common")))});function xk(e){let t=(0,dw.i8)(e.publishedPlugins),a=(0,dw.LH)((0,dw.ky)(t,e.userId),e.org),r=Object.keys(a).map(e=>a[e]),n=(0,V.LN)(r);return 0===n.length?null:l.createElement(l.Fragment,null,l.createElement("div",{className:"user_org_resources--sectionHeader--MUg1j internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.settings.plugins_published",{orgName:e.org.name})),l.createElement("div",{className:"user_org_resources--container---l25- profile_resources_grid--_resourcesGridTemplateColumns--19JO6"},n.map(e=>l.createElement(mC.cS,{pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,isPublic:!!e.roles.is_public,viewContext:"UserOrgResources"})),l.createElement(mC.hT,{numResources:n.length})))}var xL=a(204545);function xA(e){let{org:t}=e,a=(0,s.d4)(a=>(t&&t.id&&a.orgUsersByOrgId[t.id]||{})[e.user.id]);return t?l.createElement(xI,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:a}):l.createElement(xT,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let xR=e=>{let t=e.user.id,a=(0,s.wA)(),r=(0,s.d4)(e=>e.selectedView),n=e.orgUser&&e.orgUser.org_id,i=(0,s.d4)(e=>e.currentUserOrgId),o=void 0===n?i:n,c=(0,s.d4)(e=>o&&e.orgById[o]||null),d=(0,p.kc)().xr_debounce_threshold&&c,m="user"===r.view?r.userViewTab:void 0;l.useEffect(()=>{a((0,eY.ES)({type:xg.E}))},[a,m]);let u=(0,s.d4)(e=>e.userFlags);l.useEffect(()=>{u.seen_profile||a(t9.b({seen_profile:!0}))},[a,u.seen_profile]);let _=(0,s.d4)(e=>e.tileSortFilterStateByView.user),f=l.useMemo(()=>({srcTileSortFilterConfig:{filters:{creator:lN.rJ.ANY,fileType:lN.t2.ANY},sort:{key:lN.C0.ACCESSED_AT,dir:lN.ue.DESC}},tileSortFilterConfig:_,sortKeys:[lN.C0.NAME,lN.C0.CREATED_AT,lN.C0.ACCESSED_AT]}),[_]),g=l.useMemo(()=>{let e=new URLSearchParams;return o&&e.append("org_id",o),`/api/user/${t}/recents${""===e.toString()?"":"?"}${e.toString()}`},[t,o]),[E,h]=l.useState([]),[v,y]=l.useState(!0),[b,w]=l.useState(null),[T,I]=l.useState(0),C=l.useCallback(e=>{w(e),a(a0.F.enqueue({message:(0,k.t)("internal_profile.an_error_occurred"),error:!0}))},[a]),{fetchNext:N,hasMore:S}=(0,EX.WQ)(g,C,55),L=l.useCallback(async()=>{if(!S)return;let e=async()=>{try{let e=await N();if(!Array.isArray(e))return;h(t=>[...t,...e])}catch(e){C(e)}};await e()},[N,C,S]);l.useEffect(()=>{(async()=>{E.length<55&&T<3&&(await L(),I(e=>e+1),y(!1))})()},[T]);let A=l.useMemo(()=>E.filter(e=>{switch(_.filters.fileType){case lN.t2.ANY:return!0;case lN.t2.DESIGN:return"design"===e.editor_type;case lN.t2.FIGJAM:return"whiteboard"===e.editor_type;case lN.t2.PROTOTYPE:return!1;case lN.t2.SITES:return"sites"===e.editor_type;case lN.t2.SLIDES:return"slides"===e.editor_type;default:(0,x.xb)(_.filters.fileType)}}),[E,_]),R=l.useMemo(()=>b?{status:lo.r.FAILURE,error:b}:v?{status:lo.r.LOADING}:{status:lo.r.SUCCESS,value:A},[v,b,A]),F=(0,xu.J)(()=>c&&c.community_profile_id?a(x_.pZ({profileId:c.community_profile_id})):Promise.resolve([]),[a,c]),P=e=>{a(K.$T({view:"user",userId:t,userViewTab:e}))},O=m===o1.o.INTERNAL_PROFILE?[l.createElement("div",{key:"sort-filter",className:"internal_user_profile_page_view--hideFilterRightPadding--fd-Z-"},l.createElement(ii.$4,{options:f,hideSortMenu:!0,selectedView:r,dispatch:a}))]:[],D=l.createElement(ii.g2,{leftSide:d?l.createElement(v8.f,{tabs:[l.createElement(v8.r,{key:o1.o.INTERNAL_PROFILE,tab:o1.o.INTERNAL_PROFILE,isSelected:m===o1.o.INTERNAL_PROFILE,onClick:()=>P(o1.o.INTERNAL_PROFILE),tabName:(0,k.t)("internal_profile.file_contributions")}),l.createElement(v8.r,{key:o1.o.INTERNAL_PROFILE_POSTS,tab:o1.o.INTERNAL_PROFILE_POSTS,isSelected:m===o1.o.INTERNAL_PROFILE_POSTS,onClick:()=>P(o1.o.INTERNAL_PROFILE_POSTS),tabName:(0,k.t)("internal_profile.posts")})]}):O,rightSide:d?O:[]});return(0,ez.T8)(l.createElement(oy.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--FQu11",containerClass:"internal_user_profile_page_view--pageContainerInner--2Ep2e",content:l.createElement("div",{className:"internal_user_profile_page_view--content--X0lTp"},l.createElement("div",{className:"internal_user_profile_page_view--viewbar--eprew"},D),m===o1.o.INTERNAL_PROFILE&&(F.status===lo.r.SUCCESS&&R.status===lo.r.SUCCESS?l.createElement(l.Fragment,null,c&&l.createElement(xk,{userId:t,org:c,publishedPlugins:F.value}),!d&&l.createElement("div",{className:"internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("internal_profile.file_contributions")),l.createElement(xP,{files:R,fetchNext:L})):l.createElement(tM.qc,null)),m===o1.o.INTERNAL_PROFILE_POSTS&&c&&l.createElement(v$,{currentOrgId:c.id,selectedUser:e.user})),metaContent:l.createElement(xA,{user:e.user,recents:R,org:c,orgUser:e.orgUser})}),e7.e0.USER_DETAILS,{view:"org_user",userId:t})};function xF(e){return l.createElement(xR,{key:e.user.id,user:e.user,orgUser:e.orgUser})}let xP=(0,s.Ng)((e,t)=>({permissionState:e}))(function(e){let{fetchNext:t}=e,a=xf(e=>({view:"fullscreen",fileKey:e.key,editorType:(0,EH.wN)(e.editorType||"design")})),r=l.useCallback((e,a)=>{e+a.trackHeight>=a.scrollHeight&&t()},[t]),n=l.useMemo(()=>e.files.status===lo.r.SUCCESS?e.files.value.map(e=>({key:e.key})):[],[e.files]),i=(0,nf.p)(nE.sMs,n),o=l.useMemo(()=>{let e={};return i.forEach(t=>{"loaded"===t.result.status&&(e[t.args.key]=!!t.result.data.file?.hasPermission)}),e},[i]);return l.createElement(gi.x,{className:"internal_user_profile_page_view--loading--R8iYF",state:e.files},t=>l.createElement(l.Fragment,null,l.createElement("div",{className:"internal_user_profile_page_view--fileListHeader--HBbTz internal_user_profile_page_view--grid--wdUAM text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("div",null,(0,k.tx)("internal_profile.file_name")),l.createElement("div",null),l.createElement("div",{className:"internal_user_profile_page_view--projectHeader--1xRXi"},(0,k.tx)("internal_profile.project")),l.createElement("div",{className:"internal_user_profile_page_view--activityHeader--4Qatb"},(0,k.tx)("internal_profile.last_activity"))),l.createElement(tB.P,{onScroll:r,className:"internal_user_profile_page_view--scrollContainer--yPmA8",innerClassName:"internal_user_profile_page_view--scrollContainerInner--jae6x"},t.map(t=>{let r=o[t.key]?r=>{e.dispatch(q.UN({fileKey:t.key,entrypoint:"internal user profile page view"})),a(r,{key:t.key,editorType:t.editor_type})}:void 0;return l.createElement("a",{onClick:r,href:(0,rn.rl)(t),key:t.key,className:"internal_user_profile_page_view--recentFile--zdHK5 internal_user_profile_page_view--grid--wdUAM text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(rS.NU,{size:rH.y.SMALL,file:{touched_at:null,updated_at:null,...t},noBorder:!0}),l.createElement("div",{className:"internal_user_profile_page_view--filename--pUgkH ellipsis--ellipsis--Tjyfa"},null!==t.source_file_name&&l.createElement(l.Fragment,null,t.source_file_name,l.createElement(j.B,{svg:xL.A,className:"internal_user_profile_page_view--branchIcon--CcWO2"})),t.name),l.createElement("div",{className:"internal_user_profile_page_view--projectName--50iEN ellipsis--ellipsis--Tjyfa"},t.folder_name),l.createElement("div",{className:"internal_user_profile_page_view--activity--CsNi8"},l.createElement(lU.h1,{date:new Date(1e3*t.timestamp)})))}))))}),xO=(e,t,a)=>a?Promise.resolve([]):wi.k.getTeams({userId:t}).then(e=>e.data.meta).catch(e=>{throw e}),xD=(e,t,a)=>e&&e.id===a?Promise.resolve(e):wi.k.getUser({userId:a}).then(e=>e.data.meta).catch(e=>{throw t($.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e}),xM=(e,t,a)=>a?e(IS.I1({orgId:a,userId:t})):Promise.resolve(null),xB={[o1.o.INTERNAL_PROFILE]:{Component:xF},[o1.o.INTERNAL_PROFILE_POSTS]:{Component:xF},[o1.o.PLUGINS]:{Component:l.Fragment}};function xU(e){return l.createElement(e.component,{...e.context})}function xV(e){let t=(0,s.wA)(),a=(0,e1.iZ)(),r=e.orgId,n=(0,s.d4)(e=>e.currentUserOrgId),i=void 0===r?n:r,o=(0,xu.J)(()=>{let r=xD(a,t,e.userId),n=xM(t,e.userId,i);return Promise.all([r,xO(t,e.userId,i),n]).then(([a,r,n])=>((0,re.hL)(a.handle),{userId:e.userId,user:a,teams:r,orgUser:n,profileHandle:a.community_profile_handle||null,on404Redirect:r.length>0||n?()=>{t(K.$T({view:"user",userId:e.userId,orgId:i,userViewTab:o1.o.INTERNAL_PROFILE}))}:()=>{m.Ay.redirect("/404")}}))},[t,a,i,e.userId]),{tab:c}=e;if(!c)return null;let{Component:d}=xB[c];return l.createElement(gi.x,{className:"user_page_view--loadingContainer--vr9Zb",state:o,failure:void 0},t=>l.createElement(xU,{component:d,tab:c,userId:e.userId,context:t}))}function xH({showingFileBrowserLoader:e}){let t=(0,ea._6)();l.useEffect(()=>{(0,tN.o5)(t)},[t]);let a=function(){let e=(0,s.wA)(),t=(0,e1.Pc)(),a=(0,eX.dq)(),r=(0,ea._6)(),n=(0,eJ.FC)(),i=(0,s.d4)(e=>e.currentTeamId),o=(0,eX.sZ)(),c=(0,s.d4)(e=>e.teams),d=(0,s.d4)(e=>e.search),m=(0,vp.y)(),u=(0,eM.K4)(),_=bs();switch(r.view){case"communityHub":{let{content:e,key:t}=vm(r);return{pageContent:l.createElement(oy.r,{toolbar:void 0,content:e,collapseSidebarOnTabletView:!0,key:t}),CustomPageLayout:vu}}case"deletedFiles":return(0,p.kc)().pdr_trashed_section?{pageHeaderContent:(0,k.t)("file_browser.tool_bar.trash"),pageContent:(0,ez.T8)(l.createElement(bo,{key:"trashed",selectedTab:bi.FILES}),e7.e0.FILE_BROWSER,{view:"trashed"})}:{pageHeaderContent:(0,k.t)("file_browser.tool_bar.deleted"),pageContent:(0,ez.T8)(l.createElement(bo,{key:"deleted",selectedTab:bi.FILES}),e7.e0.FILE_BROWSER,{view:"deleted"})};case"trashedFolders":return m?{pageHeaderContent:(0,k.t)("file_browser.tool_bar.trash"),pageContent:(0,ez.T8)(l.createElement(bo,{key:"trashed",selectedTab:bi.FOLDERS}),e7.e0.FILE_BROWSER,{view:"trashed"})}:null;case"draftsToMove":return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.drafts_to_move"),pageContent:l.createElement(wb,{key:"draftsToMove"})};case"folder":if(r.folderId===t?.drafts_folder_id)return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.drafts"),pageHeaderActions:xj({from:vf.f6.FILE_BROWSER_TOPBAR_DRAFTS,user:t,currentOrgId:a,folderId:t.drafts_folder_id}),pageContent:(0,ez.T8)(l.createElement(b6,{folderId:r.folderId,key:"drafts",userId:t.id}),e7.e0.FILE_BROWSER_DRAFTS,{orgId:a,teamId:i})};{let e=r.shouldShowRenameModal||!1;return{pageContent:l.createElement(IT,{folderId:r.folderId,key:`folder-${r.folderId}`,shouldShowRenameModal:e})}}case"workspace":switch(r.subView){case am.V0.ADMIN:return{pageContent:(0,ez.T8)(l.createElement(F.y$,{workspaceId:r.workspaceId,selectedTab:r.selectedTab}),e7.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:r.workspaceId,workspaceViewTab:r.selectedTab})};case am.V0.DIRECTORY:return{pageContent:(0,ez.T8)(r.workspaceId?l.createElement(lZ,{key:r.workspaceId,workspaceId:r.workspaceId}):l.createElement(oO,null),e7.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:r.workspaceId,workspaceGroupViewTab:r.selectedTab})};default:(0,x.xb)(r)}case"licenseGroup":if(r.subView===ac.GN.ADMIN)return{pageContent:(0,ez.T8)(l.createElement(F.VY,{licenseGroupId:r.licenseGroupId,selectedTab:r.selectedTab}),e7.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:r.licenseGroupId,licenseGroupViewTab:r.selectedTab})};(0,x.xb)(r);case"org":return{pageHeaderContent:o?l.createElement(nd,null):void 0,pageHeaderActions:[l.createElement(IN,{orgId:r.orgId,key:"org-page-header-actions"})],pageContent:(0,ez.T8)(l.createElement(Co,{orgId:r.orgId,selectedTab:r.orgViewTab}),e7.e0.ORG_PAGE,{orgId:r.orgId,orgViewTab:(r.orgViewTab===tZ.X.HOME?"HOME":r.orgViewTab)||""})};case"orgAdminSettings":let f=(0,A.a)(r.orgAdminSettingsViewTab,r.orgAdminSettingsViewSecondaryTab,{isNewInvoiceUiEnabled:u});return{pageContent:(0,ez.T8)(l.createElement(F.vW,{selectedTab:r.orgAdminSettingsViewTab,selectedSecondaryTab:f,selectedExtensionId:r.selectedExtensionId,selectedWorkspaceId:r.selectedWorkspaceId}),e7.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:a,orgViewTab:r.orgAdminSettingsViewTab,source:r.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:f})};case"abandonedDraftFiles":return{pageContent:(0,ez.T8)(l.createElement(F.dZ,{abandonedDraftFolderId:r.abandonedDraftFolderId,planType:r.adminPlanType,planId:r.planId}),e7.e0.ABANDONED_DRAFTS_PAGE,r.adminPlanType===vg.O.ORG?{orgId:r.planId}:{teamId:r.planId})};case"orgDomainManagement":let g=[{text:(0,k.t)("general.admin"),onClick:()=>{e(K.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:ad.J7.DASHBOARD}))}},{text:(0,k.t)("org_dashboard.settings"),onClick:()=>{e(K.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:ad.J7.SETTINGS}))}}];return{pageContent:(0,ez.T8)(l.createElement(F.Oe,null),e7.e0.ORG_DOMAIN_MANAGEMENT_PAGE,{orgId:a}),pageHeaderContent:l.createElement(N.B,{items:g})};case"billingGroupDashboard":return{pageContent:(0,ez.T8)(l.createElement(F.wu,null),e7.e0.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE,{orgId:a,orgViewTab:r.selectedTab})};case"recentsAndSharing":let h=r.tab??(_()?ot.G.SUGGESTED:ot.G.RECENTLY_VIEWED),v=xj({from:vf.f6.FILE_BROWSER_TOPBAR_RECENTS,user:t,currentOrgId:a,folderId:t.drafts_folder_id});return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.recents"),pageHeaderActions:v,pageContent:(0,ez.T8)(l.createElement(CQ,{selectedTab:h,userId:t.id,accountModalTab:r.accountModalTab,emailPolicyToUnsubscribeFrom:r.emailPolicyToUnsubscribeFrom}),e7.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:a?e7.qo.ORG:e7.qo.PERSONAL})};case"resourceUnavailable":return{pageContent:l.createElement(oD.S,{resourceType:r.resourceType})};case"search":{let{searchScope:e,query:t}=d.parameters,a=!E.Ay.mobile;return{pageHeaderContent:l.createElement(xW,{query:t}),pageContent:(0,ez.T8)(l.createElement(ii.bS,null),e7.e0.UNIFIED_SEARCH,{showInternalModal:a&&e!==lp.Rx.COMMUNITY,showCommunityModal:a&&e===lp.Rx.COMMUNITY})}}case"sharedWithYou":return{pageContent:l.createElement(CJ,{tab:r.tab})};case"limitedTeamSharedProjects":return{pageContent:l.createElement(II,null)};case"team":{let e=c[r.teamId],t=r.teamViewTab??(0,tq.ZP)(e,n);return{pageContent:(0,ez.T8)(l.createElement(xm,{teamId:r.teamId,selectedTab:t,upgradeModalType:r.upgradeModalType,showProOnboardingModal:r.isProUpgrade,key:`team-${r.teamId}`}),e7.e0.TEAM_PAGE,{teamId:r.teamId,canUpgradeToPro:(0,ek.hp)(e,n),userSpace:a?e7.qo.ORG:e7.qo.PERSONAL,canEdit:(0,eL.canEditTeam)(r.teamId,n)})}}case"teamAdminConsole":{let e=r.teamAdminConsoleViewTab??(r.isProTeam?eA.Iv.DASHBOARD:eA.Iv.MEMBERS),t=(0,R.X$)(e,r.teamAdminConsoleViewSecondaryTab,{isNewInvoiceUiEnabled:u});return{pageContent:(0,ez.T8)(l.createElement(F.JC,{teamId:r.teamId,selectedTab:e,selectedSecondaryTab:t,shouldShowDevModeSuggestedUpgradesModal:!!r.shouldShowDevModeSuggestedUpgradesModal}),e7.e0.TEAM_ADMIN_PAGE,{teamId:r.teamId,teamAdminConsoleViewTab:e,teamAdminConsoleViewSecondaryTab:t})}}case"teamFeed":let y=[{text:(0,k.t)("fig_feed.feed"),onClick:()=>{e(K.$T({view:"teamFeed"}))}}],b=[l.createElement(vz,{key:"create-feed-post-button"})];return{pageHeaderContent:l.createElement(N.B,{items:y}),pageHeaderActions:b,pageContent:l.createElement(x$,{postUuid:r.postUuid,creatorId:r.creatorId})};case"user":return{pageHeaderContent:(0,k.t)("internal_profile.profile"),pageHeaderActions:t.community_profile_handle&&t.id===r.userId?[l.createElement(Cu,{key:"viewCommunityProfileAction"})]:void 0,pageContent:l.createElement(xV,{userId:r.userId,tab:r.userViewTab,orgId:r.orgId})};default:return null}}();if(!a)return null;let{CustomPageLayout:r,pageContent:n}=a;return r?l.createElement(bm,null,l.createElement(r,null,!e&&n)):l.createElement(bm,null,l.createElement(i5,{showingFileBrowserLoader:e,pageHeaderContent:a.pageHeaderContent,pageHeaderActions:a.pageHeaderActions},n))}function xW(e){return e.query?l.createElement("div",{className:S.cx.flex.columnGap8.$},l.createElement("span",{className:S.cx.flexShrink0.$},l.createElement(L.E,{color:"secondary"},(0,k.tx)("search.search_results_for"))),l.createElement("div",{className:S.cx.flex.fontMedium.minW0.$},"\u201C",l.createElement(L.E,{truncate:!0},e.query),"\u201D")):l.createElement("div",{className:S.cx.flex.columnGap8.$},l.createElement("span",{className:S.cx.flexShrink0.$},l.createElement(L.E,{color:"secondary"},(0,k.tx)("search.search_results"))))}function xj({from:e,user:t,currentOrgId:a,folderId:r}){if((0,p.kc)().ps_benchmark&&t&&(0,e4.R$)(t,a))return[];let n=e===vf.f6.FILE_BROWSER_TOPBAR_RECENTS?l.createElement(T6,{key:"resourceCreationAction",from:e,dropdownType:TG.x,disabled:!1,folderId:r,leftContent:l.createElement(Cc,null)}):l.createElement(T9,{key:"resourceCreationAction",from:e,dropdownType:TG.x,disabled:!1,folderId:r}),i=l.createElement(gD.p,{key:"jamboardImporter"},l.createElement(bh,null));return[l.createElement(Cm,{key:"getDesktopApp"}),n,i]}function x$(e){return(0,v_.w)()?l.createElement(v0,{postUuid:e.postUuid,creatorId:e.creatorId}):null}var xG=a(787133),xY=a(158875),xz=a(797129),xQ=a(446520),xK=a(310908),xq=a(758259),xZ=a(416618),xX=a(622139);let xJ="add_collaborators--emailListItem--dnvC-";function x0({selectedView:e}){let[t,a]=l.useState(["","",""]),r=(0,s.d4)(t=>t.teams[e.teamId]),n=(0,s.d4)(e=>e.teamCreation),i=(0,s.d4)(e=>e.payment),o=(0,s.wA)(),c=l.useCallback(()=>{r&&o(K.$T({view:"team",teamId:r.id}))},[o,r]),d=l.useCallback((e,r)=>{if(r>=t.length)return;let n=[...t];n[r]=e,a(n)},[t]),m=l.useCallback(()=>{a([...t,""])},[t]),u=l.useCallback(()=>{let e=!!n.isEduTeam;i.promo?o(xq.g_({teamId:r.id,teamName:r.name,previousView:{view:"team",teamId:r.id}})):e?o(bI.Vm({teamId:r.id,showBreadcrumbs:!0})):o(K.$T({view:"teamUpgrade",teamFlowType:iI.SC.UPGRADE_EXISTING_TEAM,teamId:r.id,paymentStep:xX.tn.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:r.id},planType:iI.Sc.TEAM}))},[o,r,i.promo,n.isEduTeam]),_=l.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),p=l.useCallback(()=>{o((0,xZ.rq)({emails:_(),resourceType:e2.vt.TEAM,resourceIdOrKey:r.id,level:e6.e6.EDITOR,onSuccess:()=>{o(TS.r1({loading:!1})),u()}}))},[_,r,u,o]);return l.createElement(ez.fu,{name:"Add Collaborators",properties:{teamId:r?.id}},l.createElement("div",null,l.createElement(xz.O,{menu:l.createElement(xY.X,{onClick:c},l.createElement(j.B,{svg:ip.default,className:"add_collaborators--modalCloseX--sJGp5"}))},l.createElement(xK.J,{index:2}),l.createElement(xQ.JR,null,(0,k.tx)("team_creation.add_your_collaborators")),l.createElement(xQ.Kh,null,(0,k.tx)("team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up")),l.createElement("div",{className:"add_collaborators--formContainer--zTKXv"},l.createElement("div",{className:"add_collaborators--emailInputsContainer--19ZBc"},t.map((e,t)=>l.createElement(tO.il,{key:`collaborator-email-input-${t}`,className:xJ,value:e,onChange:e=>d(e.target.value,t),maxLength:255,placeholder:(0,k.t)("team_creation.email")}))),l.createElement(tO.nR,{className:xJ,onClick:m},(0,k.tx)("team_creation.add_another")),l.createElement("div",{className:"add_collaborators--spacing--2VA7s"}),l.createElement("div",{className:"add_collaborators--ctaContainer--VGMvb"},l.createElement(tO.nD,{disabled:0===_().length,onClick:p,trackingProperties:{numCollaborators:_().length}},(0,k.tx)("team_creation.continue")),l.createElement(tO.Ph,{onClick:u,trusted:!0},(0,k.tx)("team_creation.skip_for_now")))))))}var x1=a(994190),x2=a(316082),x4=a(632376),x8=a(955066),x3=a(63104),x5=a(132367),x9=a(167198);let x6=["folder","team","search","recentsAndSharing"];function x7(){let e=(0,s.d4)(e=>e.autosave),t=(0,ea._6)(),a=(0,x2.y)(),{unsyncedFiles:r,localUnsyncedFiles:n}=(0,bw.Gg)();return!a||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(r.length>0||n.length>0)&&x6.includes(t.view)?l.createElement(Nt,{unsyncedFiles:r,localUnsyncedFiles:n}):null}let Ne=!1;function Nt(e){let t=(0,s.wA)();l.useEffect(()=>{let e=()=>{t(x8.Jw())};return x5.hp.register(x5.a,e),function(){x5.hp.unregister(x5.a,e),t(eY.ES({type:x4.EO.type}))}},[t]);let a=(0,ea._6)(),[r,n]=l.useState(!1);l.useEffect(()=>{Ne||(Ne=!0,(0,x1.Mw)()),r||(n(!0),(0,el.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:a.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,r,a]);let i=(0,e1.iZ)(),o=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===o.length||!i)return l.createElement(l.Fragment,null);let c=o.length>1,d=o[0],u=(0,x3.y8)(d)?d.file.name:d.name,_=u.length>40?u.substring(0,40)+"\u2026":u,p=c?(0,k.t)("autosave.notification.message.more_than_one_file"):(0,k.t)("autosave.notification.message.one_file",{fileName:_}),f=c?(0,k.tx)("autosave.notification.action_review"):(0,k.tx)("autosave.notification.action_open_to_sync");return l.createElement("div",{className:"autosave_notification--notification--u3sx0 text--_negText--j9g-L"},l.createElement(j.B,{className:"autosave_notification--icon--uvtXB",svg:x9.A,width:"24",height:"24"}),l.createElement("div",{className:"autosave_notification--message--yAhFz"},p),l.createElement("div",{className:"autosave_notification--actions--dk-yq"},l.createElement("div",{className:"autosave_notification--mainAction--sidqJ autosave_notification--action--Brz-5",onClick:()=>{c?t(eY.to({type:x4.EO})):(0,x3.y8)(d)?m.Ay.redirect((0,rn.r1)(d.file,!0),"_blank"):t(yu.NA({file:d,openNewFileIn:vf.ai.NEW_TAB,source:yv.U.AUTOSAVE_NOTIFICATION}))}},f),l.createElement("div",{className:"autosave_notification--action--Brz-5",onClick:()=>{(0,el.sx)("Autosave Notification Snooze",{files:o.length,firstFile:d.fileKey}),t(x8.zE(Date.now()))}},(0,k.tx)("autosave.notification.action_later"))))}var Na=a(27182),Nr=a(310885),Nn=a(761070);function Ni(){return(0,x2.w)()?null:l.createElement(No,null)}function No(){let[e,t]=l.useState(!0);return l.createElement("div",{className:"offline_notification--notification--hEP5F notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},l.createElement(j.B,{className:Nr.Kk,svg:Nn.A,width:"24",height:"24"}),l.createElement("div",{className:Nr.iU},(0,k.tx)(e?"file_browser.offline_notification.youre_offline_message_body":"file_browser.offline_notification.youre_offline_message_body_no_create",{youreOfflineMessagePrefix:l.createElement("span",{className:"offline_notification--messageBold--QAlE3"},(0,k.tx)("file_browser.offline_notification.youre_offline_message_prefix"))})),e&&l.createElement("div",{className:Nr.o1},l.createElement(Nl,{onClick:()=>t(!1)})))}function Nl({onClick:e}){let t=(0,s.wA)(),a=(0,wD.B)();return l.createElement(sF.E,{className:"offline_notification--createFileButton--BWecZ notification--action--v-pvn text--_negText--j9g-L",onClick:()=>{e(),t(yu.zE({state:a,editorType:e2._Y.DESIGN,team:void 0,from:vf.f6.OFFLINE_NOTIFICATION,openNewFileIn:vf.ai.SAME_TAB}))}},(0,k.tx)("file_browser.offline_notification.create_file"))}let Ns="team-org-access-dropdown";function Nc(e){let t=(0,s.wA)(),a=e.dropdownShown&&e.dropdownShown.type===Ns;return l.createElement("div",{className:"team_org_access_dropdown--orgAccess--JAIwP"},l.createElement("button",{className:"team_org_access_dropdown--select--lqx54",onClick:e=>{e.stopPropagation(),e.preventDefault(),a?t(K.oB()):t(K.j7({type:Ns}))}},(0,e4.ZP)()[e.orgAccess],l.createElement(j.B,{svg:rq.A,className:"team_org_access_dropdown--downCaret--INuva"})),a&&l.createElement("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--iVvqn"},l.createElement(oV.ms,{className:"team_org_access_dropdown--orgAccessDropdown--zJupm"},l.createElement(oV.MM,{checked:e.orgAccess===e2.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(e2.bU.PUBLIC)}},(0,e4.ZP)()[e2.bU.PUBLIC]),l.createElement(oV.MM,{checked:e.orgAccess===e2.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(e2.bU.PRIVATE)}},(0,e4.ZP)()[e2.bU.PRIVATE]),l.createElement(oV.MM,{checked:e.orgAccess===e2.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(e2.bU.SECRET)}},(0,e4.ZP)()[e2.bU.SECRET]))))}let Nd="team_creation--createTeamText--VjY8f";function Nm({currentTeamId:e,currentUserOrgId:t,user:a,selectedView:r,dropdownShown:n,teamCreation:i,orgById:o}){var c;let d=(0,s.wA)(),[u,_]=(0,l.useState)(null),[f,g]=(0,l.useState)(e2.bU.PUBLIC),E=r.ignoreCurrentPlan,h=t&&!E?o[t]:null,v=!e&&!t,y=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(y.current)for(let e=0;e<y.current.elements.length;e++){let t=y.current.elements[e];if(!t.value){t.focus();break}}t&&!E&&(0,el.sx)("team_creation_started",{user_id:a?.id??"",org_id:t})},[t,a,E]);let b=e=>{e.preventDefault(),e.stopPropagation(),u?(d((0,eZ.KQ)({teamName:u,orgAccess:f,dontRedirect:!!r.onSubmitReturnToPrevView,ignoreCurrentPlan:E})),r.onSubmitReturnToPrevView&&d(K.$T((0,m.Gl)()||{view:"recentsAndSharing"}))):d($.s.error((0,k.t)("team_creation.your_team_name_cannot_be_empty")))},w=!(t&&!E)&&!r.onSubmitReturnToPrevView,T=(0,p.kc)().ps_benchmark&&v?null:l.createElement(xY.X,{onClick:()=>{d(K.$T((0,m.Gl)()||{view:"recentsAndSharing"}))}},l.createElement(j.B,{svg:ip.default,className:"team_creation--modalCloseX--TTg32"}));return l.createElement(ez.fu,{name:"Team Creation"},l.createElement("div",null,l.createElement(xz.O,{menu:T},w&&l.createElement(xK.J,{index:1}),l.createElement("form",{ref:y,onSubmit:b},l.createElement(xQ.JR,null,(0,k.tx)("team_creation.create_a_team_title")),l.createElement("div",{className:"team_creation--newTeamContainer--43mWz team_creation--newTeamContainerBase--nwYzU"},l.createElement("div",{className:"team_creation--teamNameContainer--B6Pc3"},l.createElement("div",{className:"team_creation--teamNameLabel--ohZWy"},(0,k.tx)("team_creation.team_name_label")),l.createElement(tO.il,{value:u||"",onChange:e=>{_(e.target.value)},className:"team_creation--newTeamInput--PdjEW",maxLength:255,placeholder:(0,k.t)("team_creation.team_name_input_placeholder")})),h?l.createElement("div",{className:"team_creation--orgTeamSettings--bDW2R"},l.createElement("div",{className:S.cx.flex.$},l.createElement("div",{className:S.cx.fontSemiBold.$},(0,k.tx)("team_creation.access_within_the_organization")),l.createElement(Nc,{orgAccess:f,dropdownShown:n,onChangeOrgAccess:e=>{g(e)}})),l.createElement("div",{className:Nd},(c=h.name,{[e2.bU.PUBLIC]:(0,k.tx)("org_access_strings.public.description_with_org_name",{orgName:c}),[e2.bU.PRIVATE]:(0,k.tx)("org_access_strings.closed.description_with_org_name",{orgName:c}),[e2.bU.SECRET]:(0,k.tx)("org_access_strings.secret.description_with_org_name",{disclaimerLabel:l.createElement("span",{className:S.cx.fontSemiBold.$},(0,k.tx)("org_access_strings.secret.description.disclaimer_label")),orgName:c})})[f])):l.createElement("div",{className:Nd},(0,k.tx)("team_creation.after_creating_a_team_you_can_invite_others_to_join")),l.createElement(tO.nD,{className:t?"team_creation--createTeamButtonOrg--2rnOw":"team_creation--createTeamButton--C8IV7",type:"submit",disabled:i.loading,onClick:b},(0,k.tx)("team_creation.create_team_button")))))))}function Nu({selectedView:e}){let t=(0,s.wA)(),a=(0,eX.dq)(),r=(0,s.d4)(e=>e.orgById),n=(0,e1.iZ)(),i=(0,s.d4)(e=>e.currentTeamId),o=(0,et.Um)(),c=(0,s.d4)(e=>e.teamCreation),d=a?r[a]:null,u=t6.a9()?.workspace_users?.find(e=>e.is_main_workspace)?.workspace_id,{cannotCreateTeamReason:_}=(0,ar.LM)(d,u??null);return(0,e4.R$)(n,a)||_===ar.z4.TEAM_CREATION_CONTROL&&!(0,p.kc)().ps_benchmark?(m.Ay.redirect("/"),t($.s.error((0,k.t)("team_creation.missing_team_creation_controls"))),null):l.createElement(Nm,{currentTeamId:i,currentUserOrgId:a,user:n,dropdownShown:o,teamCreation:c,orgById:r,selectedView:e})}let N_="team_restore--page--cMEe2",Np="team_restore--section--AmfWe",Nf="team_restore--button--C-gOz";function Ng({selectedView:e}){let t,a;let r=(0,s.wA)(),[n,i]=l.useState(!1),o=e.teamId,c=(0,s.d4)(e=>e.teams[o]);l.useEffect(()=>{i(!0),nL.$.getDeleted({teamId:o}).then(({data:e})=>{r(TS.bE({team:e.meta})),i(!1)}).catch(e=>{400!==e.status&&(r(K.$T({view:"recentsAndSharing"})),r($.s.error(`${e.data.message}`))),i(!1)})},[r,o]);let d=()=>{r(K.$T({view:"recentsAndSharing"}))},m=l.createElement(tO.vd,{className:Nf,onClick:d},(0,k.tx)("team_restore.back"));if(c){if(c.deleted_at){let e=(0,tH.A)(c.deleted_at).add(28,"days").toDate();t=(0,k.t)("team_restore.confirm_restore_header",{teamName:c.name}),a=l.createElement("div",null,(0,k.tx)("team_restore.confirm_restore"),l.createElement("br",null),l.createElement("br",null),(0,k.tx)("team_restore.confirm_restore_deadline",{deleteDeadline:e})),m=l.createElement(tO.vd,{className:Nf,onClick:()=>{r(TS.I9({teamId:o}))}},(0,k.tx)("team_restore.restore"))}else t=(0,k.t)("team_restore.ineligible"),a=(0,k.t)("team_restore.questions_contact_support",{supportEmail:(0,p.W4)()})}else{if(n)return l.createElement("div",{className:N_},l.createElement("div",{className:Np},l.createElement(tM.kt,null)));t=(0,k.t)("team_restore.expired_header"),a=l.createElement("div",null,(0,k.tx)("team_restore.expired"),l.createElement("br",null),l.createElement("br",null),(0,k.tx)("team_restore.questions_contact_support",{supportEmail:(0,p.W4)()}))}return l.createElement(ez.fu,{name:"Team Restore",properties:{teamId:o}},l.createElement(xz.O,{menu:l.createElement(j.B,{svg:ip.default,onClick:d,className:"team_restore--modalCloseX--XNErW"})},l.createElement("div",{className:N_},l.createElement("div",{className:Np},l.createElement("div",{className:"team_restore--header--NgU8v text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t),l.createElement("div",{className:"team_restore--text--F18dW text--fontPos12--YsUAh text--_fontBase--QdLsd"},a),m))))}var NE=a(432258),Nh=a(756442),Nv=a(304769),Ny=a(13513),Nb=a(50661),Nw=a(135163),NT=a(49891);let NI="legacy_upgrade--closeButton--zJ0JO";var NC=a(258933);function Nx({selectedView:e}){let t=(0,s.wA)(),a=(0,s.d4)(t=>t.teams[e.teamId]);if((0,NE.uy)(a))throw Error("Team is nullish");let{taxes:r,numDesignEditors:n,numWhiteboardEditors:i,submitPending:o}=(0,s.d4)(e=>e.payment),c=(0,s.d4)(e=>e.teamUserByTeamId[a.id]||{}),d=(0,s.d4)(e=>e.teamBilling.summary.currency),m=(0,s.d4)(e=>e.loadingState),u=b1.Be.loadingKeyForPayload({teamId:a.id}),_=(0,gc.VP)(m,u)&&!(0,gc.D2)(m,u),p=Ny.Oq.exclude([Nv.ud.DEV_MODE]).dict(e=>({currency:d,billableProductKey:e,tier:Nw.Ju.PRO,renewalTerm:Nw.IX.MONTH,unit:Nw.IX.MONTH})),f=Ny.Oq.exclude([Nv.ud.DEV_MODE]).dict(e=>({currency:d,billableProductKey:e,tier:Nw.Ju.PRO,renewalTerm:Nw.IX.YEAR,unit:Nw.IX.MONTH})),g=a4.Qw.all([(0,Nh.ic)(p,{planParentId:a.id,planType:e2.OL.TEAM},Nh.Fq.ADMIN_SETTINGS),(0,Nh.ic)(f,{planParentId:a.id,planType:e2.OL.TEAM},Nh.Fq.ADMIN_SETTINGS)]),E=_||"loading"===g.status;if((0,l.useEffect)(()=>{(0,gc.VP)(m,u)||(0,gc.D2)(m,u)||t(b1.Be({teamId:a.id}))},[m,t,u,a.id]),E)return l.createElement(tM.Z_,null);if(null===g.data)throw Error("Price data is null");let h=l.createElement(j.B,{svg:ip.default,onClick:()=>{(0,el.sx)("Add Annual Plan Canceled",{teamId:e.teamId}),window.history.length<=1?t(K.$T({view:"team",teamId:e.teamId})):history.go(-1)},className:NI}),v=a.editors,y=Object.keys(c).filter(e=>c[e]?.whiteboard_paid_status===If.Zf.FULL).length,b=new Eb.vr(d),[w,T]=g.data,I=w[Nv.ud.DESIGN].amount,C=w[Nv.ud.FIGJAM].amount,x=T[Nv.ud.DESIGN].amount,N=T[Nv.ud.FIGJAM].amount;return l.createElement("div",{className:"legacy_upgrade--addAnnualPlan--ZH1cn"},l.createElement(xz.O,{menu:h},l.createElement(ez.fu,{name:"Step Pay"},l.createElement("div",{className:NC.yU},l.createElement(xQ.JR,null,(0,k.tx)("payments.add_annual_plan.title")),l.createElement(xQ.Kh,null,l.createElement("p",{className:"legacy_upgrade--addAnnualPlanInstructions--MmsnZ"},(0,k.tx)("payments.add_annual_plan.intro.seat_rename",{monthlyDesignEditorCost:b.formatMoney(I,{showCents:!1}),monthlyFigjamEditorCost:b.formatMoney(C,{showCents:!1})}))),l.createElement("div",{className:NC.fI},l.createElement(NT.tG,{totalDesignEditors:v,totalWhiteboardEditors:y,numAnnualDesignEditors:n||0,numAnnualWhiteboardEditors:i||0,onNumAnnualDesignEditorsChange:e=>{t(bI.js({numDesignEditors:e}))},onNumAnnualWhiteboardEditorsChange:e=>{t(bI.Az({numWhiteboardEditors:e}))},showAdminPage:()=>{t(K.$T({view:"team",teamId:e.teamId,teamViewTab:eA.A$.SETTINGS}))},isTeamPro:!0,dispatch:t,taxes:r,teamId:e.teamId,currency:d,submitPending:o,monthlyDesignAmount:I,monthlyFigjamAmount:C,annualMonthlyDesignAmount:x,annualMonthlyFigjamAmount:N}),l.createElement("form",{onSubmit:a=>{a.preventDefault(),t(t9.b({completed_pro_cart_flow:!0})),t(bI.I2({submitPending:!0})),t(bI.XF({teamId:e.teamId}))}},l.createElement("div",{className:NC.ay},(0,k.tx)("payments.add_annual_plan.auto_renew.seat_rename",{cancellingIsEasyLink:l.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel-my-paid-plan"},(0,k.tx)("payments.add_annual_plan.cancelling_is_easy_link_text"))}),l.createElement("br",null),l.createElement("br",null),(0,k.tx)("payments.add_annual_plan.tos",{tosLink:l.createElement("a",{target:"_blank",rel:"noopener",href:"/tos"},(0,k.tx)("payments.add_annual_plan.tos_link_text"))})),l.createElement("div",{className:`${NC.Ou} ${NC.nM}`},l.createElement(tO.vd,{type:"submit",disabled:o,className:`${NC.XX}`},(0,k.tx)("payments.add_annual_plan.cta_text")))))))))}function NN(e){return l.createElement(O.tH,{boundaryKey:"AddAnnualPlan",team:np.FigmaTeam.BILLING,fallback:l.createElement(Nb.K,null)},l.createElement(Nx,{...e}))}var NS=a(625223),Nk=a(320108);function NL(e){let t=(0,e1.iZ)(),[a,r]=l.useState(()=>(0,Eb.LN)()),n=e5.b.UPGRADE_NEW_TEAM,i=(0,s.wA)(),o=(0,p.kc)().plan_comparison_billing_remodel,c=(t,r)=>{let n=e.selectedView;i(bI.WX({teamId:e.selectedView.teamId,selectedView:n,newTeam:!0,currency:a,billingPeriod:r}))},d=null===e.selectedView.teamId?void 0:()=>{let a=(0,p.kc)().ps_benchmark,r=t?.id;if(a&&r){let t={userId:r,orgId:null,teamId:e.selectedView.teamId};i(q._l({workspace:t,view:{view:"allProjects"}}))}else i(K.$T({view:"team",teamId:e.selectedView.teamId}))},m=()=>{i(bI.Bq({currency:a,upsellSource:n}))},u=e=>{r(e),i(K.oB())},_=e.selectedView.teamId,f=l.useRef(null);return l.createElement(ez.fu,{name:"Upgrade Team",properties:{teamId:_,step:xX.tn.UPGRADE_NEW_TEAM}},l.createElement("div",{className:"legacy_upgrade--teamUpgrade--auGJz"},l.createElement(xz.O,{menu:l.createElement(xY.X,{onClick:()=>{let a=(0,p.kc)().ps_benchmark,r=t?.id,n=e.selectedView.teamId;if(a){let t={view:"recentsAndSharing"};r&&n?i(q._l({workspace:{userId:r,teamId:n,orgId:null},view:e.selectedView.previousView||t})):i(K.$T(e.selectedView.previousView||t))}else i(K.$T(e.selectedView.previousView||(n?{view:"team",teamId:n}:{view:"recentsAndSharing"})))}},l.createElement(j.B,{svg:ip.default,className:NI})),pageRef:f},l.createElement(xK.J,{index:3}),l.createElement(ez.fu,{name:"Upgrade New Team",properties:{teamId:_,trackingDescriptor:eg.c.UPGRADE_YOUR_TEAM}},l.createElement("div",{className:B()(e.className,{"step_upgrade_new_team--container--BixhQ":!0})},l.createElement(xQ.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--yyzB5 step_upgrade_new_team--stepTitle--yFYG8"},l.createElement("span",null,(0,k.tx)("plan_details.choose_your_team_plan"))),o?l.createElement("div",{className:S.cx.mxAuto.$,style:tV.sx.add({width:"1049px"}).$},l.createElement(Nk.Ph,{upsellSource:n,currency:a,updateCurrency:u,chooseStarterPlan:d,chooseProPlan:e=>c(null,e),chooseOrgPlan:m,planComparisonModalHeaderOverride:null})):l.createElement(NS.O,{currency:a,chooseStarterPlan:d,chooseProPlan:e=>c(null,e),chooseOrgPlan:m,updateCurrency:u,upsellSource:n,parentRef:f}))))))}var NA=a(340159),NR=a(657193),NF=a(611886),NP=a(351226),NO=a(833629),ND=a(966537);function NM(){return l.createElement("svg",{width:"310",height:"167",viewBox:"0 0 310 167",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"280.007",y:"103.275",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"124.465",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"113.871",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"299.833",y:"103.275",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"299.833",y:"124.465",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"299.833",y:"113.871",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"103.275",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"124.465",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"113.871",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"134.49",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"155.679",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"145.085",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"299.833",y:"134.49",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"299.833",y:"155.679",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"299.833",y:"145.085",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"134.49",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"155.679",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"145.085",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("circle",{cx:"10.751",cy:"63.5",r:"10.5",fill:"#FF01E6"}),l.createElement("circle",{cx:"31.751",cy:"63.5",r:"10.5",fill:"#FFC9C1"}),l.createElement("circle",{cx:"10.751",cy:"84.5",r:"10.5",fill:"#0A5C35"}),l.createElement("circle",{cx:"31.751",cy:"84.5",r:"10.5",fill:"#FF7237"}),l.createElement("rect",{width:"161",height:"106",transform:"translate(76.2148 28.0273)",fill:"#874FFF"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.186 28.0273C115.125 28.0273 126.424 39.3269 126.424 53.2657C126.424 67.2045 115.125 78.5041 101.186 78.5041H76.2158L76.2158 28.0273L101.186 28.0273ZM76.2191 83.5506H126.427V134.027H76.2191V83.5506ZM181.319 83.5501L131.111 83.5501L131.111 108.923C131.111 122.787 142.351 134.027 156.215 134.027C170.08 134.027 181.319 122.787 181.319 108.923L181.319 83.5501ZM186.006 134.027V83.5506V33.0739H236.215V83.5506C236.215 111.28 213.735 134.027 186.006 134.027Z",fill:"#95B9AC"}),l.createElement("rect",{x:"126.087",y:"83.5518",width:"5.02083",height:"25.5749",fill:"#95B9AC"}),l.createElement("rect",{x:"76.2148",y:"83.5518",width:"5.04767",height:"25.4389",transform:"rotate(-90 76.2148 83.5518)",fill:"#95B9AC"}),l.createElement("rect",{x:"180.983",y:"83.5518",width:"5.02083",height:"25.5749",fill:"#95B9AC"}),l.createElement("rect",{x:"60.251",y:"12",width:"16",height:"16",fill:"#33DFDF"}),l.createElement("rect",{x:"60.251",y:"134",width:"16",height:"16",fill:"#33DFDF"}),l.createElement("rect",{x:"237.251",y:"134",width:"16",height:"16",fill:"#33DFDF"}),l.createElement("rect",{x:"195.738",width:"85",height:"85",fill:"#0A5C35"}),l.createElement("path",{d:"M214.06 53.9162C219.483 51.1514 260.1 29.4353 256.283 27.5269",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),l.createElement("path",{d:"M225.934 13.0127C231.093 24.7758 243.087 48.6871 243.087 61.8329",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),l.createElement("path",{d:"M247.047 13.6724C242.127 26.6618 233.88 55.8409 227.915 67.7704",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),l.createElement("path",{d:"M214.06 32.8047C230.842 33.737 255.224 44.4138 269.478 53.9161",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}))}function NB(e){return l.createElement(ez.fu,{name:"Continue Duplication after Verification Modal"},l.createElement(r7.XV,{headerSize:"hidden",maxWidth:348,containerClassName:"continue_after_verification--modalContainer--L-0LF",innerContainerClassName:"continue_after_verification--innerModal--JmgbP",title:" ",onClose:e.onClose,paddingLeft:40,paddingRight:40},l.createElement("div",{className:S.cx.mxAuto.$},l.createElement(NM,null)),l.createElement("h1",{className:"continue_after_verification--title---5Cuw"},(0,k.tx)("community.duplicate_modal.youre_all_set")),l.createElement("div",null,(0,k.tx)("community.duplicate_modal.youve_verified_your_email_at",{userEmail:l.createElement("b",null,e.userEmail)})),l.createElement(tO.LA,{fullWidth:!0,onClick:e.onDuplicateClick,type:"button",role:"button",trackingProperties:{trackingDescriptor:eg.c.CONTINUE_TO_FILE}},(0,k.tx)("community.duplicate_modal.continue_to_file"))))}let NU=(0,aA.Ju)(function(e){let t=(0,s.d4)(e=>e.user?.email),a=(0,s.wA)(),r=(0,s.d4)(t=>t.hubFiles[e.hubFileId]),n=gc.mC(h2.ts.loadingKeyForPayload({hubFileId:e.hubFileId})),i=(0,ea._6)(),o=()=>{a(eY.Ce())};return(l.useEffect(()=>{r||a(h2.ts({hubFileId:e.hubFileId}))},[a,r,e.hubFileId]),n)?t&&(r||!n)?l.createElement(NB,{onClose:o,userEmail:t,onDuplicateClick:()=>{a(t9.b({signed_up_from_community:!0}));let t=NF.gE(e=>{a((0,eY.to)({type:NP._,data:{payload:e}}))},{isFreemiumPreview:e.isFreemiumPreview});o(),a(t(r)),new URLSearchParams(m.Ay.location.search).has(my._O)&&a(K.$T({...i,triggerFreemiumPreview:void 0}))}}):(o(),null):null},"ContinueAfterVerificationModal");var NV=a(186799),NH=a(472503);function NW(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.fileImport.step),r=(0,NV.B2)().unwrapOr(!1),[n,i]=l.useState(!1),o=l.useCallback(()=>i(!0),[]),c=l.useCallback(()=>i(!1),[]),d=l.useCallback(e=>{i(!1),r&&t((0,NV.b6)({dataTransfer:e}))},[t,r]);return l.createElement(H.Y,{className:S.cx.flex.flexColumn.$,isDragTarget:NV.al,onTargetDragEnter:o,onTargetDragLeave:c,onTargetDrop:d},e.children,r&&l.createElement(Nj,{step:a,dragging:n}))}function Nj({step:e,dragging:t}){switch(e){case NH.Y5.CONFIRM_PDF_IMPORT:return null;case NH.Y5.START:case NH.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case NH.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return l.createElement("div",{className:t?"file_browser_drop_zone--dragTargetDragging--giyPY file_browser_drop_zone--dragTargetNormal--TOR0f":"file_browser_drop_zone--dragTargetNormal--TOR0f"});default:(0,x.xb)(e)}}let N$="file_browser_view--filebrowserHtml--v2BLN",NG="file_browser_view--filebrowserBody--6MX2i",NY="file_browser_view--desktop--5VrC1";function Nz(){let e=(0,s.wA)(),t=(0,eX.dq)(),a=(0,et.Um)(),r=(0,e1.iZ)(),n=(0,s.d4)(e=>e.userFlags),i=(0,ea._6)(),o=xG.q.useIsLoading(),x=(0,s.d4)(e=>e.payment),N=(0,s.d4)(e=>e.currentTeamId),S=(0,tk.d)();!function(){let e=(0,s.Pj)(),t=l.useMemo(()=>(0,dk.g)(),[]),a=(0,nf.Rs)(nE.__y,{cacheNonce:t});l.useEffect(()=>{if("loaded"===a.status&&a.data.currentUser.assetTransferReload.status===tP.tT.Loaded){let t=(0,tP.oA)(a.data.currentUser.assetTransferReload);if(!t)return;let r=p.Ay().user_data?.id,n=e.getState(),i="folder"===n.selectedView.view&&n.selectedView.folderId===t.folderId,o="team"===n.selectedView.view&&n.selectedView.teamId===t.teamId,l="folder"===n.selectedView.view&&n.folders[n.selectedView.folderId],s=l&&l.team_id===t.teamId,c=t.folderId?i:o||s,d={view:"folder",folderId:t.folderId||""},m={view:"team",teamId:t.teamId||"",teamViewTab:eA.A$.HOME};if(r&&t.userId===r){let a={userId:t.userId,orgId:t.destOrgId},r=t.folderId?d:m;if(c){let n=t.folderId?(0,k.t)("realtime.asset_reload.project_has_been_transferred_redirecting"):(0,k.t)("realtime.asset_reload.team_has_been_transferred_redirecting");e.dispatch(a0.F.enqueue({message:n})),setTimeout(()=>{e.dispatch(q._l({workspace:a,view:r}))},2e3)}else e.dispatch(K.Dl({now:!0}))}}},[e,a])}(),(0,u.h)(()=>{r&&e(x8.Jw())}),(0,f.IT)((0,NA.XZ)({currentOrgId:t??void 0,currentTeamId:N??void 0,fileTags:["figjam_template","figma_basics"]}),{enabled:(0,p.kc)().create_starter_files_from_file_browser&&iI.Gn.includes(i.view)});let[L,A]=l.useState(0),[R,F]=l.useState(0),[P,O]=l.useState(!1);(0,u.h)(()=>(document.body.classList.add(NG),document.documentElement.classList.add(N$),(0,sg.OS)(e),(0,tN.I0)(i,t,N,S),(0,h.hW)("exp_aa_test_file_browser_view").catch(g.lQ),"communityHub"===i.view&&function(e,t){let a=t.figjam_editor_onboarded||(0,NO._q)(t)||t.editor_community_duplicate_onboarded||t.orgs_onboarded||t.welcome_onboarded,r=(0,Tk.QL)("after-auth-duplicate-file-id"),n=(0,Tk.QL)("show_eula");r&&(n?e((0,eY.to)({type:ND.F,data:{hubFileId:r}})):a||e((0,eY.to)({type:NU,data:{hubFileId:r}})))}(e,n),()=>{document.body.classList.remove(NG),document.documentElement.classList.remove(N$),e(eY.AS())})),l.useEffect(()=>{if(d.eD||(0,c.ce)()){let e=document.createElement("div");return e.classList.add("file_browser_view--desktopBackground--kte3I"),document.body.appendChild(e),document.body.classList.add(NY),()=>{document.body.classList.remove(NY),document.body.removeChild(e)}}},[]);let D=(0,_.ZC)(i);l.useEffect(()=>{D&&D!==i&&((0,NR.SW)(D,i)&&window.scrollTo(0,0),P?O(!1):(A(R+1),F(R+1)))},[D,i,P,R]),l.useEffect(()=>{"teamCreation"===i.view&&i.fromNewTab&&e(q.Dw({previousView:i.previousView,onSubmitReturnToPrevView:i.onSubmitReturnToPrevView,isEduTeam:i.isEduTeam}))},[i,e]);let M=(0,iy.d9)(i),B=E.g3&&!(0,p.kc)().file_browser_enable_mweb&&!M,U=(E.uG&&(0,p.kc)().file_browser_enable_mweb||E.mZ)&&!M;if("teamUpgrade"===i.view)return i.paymentStep===xX.tn.UPGRADE_NEW_TEAM?l.createElement(NL,{selectedView:i}):(0,p.kc)().campfire_cart?l.createElement(y.q,{selectedView:i}):l.createElement(b.h,{selectedView:i});if("addAnnualPlan"===i.view)return l.createElement(NN,{selectedView:i});if("teamCreation"===i.view)return i.fromNewTab?null:l.createElement(Nu,{selectedView:i});if("addCollaborators"===i.view)return l.createElement(x0,{selectedView:i});if("orgSelfServe"===i.view){let e=(0,p.kc)().campfire_cart?w.G:T.N;return l.createElement(e,{step:i.step||bC.X1.Initial,initialDesignSeats:i.initialDesignEditors||0,orgMigrated:!!i.orgMigrated,dropdownShown:a,newTeamProps:i.newTeamProps,upsellSource:i.upsellSource})}if("teamRestore"===i.view)return l.createElement(Ng,{selectedView:i});if("promoReview"===i.view)return l.createElement(I.z,{promo:x?.promo,selectedView:i});else if("eduReview"===i.view)return l.createElement(C.w,{selectedView:i});if(!r){let{content:e}=vm(i);return e?m.Ay.reload("Logged-out Community Hub"):(console.error(`Signed out page: unrecognized route ${m.Ay.location.pathname}, redirecting to /`),m.Ay.redirect("/")),null}if((0,p.kc)().ps_benchmark&&!t&&!N)return console.error("No current organization or team plan set for user. Redirecting to /files"),m.Ay.redirect("/files"),null;let V=B&&l.createElement(v.R,{userIdForTracking:r?.id,renderBlockingPrompt:!0});return l.createElement(Na.C.Provider,{value:{goBack:()=>{R>0&&(history.back(),F(R-1),O(!0))},goForward:()=>{R<L&&(history.forward(),F(R+1),O(!0))},canGoBack:R>0,canGoForward:R<L}},B?V:l.createElement(l.Fragment,null,U&&l.createElement(v.R,{userIdForTracking:r?.id}),l.createElement(NW,null,l.createElement(x7,null),l.createElement(Ni,null),l.createElement(xH,{showingFileBrowserLoader:o}))))}},70356:(e,t,a)=>{a.r(t),a.d(t,{FileImportModal:()=>q,FileRow:()=>ee,ImportModal:()=>X,fileImportStats:()=>J});var r=a(411855),n=a(188507),i=a(67151),o=a(504440),l=a(902008),s=a(880112),c=a(320564),d=a(953200),m=a(139689);let u=(0,r.memo)(function(e){return r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 1 1 0v1a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 10.5v-5A1.5 1.5 0 0 1 5.5 4h1a.5.5 0 0 1 0 1zm4.793 0H8.5a.5.5 0 0 1 0-1H12v3.5a.5.5 0 0 1-1 0V5.707L8.854 7.854a.5.5 0 1 1-.708-.708z",clipRule:"evenodd"}))});var _=a(776250),p=a(517333),f=a(794272),g=a(915440),E=a(799569),h=a(946689),v=a(62342),y=a(493323),b=a(355819),w=a(46481),T=a(901536),I=a(939863),C=a(501114),x=a(342103),N=a(21584),S=a(662275),k=a(101505),L=a(672517),A=a(396226),R=a(875847),F=a(724081),P=a(132135),O=a(99506),D=a(279453),M=a(707465),B=a(300874),U=a(472503),V=a(851363),H=a(585878),W=a(449731),j=a(168111),$=a(696849),G=a(600851),Y=a(244510),z=a(227998),Q=a(882167),K=a(737891);function q(){let e=(0,n.wA)(),{fileImport:t}=(0,f.R)(e=>({fileImport:e.fileImport})),a=()=>{e(S.Ce()),e(F.cY())},o=()=>{e(F.yD())},l=()=>{e(F.cY())},s=(()=>{switch(t.step){case U.Y5.CONFIRM_PDF_IMPORT:return r.createElement(j.PdfConfirmationModal,{fileImportDescription:(0,I.tx)("file_browser.file_import_view.select_pdf_source_description",{pdfCount:J(t).pdfCount}),onConfirm:t=>{e(F._9(t))},onCancel:()=>{e(F.AU()),o()}});case U.Y5.START:case U.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case U.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return r.createElement(X,{fileImport:t,onDone:a,onCancel:o,onMoveToProject:l});default:(0,i.xb)(t.step)}})();return r.createElement(L.fu,{name:"import_progress_modal"},s)}let Z=(0,L.tf)(o.$n);function X({fileImport:e,onDone:t,onCancel:a,onMoveToProject:i}){let o,c,d;let m=(0,n.wA)(),u=(0,n.d4)(e=>{if("folder"===e.selectedView.view){let t=e.selectedView.folderId&&e.folders[e.selectedView.folderId]?.team_id;if(null!=t)return e.teams[t]}return null}),f=J(e),v=(0,n.d4)(e=>e.selectedView),C=(0,N.I)(),L=0===f.remainingFiles,F=(0,n.d4)(e=>"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null),P=(0,R.Gi)(F),O=(0,M.YJ)(v);!function(e){let t=(0,r.useCallback)(e=>{e.preventDefault()},[]);(0,r.useEffect)(()=>(e&&(window.addEventListener("beforeunload",t),p.eD?.setIsImporting(!0)),()=>{window.removeEventListener("beforeunload",t),p.eD?.setIsImporting(!1)}),[e,t])}(!L);let U=F?.name||(0,I.t)("file_browser.tool_bar.drafts"),j=L?(0,I.t)("file_browser.file_import_view.imported_to_folder",{folderName:U}):(0,I.t)("file_browser.file_import_view.import_to_folder",{folderName:U}),{statusIcon:$,statusMessage:z,statusMessageSecondary:Q}=(o=null,c=null,d=null,L?f.importedFiles===f.totalFiles?(c=r.createElement("div",{className:T.cx.fontSemiBold.inline.$},(0,I.tx)("file_browser.file_import_view.file_import_all_succeeded",{totalFiles:f.totalFiles,folder:U})),o=r.createElement(w.U,{svg:G.A,className:T.cx.colorIcon.$,dataTestId:"checkIcon"},r.createElement(l.l,null))):(c=r.createElement("div",{className:T.cx.fontSemiBold.inline.$},(0,I.tx)("file_browser.file_import_view.file_import_progress_to_folder",{importedFiles:f.importedFiles,totalFiles:f.totalFiles,folder:U})),o=r.createElement(w.U,{svg:Y.A,className:T.cx.colorIcon.$,dataTestId:"warningIcon"},r.createElement(s.R,null)),f.canceledFiles>0&&(d=(0,I.tx)("file_browser.file_import_view.file_import_cancel"))):(o=r.createElement(y.kt,{imageBacked:!0,testId:"loadingSpinner"}),c=(0,I.tx)("file_browser.file_import_view.file_import_progress",{processedFiles:f.processedFiles,totalFiles:f.totalFiles}),d=r.createElement("span",{className:T.cx.textBodyMedium.$},(0,I.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:r.createElement(h.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink"},(0,I.tx)("file_browser.file_import_view.open_a_new_tab_link"))}))),{statusIcon:o,statusMessage:c,statusMessageSecondary:d}),K=C&&(P||O)&&f.importedFiles>=1,q=(0,r.useMemo)(()=>(function(e,t){let a=[];if(!e)return a;for(let e of Object.values(t))e.fileKey&&a.push({fileKey:e.fileKey});return a})(K,e.files),[K,e.files]),X=(0,g.p)(D.NSA,q),et=function({isImportComplete:e,fileImport:t,onDone:a,team:n,dispatch:i,stats:o,shouldShowMoveToProjectButton:l,onMoveToProject:s,filesToMove:c,onCancel:d}){var m;if(!e)return[r.createElement(Z,{variant:"destructive",onClick:d,htmlAttributes:{"data-testid":"cancelButton"},key:"cancelButton"},(0,I.tx)("file_browser.file_import_view.cancel"))];if(t.failedOnFileLimit)return[r.createElement(Z,{variant:"primary",onClick:()=>{a(),null!=n&&i((0,S.to)({type:W.DV,data:{team:n,resource:B.vL.FILE,action:V.ZN.IMPORT_FILES,editorType:o.editorType,multipleResources:o.failedFiles>1,currentPlan:A.F.Plan.STARTER,upsellPlan:A.F.Plan.PRO}}))},htmlAttributes:{"data-testid":"nextButton"},key:"nextButton"},(0,I.tx)("file_browser.file_import_view.next"))];let u=[(m=l?"secondary":"primary",r.createElement(Z,{variant:m,onClick:a,htmlAttributes:{"data-testid":"doneButton"},key:"doneButton"},(0,I.tx)("file_browser.file_import_view.done")))];return l&&u.push(function({onMoveToProject:e,filesToMove:t,stats:a,dispatch:n}){return r.createElement(Z,{variant:"primary",onClick:()=>{e(),(0,_.sx)("file_import.move_to_project.button_clicked",{numFiles:a.importedFiles}),1===t.length&&t[0]?(0,x.hd)(t[0],null,n,void 0,{},void 0,!1,void 0,!0):(0,x.OB)(t,[],n,!0)},htmlAttributes:{"data-testid":"moveToProjectButton"},key:"moveToProjectButton"},(0,I.tx)("file_browser.file_import_view.move_to_project"))}({onMoveToProject:s,filesToMove:c,stats:o,dispatch:i})),u}({isImportComplete:L,fileImport:e,onDone:t,team:u,dispatch:m,stats:f,shouldShowMoveToProjectButton:K,onMoveToProject:i,filesToMove:(0,r.useMemo)(()=>(function(e){let t=[];for(let a of e){let e=a.result.data?.file;e&&t.push({key:e.key,name:e.name,folder_id:e.folderId,team_id:e.teamId,editor_type:e.editorType,is_team_template:e.isTeamTemplate,parent_org_id:e.parentOrgId})}return t})(X),[X]),onCancel:a});return r.createElement(H.XV,{title:j,maxWidth:480,headerClassName:T.cx.pl16.$,disableClickOutsideToHide:!L,isCloseHidden:!0,customButton:r.createElement(E.Jn,{onClick:e.queue.length?a:t,trackingProperties:{trackingDescriptor:k.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}})},e&&r.createElement(b.P,{innerClassName:T.cx.flex.flexColumn.py4.$,className:"file_import_modal--scrollContainer--rcZDu"},Object.values(e.files).map(e=>r.createElement(ee,{key:`file-import-${e.id}`,file:e}))),r.createElement("div",{className:T.cx.flex.flexRow.justifyBetween.p8.pr12.gap16.bt1.bSolid.colorBorder.$},r.createElement("div",{className:T.cx.flex.flexRow.itemsCenter.gap8.$},$&&r.createElement("div",{className:T.cx.flex.itemsCenter.justifyCenter.h32.w32.$},$),z&&r.createElement("span",{className:T.cx.fontSemiBold.$},z),Q&&r.createElement("span",{className:T.cx.ml8.$},Q)),r.createElement("div",{className:T.cx.flex.gap8.$},et)))}function J(e){let t=Object.keys(e.files).length,a=e.queue.length,r=0,n=0,o=0,l=0,s=0,c=new Set;for(let t in e.files){let a=e.files[t];if(a){switch(a.status){case U.mO.SUCCESS:case U.mO.WARNING:r++;break;case U.mO.CANCELED:n++;break;case U.mO.FAILURE:o++;break;case U.mO.WAITING:case U.mO.BUSY:case U.mO.PENDING_BLOB:l++;break;default:(0,i.xb)(a.status)}(0,U.rD)(a.name)?(c.add(O._Y.WHITEBOARD),(0,U.kI)(a.name)&&s++):(0,U.OL)(a.name)||c.add(O._Y.DESIGN)}}return{totalFiles:t,remainingFiles:a,processedFiles:t-a,importedFiles:r,canceledFiles:n,failedFiles:o,pendingFiles:l,editorType:1!==c.size?null:c.values().next().value,pdfCount:s}}function ee(e){let{file:t}=e,a=null;switch(t.status){case U.mO.BUSY:case U.mO.WAITING:case U.mO.PENDING_BLOB:a=r.createElement(y.kt,{imageBacked:!0,testId:"fileRowLoadingSpinner"});break;case U.mO.SUCCESS:case U.mO.WARNING:a=(0,U.rD)(t.name)?r.createElement(w.U,{svg:K.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figJamFileIcon"},r.createElement(c.D,null)):(0,U.OL)(t.name)?r.createElement(v.oS,{type:v.y1.SLIDES,size:v.LE.SMALL}):r.createElement(w.U,{svg:Q.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figmaDesignFileIcon"},r.createElement(d.z,null));break;case U.mO.FAILURE:case U.mO.CANCELED:a=r.createElement(w.U,{svg:z.A,className:T.cx.colorIconDanger.$,dataTestId:"failIcon"},r.createElement(m.A,{className:T.cx.colorIconDanger.$}));break;default:(0,i.xb)(t.status)}let n=null;return t.status===U.mO.CANCELED?n=(0,I.tx)("file_browser.file_import_view.file_row_import_cancel"):t.message&&(n=Array.isArray(t.message)?t.message.map((e,t)=>r.createElement("div",{key:t,className:T.cx.if(t>0,T.cx.ml8).$},e)):t.message),r.createElement(et,{status:t.status,fileKey:t.fileKey},r.createElement("div",{className:T.cx.flex.itemsCenter.justifyBetween.flex1.pl8.pr16.textBodyMedium.$},r.createElement("div",{className:T.cx.flex.gap8.if(n,T.cx.itemsStart,T.cx.itemsCenter).$},r.createElement("div",{className:T.cx.flex.justifyCenter.h32.w32.itemsCenter.$},a),r.createElement("div",{className:T.cx.if(n,T.cx.py6).$},r.createElement("div",{className:T.cx.truncate.$,style:C.sx.add({maxWidth:"384px"}).$,"data-tooltip":t.name,"data-tooltip-type":"text"},t.name),n&&r.createElement("div",{className:T.cx.flex.itemsCenter.mt4.colorTextSecondary.$},n,t.cta&&r.createElement(h.Us,{className:T.cx.colorTextSecondary.underline.ml8.$,role:"button",onClick:t.cta.action,trusted:!0,"data-testid":"ctaLink"},t.cta.text))))))}function et(e){let{fileKey:t,status:a,children:n}=e;if(a!==U.mO.SUCCESS&&a!==U.mO.WARNING)return n;let i=t?(0,P.jN)({file:{key:t}}):void 0;return i?r.createElement(h.Ph,{href:i,target:"_blank",trusted:!0,className:"file_import_modal--fileRowWrapperLink--3JOhD","data-testid":"fileLink",trackingProperties:{action:"Import Modal - File Link Clicked"}},n,r.createElement(w.U,{svg:$.A,className:T.cx.flex.alignCenter.colorIconSecondary.mr16.$},r.createElement(u,null))):n}},591811:(e,t,a)=>{a.r(t),a.d(t,{FileRestoreFromVersionModal:()=>g});var r=a(411855),n=a(188507),i=a(776250),o=a(946689),l=a(355819),s=a(939863),c=a(944682),d=a(662275),m=a(928491),u=a(236192),_=a(585878);let p="file_restore_from_version_modal--fileRestoreText--my8Lq";function f(e){let t=e.version;return r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreRow--ZAJ4y"},r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreDecoration--ZXtyF"},t.user&&r.createElement(m.Ro,{className:"file_restore_from_version_modal--fileRestoreAvatar--Ub3UH",size:30,entity:{img_url:t.user.img_url}}),e.connector&&r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreConnector--mhORY"})),r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreData--AQgSJ"},t.label&&r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreLabel--a6Shk ellipsis--ellipsis--Tjyfa"},t.label||""),t.description&&r.createElement("div",{className:p},t.description),r.createElement("div",{className:p},r.createElement(u.Cr,{time:t.touched_at})),r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreUser--Bv60C"},t.user?t.user.handle:"")),r.createElement(o.N_,{onClick:e.callback,className:"file_restore_from_version_modal--fileRestoreAction--414BR",trusted:!0},(0,s.tx)("file_restore_from_version_modal.restore")))}function g(e){let t=(0,n.wA)(),a=a=>{(0,i.sx)("restore_version_from_modal",{fileKey:e.fig.key,versionId:a}),t(d.Ce()),t(c.PF({fileKey:e.fig.key,versionId:a}))},o=e.versions.filter(e=>!e.disabled);return r.createElement(_.XV,{title:(0,s.t)("file_restore_from_version_modal.restore_from_version_history"),maxWidth:396,onClose:()=>{t(d.Lo())}},r.createElement("div",{className:"file_restore_from_version_modal--fileRestorePanel--pMNT2"},r.createElement(l.P,{width:396},o.map((e,t)=>r.createElement(f,{key:e.id,version:e,callback:()=>a(e.id),connector:t+1!==o.length})))))}},168111:(e,t,a)=>{a.r(t),a.d(t,{PdfConfirmationModal:()=>h});var r=a(411855),n=a(67151),i=a(383112),o=a(504440),l=a(887681),s=a(902237),c=a(256296),d=a(299321),m=a(799569),u=a(901536),_=a(939863),p=a(101505),f=a(672517),g=a(585878);let E=(0,f.tf)(o.$n);function h({fileImportDescription:e,onConfirm:t,onCancel:a}){let[o,f]=(0,r.useState)(void 0),h=(0,r.useCallback)(e=>{f(e)},[]),v=(0,r.useCallback)(()=>{o&&t(d.h62[o])},[t,o]),y=(0,r.useMemo)(()=>{let e=(0,i.U)(d.h62).map(e=>({key:e,value:d.h62[e],label:function(e){switch(e){case d.h62.MIRO:return"Miro";case d.h62.MURAL:return"Mural";case d.h62.LUCID:return"Lucid";case d.h62.UNKNOWN:return(0,_.t)("file_browser.file_import_view.select_pdf_source_input_unknown_value");default:(0,n.xb)(e)}}(e)}));return e.sort((e,t)=>e.key===t.key?0:e.key===d.h62.UNKNOWN?1:t.key===d.h62.UNKNOWN?-1:e.label.localeCompare(t.label)),e},[]);return r.createElement(g.XV,{title:(0,_.t)("file_browser.file_import_view.select_pdf_source_header"),minWidth:480,maxWidth:480,disableClickOutsideToHide:!0,isCloseHidden:!0,customButton:r.createElement(m.Jn,{onClick:a,trackingProperties:{trackingDescriptor:p.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}})},r.createElement("div",{className:u.cx.flex.flexColumn.p16.gap16.textBodyMedium.$},r.createElement("div",null,e),r.createElement("form",{className:u.cx.mb8.$},r.createElement(l.b,{legend:r.createElement(s.q,null,(0,_.tx)("file_browser.file_import_view.select_pdf_source_input_legend")),value:o,onChange:h},y.map(e=>r.createElement(l.c,{key:e.key,value:e.value,label:r.createElement(c.J,{className:u.cx.textBodyMedium.$},e.label)},e.key===d.h62.UNKNOWN&&(0,_.tx)("file_browser.file_import_view.select_pdf_source_input_unknown_disclaimer"))))),r.createElement("div",{className:u.cx.flex.flexColumn.itemsEnd.$},r.createElement(E,{variant:"primary",disabled:!o,onClick:v},(0,_.tx)("modal.confirm")))))}},742743:(e,t,a)=>{a.r(t),a.d(t,{RevokeProjectTransferModal:()=>c});var r=a(411855),n=a(188507),i=a(901536),o=a(939863),l=a(662275),s=a(585878);function c({pending:e,canTransferProject:t,onRevokeTransfer:a}){let c=(0,n.wA)(),d=(0,o.t)("revoke_transfer_modal.header_title");return r.createElement(s.Eo,{title:d,onConfirm:()=>{a(),c(l.Lo())},fixedTop:!0,destructive:!0,cancelText:(0,o.t)("revoke_transfer_modal.go_back"),confirmText:(0,o.t)("revoke_transfer_modal.revoke"),disabled:!t,onClose:()=>{c(l.Lo())},maxWidth:396,minWidth:344},r.createElement("div",{className:i.cx.p8.$},r.createElement("div",null,e.is_transfer_copy?(0,o.tx)("revoke_transfer_modal.transfer_copy_details",{sourceUserEmail:e.source_user_email,destinationUserEmail:e.destination_user_email}):(0,o.tx)("revoke_transfer_modal.transfer_details",{sourceUserEmail:e.source_user_email,destinationUserEmail:e.destination_user_email})),r.createElement("div",null,r.createElement("br",null),(0,o.tx)("revoke_transfer_modal.function_explanation"))))}},337424:(e,t,a)=>{a.r(t),a.d(t,{FolderUpdateDescriptionModal:()=>s});var r=a(411855),n=a(188507),i=a(939863),o=a(270056),l=a(353265);function s({folder:e}){let t=(0,n.wA)();return r.createElement(l.c,{initialName:e.description??"",title:(0,i.t)("resource_rename_modal.edit_description"),placeholder:"",submitText:(0,i.t)("resource_rename_modal.save"),onRename:a=>t(o.ub({folderId:e.id,description:a.trim()})),allowEmptyString:!0,maxLength:200})}},388654:(e,t,a)=>{a.r(t),a.d(t,{FOLDER_TEAM_ACCESS_CHANGE_DROPDOWN:()=>er,FolderCreationModal:()=>ea,FolderTeamAccessRow:()=>en});var r=a(411855),n=a(188507),i=a(133537),o=a(966712),l=a(915440),s=a(268537),c=a(946689),d=a(493323),m=a(163023),u=a(939863),_=a(694443),p=a(738269),f=a(270056),g=a(662275),E=a(672517),h=a(385111),v=a(860178),y=a(99506),b=a(279453),w=a(623746),T=a(643067),I=a(243987),C=a(147206),x=a(297536),N=a(389643),S=a(206193),k=a(668860),L=a(501256),A=a(143678),R=a(764299),F=a(320063),P=a(374626),O=a(901536),D=a(456104),M=a(582947),B=a(397065),U=a(340514),V=a(864114),H=a(493364),W=a(463546);let j=(0,M.r1)("seen_sharing_clarity_project_modal_overlay"),$="sc_project_creation_permission_onboarding_key";function G(){let e=(0,P.md)(j),{show:t,isShowing:a,complete:n}=(0,D.e)({overlay:W.QpH,priority:B.N.DEFAULT_MODAL},[e]);(0,F.h)(()=>{t({canShow:e=>!e})});let i=r.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/360038006494-Create-a-new-project",className:O.cx.colorTextOnbrand.underline.$},(0,u.tx)("rcs.sharing_clarity.learn_more"));return r.createElement(U.rq,{isShowing:a,title:(0,u.tx)("rcs.sharing_clarity.project_creation_permissions_title"),description:r.createElement("p",null,(0,u.tx)("rcs.sharing_clarity.project_creation_permissions_description",{learnMoreLink:i})),trackingContextName:"Sharing Clarity Project Creation Permission Onboarding",onClose:n,targetKey:$,arrowPosition:H.F_.LEFT_TITLE,zIndex:V.R.MODAL,emphasized:!0,disableHighlight:!0})}var Y=a(988722),z=a(585878),Q=a(24791),K=a(561916),q=a(268787),Z=a(479842),X=a(816985);let J="folder_creation_modal--sectionHeader--EcWYc text--fontPos11--2LvXf text--_fontBase--QdLsd";var ee=a(289298),et=a(562128);function ea(e){let t=(0,n.wA)(),[a,s]=r.useState(""),[m,_]=r.useState(!1),[I,F]=r.useState(0),[P,O]=r.useState(y.eD.TEAM_ACCESS_EDIT),D=h.h.useTrackingContext({trigger:S.b.FOLDER_CREATION_MODAL}),M=(0,n.d4)(e=>e.contacts),B=(0,n.d4)(e=>e.dropdownShown),U=(0,n.d4)(e=>e.autocomplete),V=(0,v.iZ)(),H=(0,l.Rs)(b.mCn,{teamId:e.teamId}),W=(0,o.kc)().sc_workspace_audience,j=r.useMemo(()=>{if("loading"===H.status||!H.data)return null;let t=H.data.team;if(!t)return null;let a="loaded"===t.workspace.status?t.workspace.data:void 0;return{team:{id:e.teamId,name:t.name,imgUrl:t.imgUrl,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:t.gracePeriodEnd,restrictions_list:t.restrictionsList,canAdmin:t.canAdmin,canEdit:t.canEdit,sharing_audience_control:t.sharingAudienceControl},org:t.org&&{id:t.org.id,name:t.org.name,img_url:t.org.imgUrl,org_domains:(0,w.vy)(t.org.orgDomains),domain_capture:t.org.domainCapture,invite_whitelist_guest_invite_setting:t.org.inviteWhitelist?.guestInviteSetting}||null,orgUser:t.org&&t.org.currentBaseOrgUser,workspace:a}},[H,e.teamId]),Y=j&&j.team,Q=j&&j.org,X=Q&&Q.org_domains?Q.org_domains:{domains:[],isFetching:!1,fetchedAt:null},ee=r.useCallback(()=>Y&&Y.sharing_audience_control!==y.PQ.ORG_EDIT&&Y.sharing_audience_control!==y.PQ.ORG_VIEW?Y.sharing_audience_control===y.PQ.WORKSPACE_EDIT||Y.sharing_audience_control===y.PQ.WORKSPACE_VIEW?K._9.WORKSPACE:K._9.INVITE_ONLY:K._9.ORG,[Y]),et=r.useCallback(()=>Y&&(Y.sharing_audience_control===y.PQ.ORG_EDIT||Y.sharing_audience_control===y.PQ.WORKSPACE_EDIT)?K.J4.EDIT:K.J4.VIEW,[Y]),[ea,er]=r.useState(ee()),[ei,eo]=r.useState(et()),[el,es]=r.useState(k.e6.EDITOR);r.useEffect(()=>{er(ee()),eo(et())},[ee,et]);let ec=()=>{1===I?F(0):(t(g.Lo()),t(p.bx()))},ed=e=>(0,x.t9)(e,Q,X),em=e=>(0,x.yI)(e,M.usersByEmail[e]||e,Q,X,V.email),eu=()=>Q&&Q.domain_capture&&X.domains.length>0?(0,L.Z)(U).filter(e=>(0,i.xf)(e)&&!(0,T.H_)(X.domains,e)):[],e_=e=>{if(Q&&Q?.invite_whitelist_guest_invite_setting==null&&e.length>0){t((0,g.to)({type:Z.F,data:{emails:e,onConfirm:()=>{ep()},popStack:!0,orgName:Q.name}}));return}},ep=()=>{let r;ea===K._9.ORG?r=ei===K.J4.EDIT?y.PQ.ORG_EDIT:y.PQ.ORG_VIEW:ea===K._9.WORKSPACE?r=ei===K.J4.EDIT?y.PQ.WORKSPACE_EDIT:y.PQ.WORKSPACE_VIEW:ea===K._9.INVITE_ONLY&&(r=y.PQ.INVITE_ONLY),t(f.vt({shouldRedirect:!e.modalShown,name:a.trim(),teamId:e.teamId,isInviteOnly:void 0,isViewOnly:void 0,sharingAudienceControl:Q?r:void 0,teamAccess:P,inviteEmails:(0,L.Z)(U),inviteLevel:el,orgId:Q?.id,onFolderCreated:e.onFolderCreated}))};return r.createElement(E.fu,{name:A.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:Y?.id,...D}},r.createElement(z.XV,{title:0===I?(0,u.t)("project_creation.create_project"):(0,u.t)("project_creation.add_people_to_project_name",{projectName:a}),onClose:ec,maxWidth:468},j?r.createElement("div",{className:"folder_creation_modal--modalContainer--DmgME"},0===I?r.createElement(r.Fragment,null,r.createElement("div",{className:J},(0,u.t)("project_creation.name")),r.createElement(c.ks,{className:"folder_creation_modal--folderNameInput--Lcn4c",onChange:e=>s(e.target.value),onFocus:()=>_(!0),onBlur:()=>_(!1),value:a,autoFocus:!0,required:!0,maxLength:c.wG,minLength:1,placeholder:(0,u.t)("project_creation.ex_growth_experiments"),"aria-label":(0,u.t)("project_creation.project_name")}),0===a.trim().length&&!m&&r.createElement("div",{className:"folder_creation_modal--inputErrorMessage--AGzQC"},(0,u.t)("project_creation.project_name_empty")),Q&&Y&&r.createElement(r.Fragment,null,r.createElement("div",{className:J,"data-onboarding-key":$},(0,u.t)("project_creation.who_has_access")),r.createElement(G,null),r.createElement(K.YU,{resourceType:y.vt.FOLDER,value:ea,onChange:er,org:Q,team:Y,audienceAccessLevel:ei,workspace:W?j.workspace:void 0}),ea!==K._9.INVITE_ONLY&&r.createElement(r.Fragment,null,r.createElement("div",{className:J},(0,u.t)("folder_permissions_modal.what_they_can_do")),r.createElement(K.Iz,{selectedPermissionsLevel:ei,setSelectedPermissionsLevel:eo}),r.createElement("div",{className:"folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd"},ei===K.J4.VIEW?(0,u.t)("project_creation.can_view_and_comment"):(0,u.t)("project_creation.can_create_and_edit_files"))))):(()=>{let e=Q?Q.id:null,a=j&&j.orgUser,n=[k.e6.EDITOR,k.e6.VIEWER];return r.createElement("div",{className:"folder_creation_modal--stepTwoContainer--7Oi4o"},r.createElement(R.e,{autocomplete:U,dispatch:t,dropdownShown:B,dropdownKey:"permissions-invite-dropdown",inviteLevel:el,onInviteLevelChange:es,getSelectText:C.C1,options:n,searchResultToken:ed,fetchAsyncSearchResults:t=>(0,N.Wj)(t,M.usersByEmail,V,[],e,null,null,a?.permission===y._D.GUEST),searchResults:e=>(0,N.Uj)(e,M.usersByEmail,V,[]),validateToken:em,TokenComponent:q.g,SearchResultComponent:q.o,joinLinkShown:!1,shouldAutoFocus:!0,placeholderText:(0,u.t)("team_creation.add_a_name_or_email")}),!(0,o.kc)().remove_access_row_in_folder_creation&&Y&&r.createElement(en,{team:Y,teamAccess:P,setTeamAccess:O,orgId:e}))})(),r.createElement("div",{className:"folder_creation_modal--bottomRow--CWsIx"},r.createElement("div",{className:"folder_creation_modal--footer--9Hie8 folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,u.tx)("project_creation.step_number_of_max_steps",{currentStep:I+1,maxSteps:2})),r.createElement("div",{className:"folder_creation_modal--buttons--6cjVs"},r.createElement(c.tM,{onClick:ec},0===I?(0,u.tx)("project_creation.cancel"):(0,u.tx)("project_creation.back")),r.createElement(c.vd,{onClick:()=>{if(0===I)F(1);else if(Q){let e=eu();e.length>0?e_(e):ep()}else ep()},disabled:0===I&&0===a.trim().length},0===I?(0,u.tx)("general.continue"):(0,u.tx)("project_creation.create_project"))))):r.createElement("div",{className:"folder_creation_modal--loading--9KmQd"},r.createElement(d.qc,null))))}let er="FOLDER_TEAM_ACCESS_CHANGE_DROPDOWN";function en(e){let t=t=>{(0,I.w5)(e.team)?e.setTeamAccess(t):(e.setTeamAccess(y.eD.TEAM_ACCESS_EDIT),t===y.eD.TEAM_ACCESS_VIEW?i((0,g.to)({type:Q.Ni,data:{team:e.team,editorType:null,upsellSource:S.b.FOLDER_CREATION_MODAL}})):i((0,g.to)({type:Q.Dp,data:{team:e.team,editorType:null,upsellSource:S.b.FOLDER_CREATION_MODAL}})))},a=r.createElement(_.n,{team:e.team,size:24,avatarSvg:et.A,opacity:e.teamAccess===y.eD.TEAM_ACCESS_DISABLED?"0.7":void 0}),i=(0,n.wA)(),o=(0,n.d4)(e=>e.dropdownShown),l=e.team.id&&e.team.canEdit,c=()=>o&&o.type===er,d=null,f={};return c()&&o.data&&o.data.position&&(f={...o.data.position}),r.createElement(r.Fragment,null,r.createElement("div",{className:X.xf},r.createElement("div",{className:"folder_creation_modal--teamAvatarContainer--KL-B-"},a),r.createElement("div",{className:X.$S},r.createElement("div",{className:X.yb},r.createElement("div",{className:e.teamAccess===y.eD.TEAM_ACCESS_DISABLED?"folder_creation_modal--teamNameFaded--ugwhq folder_creation_modal--teamName--P9n7q ellipsis--ellipsis--Tjyfa folder_creation_modal--fadedText--KyLSq":"folder_creation_modal--teamName--P9n7q ellipsis--ellipsis--Tjyfa"},e.team.name),r.createElement(r.Fragment,null,e.teamAccess===y.eD.TEAM_ACCESS_DISABLED&&l&&r.createElement("button",{className:X.KU,onClick:()=>t(y.eD.TEAM_ACCESS_EDIT)},(0,u.tx)("folder_access_row.give_access")),e.teamAccess!==y.eD.TEAM_ACCESS_DISABLED&&l&&r.createElement(r.Fragment,null,r.createElement("button",{ref:e=>{e&&(d=e)},onClick:()=>{if(c())i(p.oB());else if(d){let t=d.getBoundingClientRect(),a=e.teamAccess===y.eD.TEAM_ACCESS_VIEW;i(p.j7({type:er,data:{position:{top:t.top+-((a?1:0)*24),bottom:"auto",left:t.left,right:"auto"}}}))}},className:X.Lt,"data-onboarding-key":Y.I},r.createElement("span",null,e.teamAccess===y.eD.TEAM_ACCESS_VIEW?(0,u.t)("permissions.level_name.can_view"):(0,u.t)("permissions.level_name.can_access")),r.createElement("div",{className:X.Lo},r.createElement(m.B,{svg:ee.A}))),r.createElement(Y.S,null)),c()&&r.createElement(s.ms,{className:X.N1,style:{position:"fixed",...f}},r.createElement("div",{"data-testid":"folder-level-edit"},r.createElement(s.MM,{checked:e.teamAccess===y.eD.TEAM_ACCESS_EDIT,onClick:()=>t(y.eD.TEAM_ACCESS_EDIT)},(0,u.tx)("permissions.level_name.can_access"))),r.createElement("div",{"data-testid":"folder-level-view"},r.createElement(s.MM,{checked:e.teamAccess===y.eD.TEAM_ACCESS_VIEW,onClick:()=>t(y.eD.TEAM_ACCESS_VIEW)},(0,u.tx)("permissions.level_name.can_view"))),r.createElement(s.wv,null),r.createElement(s.c$,{onClick:()=>t(y.eD.TEAM_ACCESS_DISABLED)},(0,u.tx)("folder_access_row.remove"))))))))}},365879:(e,t,a)=>{a.d(t,{I:()=>m});var r=a(411855),n=a(188507),i=a(776250),o=a(939863),l=a(688083),s=a(451e3),c=a(945020),d=a(131750);function m(e){let t=(0,n.wA)(),a=r.useCallback(a=>{a.stopPropagation(),e.team.canEdit&&((0,i.sx)("New Folder",{trackingContext:e.trackingContextName}),t((0,l.SX)({where:s.Ah.FolderListView,team:{...(0,c.Ws)(e.team),canEdit:e.team.canEdit,canEditTeamContents:e.team.canEdit,canAdmin:e.team.canAdmin}})))},[t,e.team,e.trackingContextName]);return e.team.canEdit?r.createElement(d.f,{data_tooltip:(0,o.t)("sidebar.new_project"),data_onboarding_key:"new-project-icon",innerText:"Creates new project",onClick:a,isBackgroundTransparent:e.isBackgroundTransparent}):null}},49891:(e,t,a)=>{a.d(t,{Mv:()=>I,tG:()=>b});var r=a(411855),n=a(966712),i=a(498750),o=a(946689),l=a(901536),s=a(881388),c=a(939863),d=a(662275),m=a(720647),u=a(99506),_=a(820113),p=a(243987),f=a(265361),g=a(237870),E=a(488578),h=a(258933);function v(e){let t=r.useRef(null),[a,u]=r.useState(!1),[g,E]=r.useState(null),v=new _.vr(e.currency),y=!e.allowZeroSeats,b=e.numAnnualEditors,T=b>0,C=t=>{e.onNumAnnualEditorsChange(t)},x=r.createElement("button",{type:"button",className:h.J,"data-testid":`add-${e.editorType}-seats`,onClick:()=>u(!0)},(0,c.tx)("payments.step_pay.add_more_seats"));return r.createElement("div",{className:h.wD,key:`${e.editorType}-step-pay-row`,"data-testid":`${e.editorType}-step-pay-row`},r.createElement("div",null,r.createElement("div",{className:h.Uu},r.createElement("span",null,(0,c.tx)("payments.step_pay.editors_on_annual_plan.seat_rename",{numAnnualEditors:e.numAnnualEditors,numAnnualEditorsNumberOrInput:a?r.createElement(o.ks,{ref:t,className:h.jD,value:null==g?e.numAnnualEditors:g,onChange:e=>{E(e.target.value)},onBlur:()=>{let t=parseInt(g);if(!isNaN(t)){if(t<0)e.dispatch(s.s.error((0,c.t)("flash.no_negative_seats")));else if(0===t)y?e.dispatch(s.s.error((0,c.t)("flash.at_least_one_editor.seat_rename"))):C(0);else if(t>p.m){let t=r.createElement("a",{href:`mailto:${(0,n.W4)()}`},(0,c.tx)("flash.annual_plan.contact_support_link"));e.dispatch(s.s.error((0,c.tx)("flash.annual_plan.contact_support",{contactSupport:t,maxAnnualSubscriptions:p.m})))}else t>100?e.dispatch(d.to({type:I,data:{numAnnualEditors:t,onConfirm:()=>C(t)}})):C(t)}E(null),u(!1)},onKeyDown:e=>{let t=e.target;e.keyCode===i.Uz.ENTER?(e.preventDefault(),t.blur()):e.keyCode===i.Uz.ESCAPE&&u(!1)}}):e.numAnnualEditors,productType:(0,f.E)((0,m.vc)(e.editorType))}))),!a&&r.createElement("div",{className:l.cx.flex.flexColumn.gap4.$},e.editorBreakdown,r.createElement("p",{className:h.eK},(0,c.tx)("payments.step_pay.add_more_editors",{addMoreSeats:x})))),r.createElement(w,{amount:e.totalCost,lineItem:T?b>0?(0,c.t)("payments.step_pay.price_per_editor_12_months",{price:v.formatMoney(e.annualMonthlyCost,{showCents:!1}),editorString:(0,c.t)("payments.step_pay.num_editors.seat_rename",{numEditors:b})}):(0,c.t)("payments.step_pay.none_selected"):void 0,shouldShowAmount:e.numAnnualEditors>0,currency:e.currency}))}function y(){return r.createElement("div",{className:h.me})}function b(e){let{numAnnualDesignEditors:t,numAnnualWhiteboardEditors:a,isTeamPro:n,totalDesignEditors:i,totalWhiteboardEditors:o,monthlyDesignAmount:l,monthlyFigjamAmount:s,annualMonthlyDesignAmount:d,annualMonthlyFigjamAmount:m}=e,_=i-t,p=t*d*12+(!n&&_>0?_*l:0),f=o-a,g=a*m*12+(!n&&f>0?f*s:0);return r.createElement("div",null,r.createElement(v,{dispatch:e.dispatch,editorType:u._Y.DESIGN,onNumAnnualEditorsChange:e.onNumAnnualDesignEditorsChange,numAnnualEditors:t,allowZeroSeats:0!==a,currency:e.currency,totalCost:p,annualMonthlyCost:d}),r.createElement(v,{dispatch:e.dispatch,editorType:u._Y.WHITEBOARD,onNumAnnualEditorsChange:e.onNumAnnualWhiteboardEditorsChange,numAnnualEditors:a,allowZeroSeats:0!==t,currency:e.currency,totalCost:g,annualMonthlyCost:m}),r.createElement(y,null),r.createElement("div",{className:h.wD},r.createElement("div",{className:h.YK},(0,c.tx)("payments.step_pay.subscription")),r.createElement(T,{amount:p+g,plusTax:!0,dataTestId:"subscription-total-cost",currency:e.currency})))}function w(e){let t=new _.vr(e.currency);return r.createElement("div",{className:h.R6},e.shouldShowAmount?t.formatMoney(e.amount,{showCents:!1}):"--",r.createElement("div",{className:l.cx.flex.flexColumn.gap4.$},e.lineItem&&r.createElement("div",{className:h.eK},e.lineItem)))}function T(e){let t=new _.vr(e.currency);return r.createElement("div",{className:h.X5},r.createElement("p",{className:h.IW,"data-testid":e.dataTestId},t.formatMoney(e.amount,{showCents:!1})),e.plusTax&&r.createElement("p",{className:h.B8},(0,c.tx)("payments.step_pay.plus_sales_tax")))}let I="confirm-seats-modal";function C(e){let t=e.modalShown.data.numAnnualEditors;return r.createElement(E.Rw,{confirmationTitle:(0,c.t)("payments.step_pay.thats_a_lot_of_seats",{numAnnualEditors:t}),onConfirm:e.modalShown.data.onConfirm,confirmText:(0,c.t)("payments.step_pay.confirm_seats"),...e},(0,c.tx)("payments.step_pay.happy_you_want_to_buy_seats",{numAnnualEditors:t}))}(0,g.qK)(I,e=>r.createElement(C,{...e}))},439466:(e,t,a)=>{a.d(t,{l:()=>r});let r="trashed-projects"},487973:(e,t,a)=>{a.r(t),a.d(t,{AddPinModal:()=>v});var r=a(411855),n=a(188507),i=a(67151),o=a(414507),l=a(609494),s=a(915440),c=a(776621),d=a(881388),m=a(939863),u=a(809840),_=a(662275),p=a(988022),f=a(279453),g=a(936682),E=a(366559),h=a(119735);function v({fileKey:e,source:t,open:a,onClose:i}){let u=(0,n.wA)(),v=(0,E.p)((0,m.t)("file_browser.pinning.pin_modal.confirmation_bell"),"file-browser-workspace-add-pin"),b=(0,s.Rs)(f.wtK,{fileKey:e}),w=function(e){let[t,a]=r.useState(!1),n="loaded"===e.status&&e.data.file&&!e.data.file.canPinToWorkspace&&e.data.file.canEdit;return n&&!t&&a(!0),n||t}(b);if("loaded"!==b.status)return null;let{file:T}=b.data;if(!T)return(0,c.$D)(o.FigmaTeam.WAYFINDING,Error("AddPinModal unable to lookup file by ID")),u(_.Lo()),null;let I=T.team?.workspace;if(!I)return(0,c.$D)(o.FigmaTeam.WAYFINDING,Error("AddPinModal opened for file with no workspace")),u(_.Lo()),null;let C=(0,h.KR)(T),x=async e=>{try{await g.p.pinFile({resourceType:h.AH,resourceId:I.id,fileKey:T.key,description:e,shouldUpdatePermissions:w}),(0,p.E9)("file_browser_file_pinned_to_resource",T,{resourceType:h.AH,resourceId:I.id,source:t,pinDescription:(0,l._Z)(e)}),v(I.id)}catch(e){throw u(d.s.error((0,m.t)("file_browser.pinning.pin_modal.error"))),e}},N=w?r.createElement(y,{file:T,workspace:I}):null;return r.createElement(E.N,{title:(0,m.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,m.t)("file_browser.pinning.pin_file"),onSubmit:x,file:C,initialDescription:null,warningContent:N,open:a,onClose:i})}function y({file:e,workspace:t}){let a=e.parentOrgId;(0,i.B1)(a);let o=(0,n.d4)(({orgById:e})=>e[a].name);return r.createElement(u.E,null,(0,m.tx)("file_browser.pinning.update_permissions.content",{workspaceName:t.name,permission:r.createElement(u.E,{fontWeight:"bold"},(0,m.tx)("file_browser.pinning.update_permissions.content.permission",{orgName:o}))}))}},923967:(e,t,a)=>{a.r(t),a.d(t,{DeletePinModal:()=>h});var r=a(411855),n=a(188507),i=a(414507),o=a(609494),l=a(915440),s=a(776621),c=a(36657),d=a(881388),m=a(939863),u=a(988022),_=a(860178),p=a(99506),f=a(279453),g=a(936682),E=a(366559);function h({pinnedFileId:e,open:t,onClose:a}){let h=(0,_.TA)(),v=(0,n.wA)(),y=(0,E.p)((0,m.t)("file_browser.pinning.delete_pin_modal.confirmation_bell"),"file-browser-workspace-delete-pin"),[b,w]=r.useState(!1),T=(0,l.Rs)(f.qBf,{pinnedFileId:e});if("loaded"!==T.status)return null;let{pinnedFile:I}=T.data;if(!I)return(0,s.$D)(i.FigmaTeam.WAYFINDING,Error("DeletePinModal unable to lookup pinned file by ID")),a(),null;if(I.resourceType!==p.rP.WORKSPACE)return(0,s.$D)(i.FigmaTeam.WAYFINDING,Error("DeletePinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:I.resourceType}}),a(),null;let C=async t=>{t.preventDefault();try{w(!0),await g.p.deletePin({pinnedFileId:e}),(0,u.E9)("file_browser_file_unpinned_from_resource",I.file,{resourceId:I.resourceId,resourceType:I.resourceType,isPinCreator:I.creator?.id===h,pinDescription:(0,o._Z)(I.description)}),y(I.resourceId),a()}catch(e){v(d.s.error((0,m.t)("file_browser.pinning.delete_pin_modal.error")))}finally{w(!1)}};return r.createElement(c.R,{title:(0,m.t)("file_browser.pinning.delete_pin_modal.header"),confirmText:(0,m.t)("file_browser.pinning.delete_pin_modal.confirm"),onConfirm:C,destructive:!0,isLoading:b,open:t,onClose:a},(0,m.t)("file_browser.pinning.delete_pin_modal.content"))}},542406:(e,t,a)=>{a.r(t),a.d(t,{EditPinModal:()=>g});var r=a(411855),n=a(188507),i=a(414507),o=a(915440),l=a(776621),s=a(881388),c=a(939863),d=a(662275),m=a(99506),u=a(279453),_=a(936682),p=a(366559),f=a(119735);function g({pinnedFileId:e,open:t,onClose:a}){let g=(0,n.wA)(),E=(0,p.p)((0,c.t)("file_browser.pinning.pin_modal.edit.confirmation_bell"),"file-browser-workspace-edit-pin"),h=(0,o.Rs)(u.vgO,{pinnedFileId:e});if("loaded"!==h.status)return null;let{pinnedFile:v}=h.data;if(!v)return(0,l.$D)(i.FigmaTeam.WAYFINDING,Error("EditPinModal unable to lookup pinned file by ID")),g(d.Lo()),null;if(v.resourceType!==m.rP.WORKSPACE)return(0,l.$D)(i.FigmaTeam.WAYFINDING,Error("EditPinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:v.resourceType}}),g(d.Lo()),null;let y=v.resourceId,b=async t=>{try{await _.p.updatePin({pinnedFileId:e,description:t}),E(y)}catch(e){throw g(s.s.error((0,c.t)("file_browser.pinning.pin_modal.edit.error"))),e}},w=(0,f.KR)(v.file);return r.createElement(p.N,{title:(0,c.t)("file_browser.pinning.pin_modal.edit_pin_description"),confirmText:(0,c.t)("file_browser.pinning.pin_modal.save"),onSubmit:b,file:w,initialDescription:v.description,open:t,onClose:a})}},366559:(e,t,a)=>{a.d(t,{N:()=>D,p:()=>M});var r=a(411855),n=a(188507),i=a(862350),o=a(951792),l=a(678738),s=a(504440),c=a(880112),d=a(609494),m=a(493323),u=a(174952),_=a(901536),p=a(939863),f=a(392592),g=a(172522),E=a(167893),h=a(738269),v=a(477782),y=a(611978),b=a(352898),w=a(629019),T=a.n(w),I=a(377750),C=a(374626),x=a(860601),N=a(355819),S=a(428322),k=a(883211),L=a(282026),A=a(896474),R=a(336174);function F({buttonClassName:e,onInsert:t,closeOnInsert:a}){let[n,i]=r.useState(null),o=r.useRef(null),l=r.useCallback(()=>{o.current&&i(o.current.getBoundingClientRect())},[i]),s=r.useCallback(e=>{t(e),a&&i(null)},[t,a,i]);return r.createElement("button",{className:e,ref:o,onClick:l},r.createElement(A.In,{icon:"smiley-32"}),n&&r.createElement(R._,{onInsert:s,onCancel:()=>i(null),targetRect:n}))}let P={library:{list:()=>Promise.resolve([]),search:()=>Promise.resolve([]),maxResultsLength:()=>0}};function O({placeholder:e,text:t,onChange:a,maxLength:i,onSubmit:o,textAreaClassName:l}){let s=(0,n.wA)(),c=C.zl.get(k.ph),[m,u]=r.useState(!1),p=r.useRef(null),f=r.useCallback(e=>{e.preventDefault(),e.stopPropagation(),p.current&&p.current.focus()},[]),g=(0,d.Kq)(t,{includeTrailingWhitespace:!0});return r.createElement("div",{className:"emoji_text_area--textAreaContainer--4FHeL",onClick:f},r.createElement(N.P,{className:T()(_.cx.flexGrow1.overflowAuto.maxWFull.borderBox.if(m,_.cx.bb1.bSolid.colorBorder).$,l),innerClassName:_.cx.hFull.$},r.createElement(L.iX,{dispatch:s,ref:p,typeahead:c,updateMessage:([e,t])=>{a(e)},placeholderText:e,mountInputFocused:!0,submitOnEnter:!1,onSubmit:o??x.lQ,messageMeta:t,mentionables:P,className:_.cx.pt16.px16.borderBox.if(m,_.cx.pb4).$,onUpdateTextArea:x.lQ,editorOnInsert:x.lQ,onFocus:x.lQ,onCancel:x.lQ,editorOnClear:x.lQ,setIsEditorFocused:x.lQ,currentOrgUsers:{orgUsers:{}}}),r.createElement(S.a,{onInitialLoad:e=>u(!e),onIntersectionChange:e=>u(!e.isIntersecting)})),r.createElement("div",{className:_.cx.flex.justifyBetween.itemsCenter.pl12.pr16.py12.$},r.createElement(F,{buttonClassName:"emoji_text_area--emojiPickerButton--CGYqF",onInsert:e=>{if(p.current){let t=I.dN.get(e.id);t&&(p.current.insertEmoji(t),p.current.focus())}},closeOnInsert:!0}),i&&r.createElement("div",{className:_.cx.if(g>i,_.cx.colorTextDanger,_.cx.colorTextSecondary).cursorDefault.$},g,"/",i)))}function D({title:e,confirmText:t,onSubmit:a,file:n,initialDescription:f,warningContent:h,open:y,onClose:b}){let[w,T]=r.useState(f??[]),[I,C]=r.useState(!1),x=(0,v.fA)(n),N=(0,g.l)(n.folder_id),S=(0,d.Kq)(w,{includeTrailingWhitespace:!0}),k=S<=100&&S>0,L=r.useCallback(async()=>{if(k)try{C(!0),await a(w),b()}finally{C(!1)}},[a,k,b,w]),A=i.hS({open:y,onClose:b}),R=r.createElement(r.Fragment,null,r.createElement("div",{className:_.cx.p16.gap16.flex.flexColumn.$},r.createElement("div",{className:_.cx.flex.flexColumn.gap16.$},r.createElement("div",null,r.createElement(u.e,{tile:x,borderRadius:6})),r.createElement("div",{className:_.cx.flex.flexRow.gap8.itemsCenter.$},r.createElement(E.x,{tile:x,usePageIcon:!0}),r.createElement("div",{className:_.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$},r.createElement("div",{className:_.cx.textBodyLargeStrong.truncate.$},n.name),"loaded"===N.status&&N.data?r.createElement("div",{className:_.cx.colorTextSecondary.truncate.$},N.data):null))),r.createElement(O,{placeholder:(0,p.t)("file_browser.pinning.pin_modal.description_textarea_placeholder"),text:w,onChange:T,onSubmit:L,maxLength:100,textAreaClassName:_.cx.maxH100.$})),h?r.createElement("div",{className:_.cx.colorBgWarningTertiary.px16.py12.flex.columnGap8.$},r.createElement(c.R,{className:_.cx.flexShrink0.$}),r.createElement("span",null,h)):null);return r.createElement(o.bL,{manager:A,width:"lg"},r.createElement(l.vo,null,r.createElement(l.Y9,null,r.createElement(l.hE,null,e)),r.createElement(l.nB,{noPadding:!0},R),r.createElement(l.wi,null,r.createElement(l.jk,null,r.createElement(s.$n,{variant:"secondary",onClick:b},(0,p.tx)("modal.cancel")),I?r.createElement(s.$n,{disabled:!0},r.createElement(m.kt,{className:_.cx.colorIconOnbrand.$})):r.createElement(s.$n,{disabled:!k,variant:"primary",onClick:L},t)))))}function M(e,t){let a=(0,n.wA)(),i=(0,y._6)();return r.useCallback(r=>{let n;("workspace"!==i.view||i.subView!==b.V0.DIRECTORY)&&(n={text:(0,p.t)("file_browser.pinning.pin_modal.confirmation_bell.view_workspace"),action:()=>{a(h.$T({view:"workspace",subView:b.V0.DIRECTORY,workspaceId:r,selectedTab:b.dN.TEAMS}))}}),a(f.F.enqueue({type:t,message:e,button:n}))},[a,e,t,i])}},549999:(e,t,a)=>{a.d(t,{$:()=>u});var r=a(411855),n=a(188507),i=a(737947),o=a(498750),l=a(738269),s=a(507877),c=a(694687),d=a(352898);if(443==a.j)var m=a(231959);function u(){let e=(0,c.dq)(),t=(0,n.wA)();return r.useCallback((a,r)=>{if(t(s.kg({clickedResourceType:"workspace",resourceIdOrKey:a??void 0})),(0,o.Fo)(r)||r.shiftKey){let t=`/files/${e}/workspace/${a??m.O}/directory/teams`;i.Ay.redirect(t,"_blank"),r.preventDefault()}else t(l.$T({view:"workspace",subView:d.V0.DIRECTORY,workspaceId:a,selectedTab:d.dN.TEAMS}))},[e,t])}},56430:(e,t,a)=>{a.d(t,{J:()=>h});var r=a(411855),n=a(188507),i=a(946689),o=a(939863),l=a(799569);function s({header:e,onClose:t,rightTextCta:a,tilesContent:n}){return r.createElement("div",{className:"recommendation_banner--container--BEaKR"},r.createElement("div",{className:"recommendation_banner--headerContainer--4UjAz"},r.createElement("div",{className:"recommendation_banner--header--desVL text--fontPos13--xW8hS text--_fontBase--QdLsd"},e),r.createElement("div",{className:"recommendation_banner--headerRight--0PUxN"},r.createElement("div",{className:"recommendation_banner--rightTextCta--q0Iat text--fontPos11--2LvXf text--_fontBase--QdLsd"},a),r.createElement(l.Jn,{className:"recommendation_banner--closeButton--PIXj1",onClick:t}))),r.createElement("div",{className:"recommendation_banner--tilesContainer--WZvDf tiles_view--tilesGrid--gtDcv tiles_view--tiles--PQRwh"},n.map((e,t)=>r.createElement("div",{key:t,className:"recommendation_banner--tile--c1rU7"},e))))}var c=a(760824),d=a(672517),m=a(7e3),u=a(106472),_=a(746869),p=a(611047),f=a(882945),g=a(927625);let E=[{featureType:"unlimited_files_and_projects",getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.consumption_limit"),imgSrc:"https://static.figma.com/uploads/7b0a8059eef8715404092dd314a2259303f727ed",gifSrc:"https://static.figma.com/uploads/519c3e21c17f32b5f0180b52d1e0f9ba6b1e6a93",href:"https://help.figma.com/hc/articles/360038006494"},{featureType:p.qv.COMPONENT_PUBLISHING,getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.component_libraries"),imgSrc:"https://static.figma.com/uploads/597204c016801ba12cab10e9c048b1c6d5807a46",gifSrc:"https://static.figma.com/uploads/948d9b9b25fe5c298216981f3b67871986136b72",href:"https://help.figma.com/hc/articles/360041051154-Guide-to-libraries-in-Figma"},{featureType:p.qv.PASSWORD_PROTECTION,getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.password_protection"),imgSrc:"https://static.figma.com/uploads/bd1e60801b4b2b5e3d8f85d570d909f8e6aecd46",gifSrc:"https://static.figma.com/uploads/c736fefeffa56ad1fef0e503f3a806a34376a24e",href:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files"},{featureType:p.qv.OPEN_SESSIONS,getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.collaboration"),imgSrc:"https://static.figma.com/uploads/d718a8c9af11f5689629e016beb629c0a1aded39",gifSrc:"https://static.figma.com/uploads/389ab0b9dcb7f7c2ce3b597b4b7aa8d12a762d79",href:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session"},{featureType:"voting",getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.voting"),imgSrc:"https://static.figma.com/uploads/07061babefc345310003bf470a357f7c1a4f039d",gifSrc:"https://static.figma.com/uploads/15206fd8262e4243eb5b6a466c4227a6f8e700e6",href:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam"},{featureType:p.qv.AUDIO,getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.audio"),imgSrc:"https://static.figma.com/uploads/d44e0e27103010a5a793e2481a49b37baf284fe9",gifSrc:"https://static.figma.com/uploads/9320e75867473c558394562fe255795e975bac3e",href:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team"}];function h({teamId:e}){let t=(0,m.TN)(e),a=(0,n.wA)(),l=!!(0,u.q)({flag:"pro_trials_feature_awareness_banner_dismissed",teamId:e});return!_.ng.canSeeProTrialUx(t)||l?null:r.createElement(d.fu,{name:"Pro trials feature awareness banner",properties:_.ng.getTrackingProperties()},r.createElement("div",{className:"pro_feature_awareness_banner--container--Lxd1X"},r.createElement(s,{header:(0,o.tx)("team_view.pro_trials.feature_awareness_banner.title"),rightTextCta:r.createElement(i.Ph,{className:"pro_feature_awareness_banner--learnMoreLink--7R3te text--fontPos11--2LvXf text--_fontBase--QdLsd",trusted:!0,href:"https://www.figma.com/professional/",target:"_blank"},(0,o.tx)("team_view.pro_trials.feature_awareness_banner.learn_more")),onClose:()=>{a(c.bE({all_team_flags:[{team_id:e,flags:{pro_trials_feature_awareness_banner_dismissed:!0}}]}))},tilesContent:E.map(({getTileTitle:e,imgSrc:t,gifSrc:a,href:n,featureType:i},o)=>r.createElement(v,{key:o,getTileTitle:e,imgSrc:t,gifSrc:a,href:n,featureType:i}))})))}function v({getTileTitle:e,imgSrc:t,gifSrc:a,href:n,featureType:o}){let[l,s]=(0,r.useState)(!1);return r.createElement("div",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},r.createElement(f.zq,{image:r.createElement("div",{className:"pro_feature_awareness_banner--imageContainer--IezW9 pro_feature_awareness_banner--base_cardImageContainer--zhCs- pro_feature_awareness_banner--_hasBorder--lcXN7"},r.createElement("div",{className:"pro_feature_awareness_banner--imageAspectRatio--00Fbt"}),r.createElement("div",{className:"pro_feature_awareness_banner--imageWrapper--isZpL"},r.createElement(i.Ph,{trusted:!0,target:"_blank",href:n,trackingProperties:{featureType:o}},r.createElement(g.Ho,{image:l?a:t,isSet:!0,isWhiteboard:!1,hubFileId:void 0,alt:e(),includeChromiumDownscalingFix:!0})))),bottomRow:r.createElement("div",{className:"pro_feature_awareness_banner--tileTitle--bO70s text--fontPos13--xW8hS text--_fontBase--QdLsd"},e())}))}},502972:(e,t,a)=>{a.d(t,{C:()=>c});var r=a(411855),n=a(946689),i=a(163023),o=a(939863),l=a(516724);if(443==a.j)var s=a(444173);function c(e){return r.createElement("div",{className:l.p$},r.createElement("div",{className:l._U},(0,o.tx)("team_tile.no_teams.title")),e.onCreateTeam&&r.createElement(r.Fragment,null,r.createElement("p",null,(0,o.tx)("team_tile.no_teams.info")),r.createElement(n.cw,{className:l.yd,onClick:e.onCreateTeam},r.createElement(i.B,{svg:s.A,className:l.RS}),(0,o.tx)("team_tile.no_teams.create_team_button"))))}},676485:(e,t,a)=>{a.d(t,{X:()=>s,o:()=>l});var r=a(411855),n=a(629019),i=a.n(n),o=a(493323),l=(e=>(e.Medium="Medium",e.Large="Large",e))(l||{});function s(e){let t;return e.isLoading?r.createElement("div",{className:"tile_grid--loadingContainer--1gQIv"},r.createElement(o.kt,null)):!e.children||Array.isArray(e.children)&&!e.children.length?r.createElement("div",{className:"tile_grid--emptyContainer--y8P1H text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.emptyView):(t="Large"===e.tileSize?"tile_grid--gridLarge--EZC2-":"tile_grid--gridMedium--fzult",r.createElement("div",{className:i()("tile_grid--gridContainer--cn4vx",e.containerClassName)},r.createElement("div",{className:t},e.children)))}},392922:(e,t,a)=>{a.d(t,{H:()=>y});var r=a(411855),n=a(188507),i=a(966712),o=a(939863),l=a(611886),s=a(351226),c=a(158996),d=a(162895),m=a(662275),u=a(694687),_=a(860178),p=a(215822),f=a(239671),g=a(407844),E=a(164795),h=a(146555);if(443==a.j)var v=a(967063);function y(e){let t=(0,_.iZ)(),a=(0,u.sZ)(),y=(0,n.wA)(),[b,w]=r.useState(!0),T=e.resource,I=(0,p.uF)(T),C=(0,h.o)(I,a,f.nT.Whiteboard);if(!b||!t||!(0,i.kc)().community_hub_admin_reviewer)return r.createElement(r.Fragment,null);function x(t){return"hub_file"===(0,c.Vm)(e.resource)}let N=x(e.resource)?(0,o.tx)("community.duplicate.duplicate"):(0,o.tx)("community.detail_view.try_it_out"),S={id:E.om.communityResourceInReviewBanner,bannerType:E.x1.INFO,icon:v.A,mainText:(0,o.t)("community.resource.admin_bypass_payment_banner.viewing_as_community_reviewer_admin"),description:(0,o.tx)("community.resource.admin_bypass_payment_banner.you_are_viewing_this_page_as_an_admin_reviewer"),button:{buttonText:N,onClick:()=>{if(x(e.resource)){let t=l.gE(e=>{y((0,m.to)({type:s._,data:{payload:e}}))},{adminReviewerOverride:!0});y(t(e.resource))}else y(d.aI({resource:T,fullscreenEditorType:C,isPlaygroundFile:!!(I.playground_fig_file||C===f.nT.DevHandoff)}))}},dismissible:!0,positionStatic:!0};return r.createElement(g.C,{content:S,editorType:f.nT.Design,onDismiss:()=>w(!1)})}},385422:(e,t,a)=>{a.d(t,{S:()=>k});var r=a(411855),n=a(188507),i=a(776250),o=a(966712),l=a(881388),s=a(939863),c=a(206144),d=a(952540),m=a(662275),u=a(931828),_=a(611978),p=a(860178),f=a(239671),g=a(583894),E=a(59530),h=a(407844),v=a(946689),y=a(493323),b=a(164795),w=a(896572),T=a(834417),I=a(894513),C=a(10388),x=a(247866);function N({isLoading:e,text:t}){return r.createElement("span",{style:{position:"relative"}},e?r.createElement("div",{className:T.sl},r.createElement(y.kt,{shouldMatchTextColor:!0})):void 0,r.createElement("span",{style:{opacity:e?0:1}},t))}var S=a(82388);function k(e){let[t,a]=r.useState(!1),[y,T]=r.useState(!1),k=(0,n.wA)(),L=(0,n.d4)(e=>e.userFlags),A=(0,p.iZ)(),R=(0,_._6)(),[F,P]=r.useState(!1),O=y||e.isFirstTimeLoading,D="isFirstTimeLoading"in e;if(F&&!D||!A)return r.createElement(r.Fragment,null);let{stripe_account_status:M}=A;if(!D&&(!M||M===g.P5.NONE))return r.createElement(r.Fragment,null);let B=M===g.P5.NONE&&(0,o.kc)().cmty_expand_extension_m10n||M===g.P5.ACCEPTED||O?{userFlag:E.WE,bannerContent:function({isLoading:e,onClick:t,showCTA:a}){let n=r.createElement(v.CY,{className:w.$J,target:"_blank",href:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources",trusted:!0},(0,s.t)("general.learn_more"));return{id:b.om.communityM10nApprovalBanner,bannerType:b.x1.INFO,mainText:(0,o.kc)().cmty_expand_extension_m10n?(0,s.t)("community.seller.sell_on_community_v2"):(0,s.t)("community.seller.good_news"),icon:C.A,button:a?{buttonText:r.createElement(N,{isLoading:e,text:(0,s.t)("community.seller.set_up_stripe")}),onClick:t,className:w.mj}:void 0,description:(0,s.tx)("community.seller.you_may_be_eligible_with_link",{learnMoreLink:n}),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{T(!0),k((0,m.to)({type:S.s,data:{setupStripeCallback:e=>{T(!1),e||k(l.s.error((0,s.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},showCTA:!D})}:M===g.P5.STARTED_ONBOARDING?{userFlag:E.BY,bannerContent:function({onClick:e,isLoading:t,showCTA:a}){return{id:b.om.communityM10nFinishSetupBanner,bannerType:b.x1.INFO,icon:I.A,button:a?{buttonText:r.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.finish_set_up")}),onClick:e,className:w.mj}:void 0,mainText:(0,s.t)("community.seller.finish_stripe_setup"),description:(0,s.t)("community.seller.few_steps_left_stripe"),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{a(!0),k(d.j({callback:()=>a(!1),user:A,selectedView:R}))},showCTA:!D})}:M===g.P5.DISABLED?{userFlag:E.Q7,bannerContent:function({onClick:e,isLoading:t,showCTA:a}){return{id:b.om.communityM10nAdtlInfoNeededBanner,bannerType:b.x1.WARN,icon:x.A,button:a?{buttonText:r.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.visit_stripe")}),onClick:e,className:w.mj}:void 0,mainText:(0,s.t)("community.seller.stripe_needs_your_attention"),description:(0,s.t)("community.seller.you_can_resolve"),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{},showCTA:!D})}:void 0;if(!B)return r.createElement(r.Fragment,null);let{userFlag:U,bannerContent:V}=B,H=()=>{c.ik()?.(u.b({[U]:!0}))};return L[U]&&!D?r.createElement(r.Fragment,null):r.createElement(h.C,{containerClassName:D?w.hL:void 0,content:V,editorType:f.nT.Design,onDismiss:()=>{H(),P(!0),(0,i.sx)("cmty_m10n_banner_dismissed",{userFlag:U})}})}},210448:(e,t,a)=>{a.d(t,{u:()=>q});var r=a(411855),n=a(188507),i=a(966712),o=a(385422),l=a(860601),s=a(939863),c=a(99506),d=a(401730),m=a(239671),u=a(407844),_=a(164795),p=a(967063);function f(e){let{hasPublisherAdminAccess:t,resource:a}=e,n=(()=>{if(t)return a.publishing_status===c.KB.DELISTED_CREATOR_STRIPE_DISABLED?(0,s.tx)("community.resource.delisted_stripe_issues"):a?.monetized_resource_metadata?.is_subscription?(0,s.tx)("community.resource.delisted_prev_purchasers_can_still_access__subscription"):(0,s.tx)("community.resource.delisted_prev_purchasers_can_still_access");if(a?.community_resource_payment?.subscription_expires_at){let e=new Date(a.community_resource_payment.subscription_expires_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return(0,s.tx)("community.resource.delisted_you_ll_continue_to_have_access_until",{dateString:e})}return a?.community_resource_payment?.status===d.G3.SUCCEEDED?(0,s.tx)("community.resource.delisted_you_ll_continue_to_have_access_to_it"):(0,s.tx)("community.resource.if_you_have_questions_reach_out_to_creator")})(),i={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.delisted_title"),description:n,dismissible:!1,positionStatic:!0};return r.createElement(u.C,{content:i,editorType:m.nT.Design,onDismiss:l.lQ})}var g=a(158996),E=a(860178);function h(e){if(!(0,E.iZ)())return r.createElement(r.Fragment,null);let t="hub_file"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_file"):"plugin"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_plugin"):"widget"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_widget"):r.createElement(r.Fragment,null),a={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.seller.this_page_is_private"),description:t,dismissible:!1,positionStatic:!0};return r.createElement(u.C,{content:a,editorType:m.nT.Design,onDismiss:l.lQ})}function v(e){if(!(0,E.iZ)())return r.createElement(r.Fragment,null);let t="hub_file"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.hub_file"):"plugin"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.plugin"):"widget"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.widget"):r.createElement(r.Fragment,null),a={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.unpublished_banner.your_resource_is_unpublished"),description:t,dismissible:!1,positionStatic:!0};return r.createElement(u.C,{content:a,editorType:m.nT.Design,onDismiss:l.lQ})}var y=a(545941),b=a(782501),w=a(555328);let T=a(392922).H;function I(e){let t={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"),description:(0,s.t)("community.resource.admin_blocked_resource_banner.you_can_only_view_this_page_as_an_admin"),dismissible:!1,positionStatic:!0};return r.createElement(u.C,{content:t,onDismiss:l.lQ})}var C=a(737947),x=a(71881),N=a(749949),S=a(837324),k=(e=>(e.EDIT_THIS_PAGE="edit_this_page",e.OPEN_ORIGINAL_FILE="open_original_file",e.UNPUBLISH="unpublish",e.DELIST="delist",e.MANAGE_RESOURCE="manage_resource",e))(k||{}),L=a(417659),A=a(410424),R=a(941381),F=a(446686),P=a(57879),O=a(738269),D=a(662275),M=a(672517),B=a(988022),U=a(946413),V=a(741477),H=a(813408),W=a(143678),j=a(237870),$=a(728587),G=a(488578),Y=a(109361);let z="MANAGE_RESOURCE_DROPDOWN_TYPE",Q=(0,j.Ju)(G.Rw);function K(e){let{resource:t,fileKey:a}=e,i=(0,n.wA)(),o=r.useRef(null),c=(0,n.d4)((0,V.E)(z)),d=(0,n.d4)(e=>e.currentUserOrgId),p=(0,N.J)(),f=(0,S.U0)(t),h=(0,w.U)(e.resource)?W.e0.COMMUNITY_HUB_FILE:(0,w.xQ)(t)?W.e0.COMMUNITY_HUB_WIDGET:W.e0.COMMUNITY_HUB_PLUGIN,v=(0,E.iZ)(),b=(0,w.U)(e.resource),T=(0,w.I0)(e.resource);if(r.useEffect(()=>{b?i((0,A.ts)({hubFileId:e.resource.id})):i((0,R.af)({id:e.resource.id,resourceType:T?w.bD.PLUGIN:w.bD.WIDGET}))},[i,e.resource.id,d,b,T]),!v)return null;let I=(0,w.m3)(t),j=[],G=(0,s.t)("community.resource.edit_this_page");if(j.push({displayText:G,callback:()=>{(0,w.U)(t)?((0,B.Cu)({name:k.EDIT_THIS_PAGE,hubFileId:t.id,isMonetized:I,text:G,trackingContext:W.e0.COMMUNITY_HUB_FILE,searchSessionId:p,has_carousel_media_nudge:f}),a&&i((0,F.t)({fileKey:a,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:H.k2.RESOURCE_PAGE,canvasThumbnailPromise:(0,U.$)(a,v)}))):((0,B.Cu)({pluginId:t.id,name:k.EDIT_THIS_PAGE,isMonetized:I,text:G,trackingContext:h,searchSessionId:p,has_carousel_media_nudge:f}),i((0,P.r)({publishedPluginId:t.id,entryPoint:H.k2.RESOURCE_PAGE})))}}),(0,w.U)(t)){let e=(0,s.t)("community.hub_files.open_original_file");if(j.push({displayText:e,callback:()=>{(0,B.Cu)({name:k.OPEN_ORIGINAL_FILE,hubFileId:t.id,isMonetized:I,text:e,trackingContext:W.e0.COMMUNITY_HUB_FILE,searchSessionId:p,has_carousel_media_nudge:f}),C.Ay.redirect(`/file/${a}`,"_blank")}}),!(0,y.Pg)(t)){j.push({displayText:"",disabled:!0,separator:!0});let e=(0,s.t)(I?"community.resource.delist":"community.resource.unpublish");j.push({displayText:e,callback:()=>{(0,B.Cu)({name:I?k.DELIST:k.UNPUBLISH,hubFileId:t.id,isMonetized:I,text:e,trackingContext:W.e0.COMMUNITY_HUB_FILE}),i((0,D.to)({type:Q,data:{confirmationTitle:I?(0,s.t)("community.hub_files.delist_file_from_community_hub"):(0,s.t)("community.hub_files.remove_file_from_community_hub"),content:I?(0,s.t)("community.hub_files.delisting_this_resource_will_prevent_people_from_discovering_or_purchasing_this_resource"):(0,s.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),confirmText:I?(0,s.t)("community.resource.delist"):(0,s.t)("community.resource.unpublish"),cancelText:(0,s.t)("general.cancel"),onConfirm:()=>{i((0,A.ax)({hubFileId:t.id,redirectLink:(0,L.bL)(t.publisher.profile_handle)}))},destructive:!0}}))}})}}let K=r.createElement(x.g,{ref:o,buttonClassName:"show_resource_creator_banner--manageResourceCTA--lYOcA text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{c||((0,B.Cu)({name:k.MANAGE_RESOURCE,resourceId:t.id,has_carousel_media_nudge:f,trackingContext:h,searchSessionId:p}),i((0,O.j7)({type:z})))},isShowingDropdown:!1},(0,s.t)("community.resource.manage_resource")),q={id:_.om.CommunityResourceCreatorBanner,bannerType:_.x1.INFO,icon:Y.A,iconSize:"large",mainText:(0,s.t)("community.resource.your_resource_is_live"),description:f?(0,w.U)(t)?(0,s.t)("community.resource.next_we_recommend_adding_more_images"):(0,w.xQ)(t)?(0,s.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,s.t)("community.plugins.widget")}):(0,s.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,s.t)("community.plugins.plugin")}):void 0,dismissible:!1,positionStatic:!0,button:{type:_.MA.CUSTOM,element:K}};return r.createElement(M.fu,{name:"RDP Creator Banner",properties:{name:"rdp_creator_banner",resourceId:t.id,resourceType:(0,g.Vm)(t),hasCarouselMediaNudge:f}},r.createElement(u.C,{content:q,editorType:m.nT.Design,onDismiss:l.lQ}),o.current&&c&&r.createElement($.j,{dispatch:i,items:j,showPoint:!0,parentRect:o.current?.getBoundingClientRect(),onSelectItem:e=>{e.callback&&e.callback("",null,i)},minWidth:120}))}function q(e){let{resource:t}=e,a=(0,n.d4)(e=>(0,b.MK)(e,t)),l=(0,n.d4)(e=>(0,w.U)(t)?(0,b.cN)(e,t,a):(0,b.Wd)(e,t)),s=(0,b.RB)(t),c=(0,w.Uz)(t)?t.fig_file_metadata?.key:void 0;return(0,i.kc)().community_hub_admin&&(0,y.lT)(t)?r.createElement(I,{resource:t}):(0,i.kc)().community_hub_admin_reviewer&&(0,w.m3)(t)?r.createElement(T,{resource:t}):t.publishing_status?l&&(0,y.AC)(t)?r.createElement(h,{resource:t}):(0,y.Pg)(t)?r.createElement(f,{hasPublisherAdminAccess:l,resource:t}):(0,w.U)(t)&&s?r.createElement(K,{resource:t,fileKey:c}):((0,w.I0)(t)||(0,w.xQ)(t))&&s?r.createElement(K,{resource:t}):r.createElement(o.S,null):r.createElement(v,{resource:t})}},643233:(e,t,a)=>{a.d(t,{i:()=>A});var r=a(411855),n=a(188507),i=a(414507),o=a(563706),l=a(776621),s=a(782112),c=a(799569),d=a(939863),m=a(359170),u=a(662275),_=a(237870),p=a(488578);let f=(0,_.Ju)(function(e){return r.createElement(p.aF,{title:r.createElement("div",{className:"feature_not_available_modal--title--kPAVe text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,d.tx)("community.collections.this_feature_isnt_available")),className:"feature_not_available_modal--modalContainer--Etu7A"},r.createElement(c.s_,{dispatch:e.dispatch}),r.createElement("div",{className:"feature_not_available_modal--modalBody--Dhwo0 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,d.tx)("community.collections.this_feature_isnt_available_body")," ",r.createElement("a",{className:"feature_not_available_modal--learnMore--L4kDU modal--blueLink--9GcJu blue_link--blueLink--9rlnd",target:"_blank",href:"https://help.figma.com/hc/en-us/articles/17725942479127-Access-or-opt-out-of-AI-features"},(0,d.tx)("community.collections.learn_more"))),r.createElement("div",{className:"feature_not_available_modal--buttonContainer--9-Zwv"},r.createElement(m.$$,{onClick:()=>{e.dispatch(u.Ce())}},(0,d.tx)("general.got_it"))))}," FeatureNotAvailableModal");var g=a(890555),E=a(119198),h=a(988022),v=a(102310),y=a(99506),b=a(945020),w=a(435898),T=a(629019),I=a.n(T),C=a(999021),x=a(375360),N=a(319905),S=a(920506),k=a(650168);function L({title:e,description:t,imageUrl:a,onClick:n}){let i=(0,o.o4)();return r.createElement("div",{className:I()(S.Ui,"figjam_ai_card--cardContainer--kCDdk"),"data-testid":"collection-figjam-ai-card"},r.createElement("div",{className:I()(S.Nr,"figjam_ai_card--card--KTu46")},i?r.createElement("div",{className:"figjam_ai_card--mobileOverlay--EhOsZ"},r.createElement("button",{className:I()("figjam_ai_card--invisibleButton--LuV4E"),onClick:n})):r.createElement("div",{className:"figjam_ai_card--overlayContainer--dDIiY"},r.createElement("div",{className:"figjam_ai_card--overlay--g6q4O"}),r.createElement("button",{className:I()("figjam_ai_card--ctaButton--wveh5",k.jx,k.tt,k.hh),onClick:n},(0,d.tx)("community.collections.generate"))),r.createElement(x.tL,{title:e,description:t}),r.createElement(C.c,{srcSet:"",src:a,image_type:N.y.COMMUNITY_HUB_FILE_THUMBNAIL,alt:e,className:I()(S.Sl,"figjam_ai_card--image--L-R2C"),imageProps:{onLoad:e=>e.currentTarget.style.opacity="1"}})))}function A({title:e,description:t,imageUrl:a,prompt:c,promptCategory:d}){let m=(0,n.wA)(),_=(0,v.B)(),p=(0,o.o4)(),T=(0,s.q8)(),I=(e,t)=>{m(E.zE({state:_,from:b.f6.COMMUNITY_COLLECTIONS_PAGE,editorType:y._Y.WHITEBOARD,team:void 0,openNewFileIn:b.ai.NEW_TAB,figjamAiNewFileData:{prompt:e,subtitle:e,useCaseCategory:t,entrypoint:w.fV.COMMUNITY}}))};return r.createElement(L,{onClick:()=>{(0,h.Cu)({name:"community_collections_figjam_ai",prompt:c,title:e,description:t,promptCategory:d,isMobile:`${p}`}),p?m((0,u.to)({type:g.s,data:{dispatch:m}})):T?m((0,u.to)({type:f,data:{dispatch:m}})):Object.values(w.es).includes(d)?I(c,d):(0,l.$D)(i.FigmaTeam.COMMUNITY,Error(`Invalid use case category (${d}) for figjam ai card: ${e}`))},title:e,description:t,imageUrl:a})}},890555:(e,t,a)=>{a.d(t,{s:()=>d});var r=a(411855),n=a(799569),i=a(939863),o=a(662275),l=a(137459),s=a(237870),c=a(488578);let d=(0,s.Ju)(function(e){let t=(0,i.t)("rcs.redirect_from_mobile_to_desktop.head_to_figjam_on_desktop"),a=(0,i.t)("community.collections.head_to_desktop"),s="https://static.figma.com/uploads/f95cfc857cdc5c164958966add0665b69673667c";return e.editorType===l.LE.SLIDES&&(t=(0,i.t)("rcs.redirect_from_mobile_to_desktop.head_to_slides_on_desktop"),a=(0,i.t)("community.collections.head_to_desktop_slides"),s="https://static.figma.com/uploads/d5fbdadc97f3d94063357e9819c314ade9055df3"),r.createElement(c.aF,{className:"head_to_desktop_modal--modalContainer--BRiSA"},r.createElement(n.s_,{dispatch:e.dispatch}),r.createElement("img",{width:"100%",alt:a,src:s}),r.createElement("div",{className:"head_to_desktop_modal--modalBody--n9Et8 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("h1",{className:"head_to_desktop_modal--title--kJAKG text--fontPos18--rYXJb text--_fontBase--QdLsd"},t),r.createElement("p",null,a),r.createElement("button",{className:"head_to_desktop_modal--gotIt--StOau",onClick:()=>{e.dispatch(o.Ce())}},(0,i.tx)("general.got_it"))))}," HeadToDesktopModal")},375360:(e,t,a)=>{a.d(t,{rS:()=>h,tL:()=>w});var r=a(411855);if(443==a.j)var n=a(860601);var i=a(999021),o=a(939863),l=a(674694),s=a(240411),c=a(240837),d=a(731801),m=a(837324),u=a(319905),_=a(545941),p=a(158996),f=a(672517),g=a(555328),E=a(920506);function h({resource:e,title:t,description:a}){switch((0,p.Vm)(e)){case g.vt.HUB_FILE:return r.createElement(v,{hubFile:e,title:t,description:a,key:e.id});case g.vt.WIDGET:return r.createElement(y,{widget:e,title:t,description:a,key:e.id});case g.vt.PLUGIN:return r.createElement(b,{plugin:e,title:t,description:a,key:e.id});default:return null}}function v({hubFile:e,title:t,description:a}){let i=(0,m.qD)(e),o=(0,m._t)({resource:e});return r.createElement("div",{className:E.Ui,"data-testid":"collection-resource-card"},r.createElement(f.o3,{className:E.Nr,to:o,trackingEventName:"community_collections",trackingProperties:{name:"hub_file_card_clicked",href:o},target:"_blank"},r.createElement(w,{title:t??i.name,description:a??i.description}),r.createElement(l.Xy,{className:E.Sl,image:e.thumbnail_url,hubFileId:e.id,onLoad:n.lQ,alt:i.name,resizedThumbnailUrls:e.resized_thumbnail_urls})),r.createElement(T,{resource:e}))}function y({widget:e,title:t,description:a}){let n=(0,m.qD)(e),o=(0,m._t)({resource:e});return r.createElement("div",{className:E.Ui,"data-testid":"collection-resource-card"},r.createElement(f.o3,{className:E.Nr,to:o,trackingEventName:"community_collections",trackingProperties:{name:"widget_card_clicked",href:o},target:"_blank"},r.createElement(w,{title:t??n.name,description:a??n.description}),r.createElement(i.c,{srcSet:"",src:n.redirect_snapshot_url||n.redirect_icon_url,image_type:u.y.COMMUNITY_HUB_FILE_THUMBNAIL,alt:n.name,className:E.Sl,imageProps:{onLoad:e=>e.target.style.opacity="1"}})),r.createElement(T,{resource:e}))}function b({plugin:e,title:t,description:a}){let n=(0,m.qD)(e),o=(0,m._t)({resource:e});return r.createElement("div",{className:E.Ui,"data-testid":"collection-resource-card"},r.createElement(f.o3,{className:E.Nr,to:o,trackingEventName:"community_collections",trackingProperties:{name:"plugin_card_clicked",href:o},target:"_blank"},r.createElement(i.c,{srcSet:"",src:n.redirect_icon_url,image_type:u.y.COMMUNITY_HUB_FILE_THUMBNAIL,alt:n.name,className:E.t3,imageProps:{onLoad:e=>e.target.style.opacity="1"}}),r.createElement(w,{title:t??n.name,description:a??n.description})),r.createElement(T,{resource:e}))}function w({title:e,description:t}){return r.createElement("div",{className:E.pq},r.createElement("div",{className:E.DD},e),r.createElement("div",{className:E.h_},r.createElement(d._,{description:t})))}function T({resource:e}){return r.createElement("div",{className:E.qr},r.createElement("div",{className:E.ME},r.createElement(c.L,{publishers:e.community_publishers?.accepted||[]}),r.createElement("div",{className:E.vR},(0,o.tx)("community.cards.by"),r.createElement(c.I,{publishers:e.community_publishers?.accepted||[],removeByLabel:!0,openInNewTab:!0}))),r.createElement("div",{className:E.uK},r.createElement(s.cz,{likeCount:e.like_count,currentUserLiked:!1}),r.createElement(s.i8,{usageCount:(0,_.mk)(e)})))}},784087:(e,t,a)=>{a.d(t,{X:()=>eF});var r=a(411855),n=a(188507),i=a(697551),o=a(782501),l=a(560718),s=a(860178),c=a(776250),d=a(183297),m=a(493323);function u(e){let t=r.useRef(null);return r.useEffect(()=>{let a=()=>{window.innerHeight<(t.current?.getBoundingClientRect().bottom||1/0)||e.onScrollToBottom()};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[e]),r.createElement("div",{ref:t},e.children,e.showLoader&&r.createElement("div",{className:"infinite_scroll_container--loadingSpinner--UMKR8"},r.createElement(m.kt,null)))}function _(e){let{onScrollToBottom:t,children:a,showLoader:n}=e;return r.createElement(u,{onScrollToBottom:t,children:a,showLoader:n})}_.displayName="WithInfiniteScroll";var p=a(135876),f=a(428322),g=a(939863),E=a(749949),h=a(158996),v=a(609271),y=a(63397),b=a(107877),w=a(820642),T=a(555328),I=a(323667),C=a(738269),x=a(994988),N=a(318812),S=a(855466),k=a(728587);let L="comments_view--loader--tz-FD",A="comments-sort-dropdown",R="SHOW_RESOLVED",F=function({labelClassName:e,includeShowResolved:t,isLoggedIn:a}){let i=(0,n.wA)(),o=(0,N.Um)(),l=(0,n.d4)(e=>e.communityHub.comments.activeFeedType),s=(0,n.d4)(e=>e.communityHub.comments.showResolved),d=r.useRef(null),[m,u]=r.useState(null),_=o?.type===A,p={ALL:"All",ME:"Your comments",COMMENTS:"Comments only",RATINGS_REVIEWS:"Reviews only"},f=e=>{switch(e){case p.ALL:return(0,g.t)("community.comments.all");case p.ME:return(0,g.t)("community.comments.your_comments");case p.COMMENTS:return(0,g.t)("community.comments.comments_only");case p.RATINGS_REVIEWS:return(0,g.t)("community.comments.reviews_only");default:return""}},E=o?.data?.targetRect;r.useEffect(()=>{E&&u(E)},[E]);let h=Object.keys(p).filter(e=>a||e!==T.Qv.ME).filter(e=>e!==T.Qv.RATINGS_REVIEWS&&e!==T.Qv.COMMENTS).map(e=>({displayText:f(p[e]),name:e,isChecked:e===l}));return t&&(h.push({displayText:"",separator:!0,name:void 0}),h.push({displayText:(0,g.t)("community.comments.show_resolved"),isChecked:s,name:R})),r.createElement("div",null,r.createElement("div",{onClick:e=>{e.stopPropagation();let t=d.current;_?i(C.oB()):t&&(u(t.getBoundingClientRect()),i(C.j7({type:A})))},className:e||"comments_view--commentsSortLabel--mpkGD"},f(p[l]),r.createElement(S.c,{className:"comments_view--commentsSortChevron--989-q",dispatch:i,dropdownKey:A,showingDropdown:_,divRef:d,toggleOnClick:!0})),_&&m&&r.createElement(k.j,{dispatch:i,items:h,parentRect:m,onSelectItem:e=>{(0,c.sx)("Comments Filter Changed",{thread_type:"community_preview",view:e.name}),e.name&&(e.name===R?i(x.mH(!s)):i(y.Zj(e.name)))},minWidth:164,showPoint:!0}))};var P=a(460845),O=a(629019),D=a.n(O),M=a(564577),B=a(163023),U=a(281381);function V(){return r.createElement(U.Ex,{text:(0,g.t)("community.comments.creator"),color:U.zE.TOOLBAR,className:"creator_badge--creatorBadge--P5vsL"})}var H=a(417659),W=a(498606),j=a(928491);let $="comment_tile--commentContainerFadeOut--AMWrR",G="comment_tile--nextSiblingCommentReset--4shUj",Y="comment_tile--iconButton--MZmz1";function z(e){return document.querySelector(`[data-comment-id="${e}"]`)}let Q={fadeOut:async(e,t)=>{t||(t={resetNextComment:!1});let a=z(e);if(!a)return;let r=a.getBoundingClientRect();a.classList.add($);let n=a.nextSibling;return n&&(n.style.marginTop=`-${r.height-1}px`),await new Promise(e=>setTimeout(e,Q.ANIMATION_LENGTH)),t.resetNextComment&&Q.resetNextComment(n?.dataset.commentId),n?.dataset.commentId},resetNextComment:e=>{let t=e&&z(e);t&&(t.classList.add(G),t.style.marginTop="0px",setTimeout(()=>t.classList.remove(G),50))},fadeIn:e=>{let t=document.querySelector(`[data-comment-id="${e}"]`);if(!t)return;t.classList.remove($);let a=t.nextSibling;a&&(a.style.marginTop="0px")},ANIMATION_LENGTH:400};var K=a(400333),q=a(227795),Z=a(800576),X=a(392592),J=a(62589),ee=a(97128),et=a(970516),ea=a(662275),er=a(965837),en=a(688734),ei=a(946689),eo=a(67294),el=a(237870),es=a(488578),ec=a(157199);let ed=(0,el.Ju)(function(e){let t=e.reportType===l.nI.REPORT_AND_HIDE,a=t?(0,g.t)("community.comments.report_and_hide_author_name_s_comment",{authorName:e.comment.author.name}):(0,g.t)("community.comments.report_author_name_s_comment",{authorName:e.comment.author.name}),n=r.createElement("p",{className:ec.zC},t?(0,g.t)("community.comments.this_will_flag_the_comment_for_review_and_hide_it_for_everyone"):(0,g.t)("community.comments.this_will_flag_the_comment_for_review")," ",(0,g.t)("community.comments.comment_author_will_not_be_notified",{authorName:e.comment.author.name})," ",(0,g.tx)("community.comments.please_read_our_link_before_reporting",{link:r.createElement(ei.CY,{href:"https://help.figma.com/hc/articles/360038510573-Figma-Community-Guidelines",target:"_blank",trusted:!0},(0,g.tx)("community.community_guidelines"))}));return r.createElement(es.Rw,{confirmationTitle:a,confirmText:(0,g.t)("community.comments.report"),onConfirm:()=>e.onReport(e.comment.id),destructive:!0},r.createElement("div",{className:ec.RZ,"data-testid":"comment-confirm-report-modal-content"},r.createElement(eo.H8,{user:e.comment.author,size:eo.Pf.LARGE}),n))},"CommentConfirmReportModal");var em=(e=>(e.COPY_LINK="Copy link",e.EDIT="Edit",e.DELETE="Delete",e.DELETE_THREAD="Delete thread",e.FOLLOW_PROFILE="Follow",e.UNFOLLOW_PROFILE="Unfollow",e.BLOCK_PROFILE_COMMENTING="Restrict user's comments",e.UNBLOCK_PROFILE_COMMENTING="Unrestrict user's comments",e.REPORT_COMMENT="Report",e.REPLY="Reply",e))(em||{});function eu(e){return{name:e,displayText:function(e){switch(e){case"Copy link":return(0,g.t)("community.comments.copy_link");case"Edit":return(0,g.t)("community.comments.edit");case"Delete":return(0,g.t)("community.comments.delete");case"Delete thread":return(0,g.t)("community.comments.delete_thread");case"Follow":return(0,g.t)("community.follow.follow");case"Unfollow":return(0,g.t)("community.follow.unfollow");case"Restrict user's comments":return(0,g.t)("community.comments.restrict_user_s_comments");case"Unrestrict user's comments":return(0,g.t)("community.comments.unrestrict_user_s_comments");case"Report":return(0,g.t)("community.comments.report_comment");case"Reply":return(0,g.t)("community.comments.reply")}}(e)}}function e_(e){let t=(0,n.wA)(),a=(0,s.iZ)(),{apiResourceType:i,resourceId:o}=(0,J.Rd)(ee.ax),d=()=>{e.onEdit?.()},m=()=>{e.onDelete&&t((0,ea.to)({type:er.h,data:{onConfirm:()=>e.onDelete()}}))},u=()=>{t(et.lW({stringToCopy:(0,Z.ky)(new ee.ax({apiResourceType:i,resourceId:o},{comment:e.comment.id}).href)}))},_=(r,n)=>{t(y._8({blockedProfileId:n,profileId:r,onSuccess:()=>{t(x.BV({authorId:n,removeCommentsCallback:async e=>{e.map(e=>Q.fadeOut(e.id,{resetNextComment:!0})),await new Promise(e=>setTimeout(e,Q.ANIMATION_LENGTH))}})),t(X.F.enqueue({message:(0,g.t)("community.comments.restricted_this_user_s_comments"),type:"profile-restricted-change"})),(0,c.sx)("comment_profile_restricted",{restricted_by_profile_id:a?.community_profile_id,restricted_profile_id:n,entry_point:"comment",comment_id:e.comment.id})}}))},p=(a,r)=>{t(y.dL({blockedProfileId:r,profileId:a,onSuccess:()=>{t(X.F.enqueue({message:(0,g.t)("community.comments.unrestricted_this_user_s_comments"),type:"profile-restricted-change",button:{text:(0,g.t)("community.comments.undo"),action:()=>{_(a,r)}}})),(0,c.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:a,unrestricted_profile_id:r,comment_id:e.comment.id,entry_point:"comment"})}}))},f=()=>{let{profileIdToAdminResourceAs:a}=e,r=e.comment?.author.id;a&&r&&t((0,ea.to)({type:en.H,data:{onBlock:()=>_(a,r),confirmationTitle:(0,g.t)("community.comments.remove_comment_and_restrict_user"),confirmButtonText:(0,g.t)("community.comments.remove_and_restrict")}}))},E=e=>{t(y.e6(e))},h=e=>{t(y.X2(e))},v=async a=>{let r=await Q.fadeOut(a);t(x.eG({commentId:a,userIsAdmin:!!e.userIsAdmin,onFinish:e=>{e?Q.fadeIn(a):r&&Q.resetNextComment(r)}}))},b=e=>{t((0,ea.to)({type:ed,data:{comment:e,reportType:l.nI.REPORT_AND_HIDE,onReport:v}}))},w=e=>{t((0,ea.to)({type:ed,data:{comment:e,reportType:l.nI.REPORT,onReport:v}}))};return r.createElement(k.j,{dispatch:t,items:e.items,showPoint:!0,parentRect:e.parentRect,onSelectItem:(t,a)=>{"Edit"===t.name?d():"Delete"===t.name||"Delete thread"===t.name?m():"Copy link"===t.name?u():"Follow"===t.name&&e.comment.author.id?E(e.comment.author.id):"Unfollow"===t.name&&e.comment.author.id?h(e.comment.author.id):"Restrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?f():"Unrestrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?p(e.profileIdToAdminResourceAs,e.comment.author.id):"Report"===t.name?e.userIsAdmin?b(e.comment):w(e.comment):"Reply"===t.name&&e.onReply?.()},minWidth:96,dataTestId:"comment-menu"})}function ep(e){let t=[eu(em.EDIT),eu(e.isThreadParent?em.DELETE_THREAD:em.DELETE)];return e.hideCopyLink||t.push(eu(em.COPY_LINK)),r.createElement(e_,{comment:e.comment,parentRect:e.parentRect,items:t,onEdit:e.onEdit,onDelete:e.onDelete})}function ef(e){let t=[];return e.canReplyToComment&&t.push(eu(em.REPLY)),e.hideCopyLink||t.push(eu(em.COPY_LINK)),t.push(eu(e.author.is_restricted_by_current_user?em.UNBLOCK_PROFILE_COMMENTING:em.BLOCK_PROFILE_COMMENTING)),t.push(eu(em.REPORT_COMMENT)),r.createElement(e_,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,comment:e.comment,parentRect:e.parentRect,items:t,onDelete:e.onDelete,onReply:e.onReply,userIsAdmin:!0})}function eg(e){let t=[];return e.userExists&&t.push(eu(em.REPORT_COMMENT)),e.hideCopyLink||t.unshift(eu(em.COPY_LINK)),r.createElement(e_,{comment:e.comment,parentRect:e.parentRect,items:t})}function eE(e){var t;let a=(0,s.iZ)(),o=(0,n.d4)(e=>e.authedActiveCommunityProfile),c=(0,n.d4)(t=>t.communityHub.comments.commentsById[e.comment.id]),d=(0,n.d4)(e=>e.communityHub.comments.authorsById[c.author.id]),m=(t=l.ej.COMMUNITY,!!a&&t===l.ej.COMMUNITY&&!(0,i.cs)(o)&&c.author.profile_handle===a.community_profile_handle),u=o?.id===e.profileIdToAdminResourceAs;return m?r.createElement(ep,{comment:c,parentRect:e.parentRect,onEdit:()=>e.onEdit(c),onDelete:()=>e.onDelete(c),hideCopyLink:e.hideCopyLink,isThreadParent:e.isThreadParent}):e.profileIdToAdminResourceAs&&u?r.createElement(ef,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,author:d,comment:c,parentRect:e.parentRect,onDelete:e.onDelete,hideCopyLink:e.hideCopyLink,canReplyToComment:!!e.onReply,onReply:()=>e.onReply?.(c)}):r.createElement(eg,{comment:c,parentRect:e.parentRect,userExists:!!a,hideCopyLink:e.hideCopyLink})}var eh=a(503457);let ev=(0,eh.kf)("lazy_create_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(2026),a.e(3630),a.e(8410)]).then(a.bind(a,195634))).CreateCommentComposer})}),ey=(0,eh.kf)("lazy_edit_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(2026),a.e(3630),a.e(8410)]).then(a.bind(a,439827))).EditCommentComposer})}),eb=(0,eh.kf)("lazy_reply_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(2026),a.e(3630),a.e(8410)]).then(a.bind(a,711379))).ReplyCommentComposer})});(0,eh.kf)("lazy_comment_editable_typeahead",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(2026),a.e(3630),a.e(8410)]).then(a.bind(a,195634))).CommentEditableTypeahead})});var ew=a(95779),eT=a(210105);function eI(e){let{comment:t,author:a,userIsAuthor:i,isAuthorAcceptedPublisher:o}=e,[s,d]=r.useState(!1),m=r.useRef(null),u=(0,n.d4)(e=>e.dropdownShown),_=(0,n.wA)(),[p,f]=r.useState(!1),[h,v]=r.useState(null),y=r.useCallback(()=>{u?.type===l.Ng&&_(C.oB())},[u,_]);r.useEffect(()=>(window.addEventListener("scroll",y,!1),()=>{window.removeEventListener("scroll",y,!1)}),[y]);let b=(0,E.J)();if(!t||!a)return r.createElement(r.Fragment,null);let w=async()=>{let a=await Q.fadeOut(t.id);_(x.Tu({commentId:t.id,commentType:e.commentType,onFinish:e=>{e?Q.fadeIn(t.id):Q.resetNextComment(a)}}))};if(p)return r.createElement(ey,{fallback:null,errorFallback:null,commentType:e.commentType,commentId:t.id,message:t.message,messageMeta:t.message_meta??[],onComplete:()=>{(0,c.sx)(I.E,{commentId:t?.id,message:t?.message,userId:a.primary_user_id,profileId:a.id,resourceType:e.resourceType,resourceId:e.resourceId,searchSessionId:b},{forwardToDatadog:!0}),f(!1)}});let T=e.selected&&!e.isCreatorReply,N=t.reply_count,S=!!(u&&u.type===l.Ng&&u.data.commentId===t.id),k=!!t.hidden_at&&!i,L=new H.xn({profileHandle:a.profile_handle}).to;return r.createElement("div",{className:D()(T?"comment_tile--tempSelectedCommentTile--eo1zi comment_tile--selectedCommentTile--9xoJJ comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v":"comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v",{"comment_tile--creatorReplySelectedParent--aVNCs comment_tile--creatorReply--OO0It":!!e.selected&&e.isCreatorReply,"comment_tile--creatorReply--OO0It":!e.selected&&e.isCreatorReply,"comment_tile--noSeparator--RL2vm":e.hideSeparator}),"data-comment-id":t.id,role:"button",tabIndex:0},r.createElement(P.N_,{className:"comment_tile--commentAvatarContainer--e8z35",to:L},r.createElement(j.Ro,{entity:a,size:32,className:"comment_tile--commentAvatar--5xfu2 community_hub_view--creatorInsetBorder--z2InY community_hub_view--creatorInsetBorderNoHover--27smC"})),r.createElement("div",{className:e.hideSeparator||T?"comment_tile--commentContentWrapperNoBorder--Poey3 comment_tile--commentContentWrapper--L2vv2":"comment_tile--commentContentWrapper--L2vv2"},r.createElement("div",{className:"comment_tile--commentContent--QUN--"},r.createElement("div",{className:"comment_tile--commentMetaAndOptions--Avk6k"},r.createElement("div",null,r.createElement(P.N_,{className:"comment_tile--commentAuthorLink--3Q-Ty ellipsis--ellipsis--Tjyfa",to:L},r.createElement("span",{className:"comment_tile--commentAuthor--X2tiN text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.name),r.createElement("span",{className:"comment_tile--commentAuthorHandle--qrjUX comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},`@${a.profile_handle}`)),o&&r.createElement(V,null),r.createElement("span",{className:"comment_tile--commentMetaDivider--pzekb text--fontPos13--xW8hS text--_fontBase--QdLsd"},"\xb7"),r.createElement(M.h1,{className:"comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd",date:t.created_at})),r.createElement("div",{className:"comment_tile--commentOptions--hNQQM"},k&&r.createElement(B.B,{className:"comment_tile--isHiddenIcon--isUzt",svg:eT.A}),r.createElement("div",{className:Y},r.createElement(q.K0,{svg:ew.A,ref:m,onClick:e=>{let a=m.current;u?y():a&&(v(a.getBoundingClientRect()),_(C.j7({type:l.Ng,data:{commentId:t.id}}))),e.stopPropagation()},className:S?"comment_tile--iconButtonSelected--CaL6y raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":Y,"data-tooltip-type":W.Ib.TEXT,"data-tooltip":(0,g.t)("community.comments.comment_actions")})))),r.createElement("div",{className:k?"comment_tile--messageIsHidden--e-XiE comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd":"comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(K.HH,{messageMeta:t.message_meta??[],className:"comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd",showEditedIndicator:!!t.edited_at,commentId:t.id})),s&&r.createElement("div",{className:"comment_tile--replyComposerContainer--Cfzby"},r.createElement(eb,{fallback:null,errorFallback:null,commentType:e.commentType,parentId:t.id,resourceId:e.resourceId,resourceType:e.resourceType,onSuccessCallback:()=>d(!1),onComplete:()=>d(!1)})))),S&&h&&r.createElement(eE,{parentRect:h,comment:t,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,onEdit:()=>{f(!0)},onDelete:w,hideCopyLink:!!t.parent_id,isThreadParent:N>0,onReply:0===t.reply_count?()=>{d(!0)}:void 0}))}let eC=(0,n.Ng)((e,t)=>{let{comments:a}=e.communityHub,r=a.commentsById[t.id],n=t.replyId?a.commentsById[t.replyId]:void 0;if(!r)return{user:e.user||null};let i=a.authorsById[r.author.id],o=a&&a.selectedCommentId===r.id,l=n?a.authorsById[n.author.id]:void 0;return{user:e.user||null,comment:r,creatorReply:n,replyAuthor:l,author:i,userIsResponder:l?.id===e.user?.community_profile_id,userIsAuthor:i.id===e.user?.community_profile_id,selected:o}})(function(e){return r.createElement(r.Fragment,null,r.createElement(eI,{id:e.id,user:e.user,comment:e.comment,author:e.author,selected:e.selected,userIsAuthor:e.userIsAuthor,commentType:e.commentType,isAuthorAcceptedPublisher:e.isAuthorAcceptedPublisher,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator||!!e.creatorReply,resourceType:e.resourceType,resourceId:e.resourceId}),!!e.replyId&&r.createElement(eI,{id:e.replyId,user:e.user,comment:e.creatorReply,author:e.replyAuthor,selected:e.selected,userIsAuthor:e.userIsResponder,commentType:e.commentType,isAuthorAcceptedPublisher:!0,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator,isCreatorReply:!!e.replyId,resourceType:e.resourceType,resourceId:e.resourceId}))});function ex(){return r.createElement("svg",{width:"288",height:"200",viewBox:"0 0 288 200",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{width:"288",height:"200",fill:"var(--color-bg, white)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.5 60.5C147.457 60.5 168.5 81.5426 168.5 107.5C168.5 133.457 147.457 154.5 121.5 154.5C113.522 154.5 106.013 152.514 99.4356 149.01L98.9861 148.77L77.5743 152.339L85.893 138.197L85.2249 137.387C78.5239 129.264 74.5 118.854 74.5 107.5C74.5 81.5426 95.5426 60.5 121.5 60.5ZM171.5 107.5C171.5 79.8858 149.114 57.5 121.5 57.5C93.8858 57.5 71.5 79.8858 71.5 107.5C71.5 119.197 75.5183 129.959 82.2484 138.476L71.7319 156.354L98.4789 151.896C105.371 155.477 113.201 157.5 121.5 157.5C149.114 157.5 171.5 135.114 171.5 107.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M196.932 119.342C203.847 110.959 208 100.215 208 88.5C208 61.7142 186.286 40 159.5 40C132.714 40 111 61.7142 111 88.5C111 115.286 132.714 137 159.5 137C167.729 137 175.48 134.95 182.27 131.334L206.347 135.347L196.932 119.342Z",fill:"var(--color-bg, white)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.901 38.8101C155.739 38.6052 157.608 38.5 159.5 38.5C161.392 38.5 163.261 38.6052 165.099 38.8101L164.767 41.7917C163.038 41.599 161.281 41.5 159.5 41.5C157.719 41.5 155.962 41.599 154.233 41.7917L153.901 38.8101ZM169.531 39.5067C173.248 40.2639 176.816 41.4337 180.184 42.9659L178.942 45.6966C175.777 44.2568 172.425 43.1578 168.932 42.4464L169.531 39.5067ZM138.816 42.9659C142.184 41.4337 145.752 40.2639 149.469 39.5067L150.068 42.4464C146.575 43.1578 143.223 44.2568 140.058 45.6966L138.816 42.9659ZM184.181 45.0062C187.446 46.863 190.481 49.0766 193.234 51.5939L191.209 53.8077C188.621 51.4405 185.767 49.3593 182.698 47.6141L184.181 45.0062ZM125.766 51.5939C128.519 49.0766 131.554 46.863 134.819 45.0062L136.302 47.6141C133.233 49.3593 130.379 51.4405 127.791 53.8077L125.766 51.5939ZM196.406 54.7662C198.923 57.5187 201.137 60.5541 202.994 63.8194L200.386 65.3023C198.641 62.2331 196.559 59.3792 194.192 56.7908L196.406 54.7662ZM116.006 63.8194C117.863 60.5541 120.077 57.5187 122.594 54.7662L124.808 56.7908C122.441 59.3792 120.359 62.2331 118.614 65.3023L116.006 63.8194ZM205.034 67.8159C206.566 71.1837 207.736 74.7516 208.493 78.4694L205.554 79.0681C204.842 75.5749 203.743 72.2228 202.303 69.0582L205.034 67.8159ZM110.507 78.4694C111.264 74.7516 112.434 71.1837 113.966 67.8159L116.697 69.0582C115.257 72.2228 114.158 75.5749 113.446 79.0681L110.507 78.4694ZM209.19 82.9007C209.395 84.7394 209.5 86.6077 209.5 88.5C209.5 90.5773 209.373 92.6257 209.127 94.6378L206.149 94.2732C206.381 92.3818 206.5 90.4552 206.5 88.5C206.5 86.719 206.401 84.9616 206.208 83.2331L209.19 82.9007ZM109.5 88.5C109.5 86.6077 109.605 84.7394 109.81 82.9007L112.792 83.2331C112.599 84.9616 112.5 86.719 112.5 88.5C112.5 90.281 112.599 92.0384 112.792 93.7669L109.81 94.0993C109.605 92.2606 109.5 90.3923 109.5 88.5ZM113.966 109.184C112.434 105.816 111.264 102.248 110.507 98.5306L113.446 97.9319C114.158 101.425 115.257 104.777 116.697 107.942L113.966 109.184ZM208.289 99.4872C207.378 103.549 205.973 107.424 204.14 111.045L201.464 109.69C203.186 106.287 204.506 102.647 205.361 98.8307L208.289 99.4872ZM122.594 122.234C120.077 119.481 117.863 116.446 116.006 113.181L118.614 111.698C120.359 114.767 122.441 117.621 124.808 120.209L122.594 122.234ZM198.752 119.476C199.804 118.144 200.79 116.758 201.705 115.321L199.174 113.71C198.136 115.34 197 116.902 195.775 118.387L195.107 119.197L199.002 125.818L201.588 124.297L198.752 119.476ZM134.819 131.994C131.554 130.137 128.519 127.923 125.766 125.406L127.791 123.192C130.379 125.559 133.233 127.641 136.302 129.386L134.819 131.994ZM204.277 128.87L209.268 137.354L201.801 136.11L202.294 133.15L203.426 133.339L201.692 130.391L204.277 128.87ZM182.014 129.77L186.816 130.571L186.323 133.53L182.521 132.896C181.385 133.487 180.224 134.034 179.039 134.538L177.865 131.777C179.128 131.241 180.361 130.651 181.564 130.01L182.014 129.77ZM198.361 135.536L189.762 134.103L190.255 131.144L198.854 132.577L198.361 135.536ZM149.469 137.493C145.752 136.736 142.184 135.566 138.816 134.034L140.058 131.303C143.223 132.743 146.575 133.842 150.068 134.554L149.469 137.493ZM175.78 135.789C173.059 136.726 170.231 137.434 167.32 137.892L166.855 134.928C169.59 134.498 172.247 133.833 174.804 132.953L175.78 135.789ZM159.5 138.5C157.608 138.5 155.739 138.395 153.901 138.19L154.233 135.208C155.962 135.401 157.719 135.5 159.5 135.5C160.881 135.5 162.248 135.44 163.598 135.324L163.856 138.313C162.42 138.437 160.967 138.5 159.5 138.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158 98H161L161 90H169V87L161 87L161 79H158L158 87L150 87V90H158L158 98Z",fill:"var(--color-icon-secondary, #BBBBBB)"}))}eC.displayName="CommentTile";let eN="comments_list--emptyStateWrapper--utBdd",eS="comments_list--emptyStateHeader--72NAJ text--fontPos13--xW8hS text--_fontBase--QdLsd";function ek(e){let t=(0,n.d4)(e=>e.communityHub.comments.commentsById),a=(0,n.d4)(e=>e.communityHub.comments.showResolved),s=(0,n.d4)(e=>(0,i.cs)(e.authedActiveCommunityProfile)),{parentCommentIds:c,replies:d}=function(e,t){let a=[],r={};return e.forEach(e=>{if(t[e]){let{parent_id:n}=t[e];n&&t[n]?r[n]=e:n||a.push(e)}}),{parentCommentIds:a,replies:r}}(e.comments,t),m=a?c:c.reduce((e,a)=>(t[a]?.resolved_at||e.push(a),e),[]),u=(0,h.Vm)(e.resource);if(0===m.length&&!e.hasSelectedComment&&e.resource.comments_setting!==l.Ni.ALL_DISABLED)return r.createElement(eL,{isTeamOrOrgProfileActive:s});let _=[];if((u===T.vt.PLUGIN||u===T.vt.WIDGET)&&e.resource?.versions&&e.resource.current_plugin_version_id){let a=e.resource,n=a.versions[a.current_plugin_version_id].id;m.forEach(i=>{let l=t[i],s=l?.resource_version_id,c=a.versions[s];if(s&&c){if(s!==n){let e=new Date(c.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"}),t=s===n&&c?void 0:`Version ${c.version} \xb7 ${e}`,a=_.pop();a&&_.push(r.cloneElement(a,{hideSeparator:!0})),_.push(r.createElement("div",{key:`divider-${s}`,className:"comments_list--versionDivider--NHliU text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),n=s}_.push(r.createElement(eC,{key:i,id:i,replyId:d[i],isAuthorAcceptedPublisher:(0,o.PR)(l,e.resource),commentType:e.commentType,resourceType:u,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}))}})}else _=m.map(a=>{let n=t[a];return r.createElement(eC,{key:a,id:a,replyId:d[a],isAuthorAcceptedPublisher:(0,o.PR)(n,e.resource),commentType:e.commentType,resourceType:u,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs})});return r.createElement(r.Fragment,null,_)}function eL({isTeamOrOrgProfileActive:e}){return e?r.createElement("div",{className:eN},r.createElement(ex,null),r.createElement("div",{className:eS},(0,g.tx)("community.comments.to_comment_switch_to_your_personal_profile"))):r.createElement("div",{className:eN},r.createElement(ex,null),r.createElement("div",{className:eS},(0,g.tx)("community.comments.your_kudos_and_feedback_are_welcome")),r.createElement("div",{className:"comments_list--emptyStateSubheader--L5hsL text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,g.tx)("community.comments.share_your_thoughts_using_the_comment_box_above"),r.createElement("br",null)))}let eA=!1;function eR(e){let t;let a=(0,n.wA)(),o=(0,s.iZ)(),[l,m]=(0,r.useState)(!1),[u,C]=(0,r.useState)(!1),[x,N]=(0,r.useState)(!0),S=r.useRef(null),k=(0,n.d4)(e=>"communityHub"===e.selectedView.view&&"hubFile"===e.selectedView.subView&&e.selectedView.fullscreenState&&(0,w.t0)(e.selectedView.fullscreenState)),A=(0,n.d4)(e=>e.communityHub.comments.activeFeedType),R=(0,n.d4)(e=>e.communityHub.comments.feeds),{feed:P,pagination:O}=r.useMemo(()=>R[A]||{feed:[]},[R,A]),D=(0,n.d4)(e=>e.communityHub.comments.selectedCommentId),M=(0,n.d4)(e=>e.selectedView.commentThreadId),B=(0,n.d4)(e=>!!e.user?.community_profile_id),U=D||M,V=A===T.Qv.ALL?e.numCommentsForResource:R[A]?.totalNumberOfComments,{resource:H}=e,W=(0,h.Vm)(H),j=()=>{if(eA)return;eA=!0,m(!0);let e={resourceId:H.id,resourceType:W,selectedCommentId:U,pagination:O,activeFeedType:A,numCommentsForResource:V,pageSizeOverride:b.zn};a(y.p4({...e,onSuccess:e=>{a(y.vr(e)),eA=!1,m(!1)},onError:()=>{eA=!1,m(!1)}}))},$=void 0===O&&(0,i.e5)(H);r.useEffect(()=>{$&&j()},[A,$]);let G=!!O,Y=O?.selected_comment;r.useEffect(()=>{x&&Y&&(S.current&&window.scroll({left:0,top:S.current.offsetTop-36,behavior:"smooth"}),N(!1))},[x,Y]),r.useEffect(()=>{a(y.cO())},[H.id]);let z=()=>G&&(0,d.u9)({pagination:O})&&j(),Q=P.filter(e=>e!==O?.selected_comment?.id);O?.selected_comment&&Q.unshift(O?.selected_comment.id);let K=(0,E.J)();return(0,i.e5)(H)?r.createElement(r.Fragment,null,r.createElement("div",{className:"comments_view--commentsViewWrapper--SURB9",ref:S},!e.commentingIsRestricted&&r.createElement(ev,{fallback:null,errorFallback:null,commentType:e.commentType,resourceType:W,resourceId:H.id,onSuccessCallback:e=>{(0,c.sx)(I.d,{commentId:e?.id,message:e?.message,userId:o?.id,profileId:o?.community_profile_id,resourceType:W,resourceId:H.id,searchSessionId:K})}}),r.createElement("div",{className:"comments_view--commentsListHeader--3uRw8 text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"comments_view--numCommentsForResource--J0QKb"},(t=V||0,(0,g.t)("community.comments.pluralize_comments",{numComments:t}))),!k&&!e.commentingIsRestricted&&r.createElement(F,{includeShowResolved:!1,isLoggedIn:B})),r.createElement(f.a,{onIntersectionChange:e=>{u||(C(!0),(0,c.sx)("Community Comments Section Impressed",{resourceType:W,resourceId:H.id}))}}),r.createElement(v.hJ,null,r.createElement(p.x,{isLoading:void 0===O,className:L},()=>r.createElement(_,{onScrollToBottom:z,showLoader:l&&(0,d.u9)({pagination:O})},r.createElement(ek,{comments:Q,commentType:e.commentType,resource:H,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hasSelectedComment:!!O?.selected_comment})))),r.createElement(v.XY,null,r.createElement(p.x,{isLoading:void 0===O,className:L},()=>r.createElement(r.Fragment,null,r.createElement(ek,{comments:Q,commentType:e.commentType,resource:H,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}),(0,d.u9)({pagination:O})&&r.createElement("div",{className:"comments_view--mobileLoadMore--tqxIs text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:z},(0,g.tx)("community.comments.load_more_comments"))))))):null}function eF({resource:e}){let t=(0,s.iZ)(),a=(0,n.d4)(t=>(0,o.MK)(t,e))>=o.Cw.ADMIN&&(i.cV(e)?.id||t?.community_profile_id)||null,c=(0,n.d4)(e=>e.authedActiveCommunityProfile);return r.createElement(eR,{commentType:l.ej.COMMUNITY,resource:e,numCommentsForResource:e.comment_count,profileIdToAdminResourceAs:a,commentingIsRestricted:!(0,i.LI)(t,e)||(0,i.cs)(c)})}},17284:(e,t,a)=>{a.d(t,{I:()=>o});var r=a(411855),n=a(535e3),i=a(13326);function o(e){let t=(0,n.n)(e);if(t){let a=e.hideTooltip?t:r.createElement(n.v,null,t);return r.createElement("div",{className:i.sx},a)}return null}},708071:(e,t,a)=>{a.d(t,{H:()=>r});let r=a(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},218795:(e,t,a)=>{a.d(t,{s:()=>f});var r=a(411855),n=a(188507),i=a(939863),o=a(227020),l=a(351226),s=a(158996),c=a(662275),d=a(988022),m=a(697551),u=a(860178),_=a(555328),p=a(498606);function f({resource:e,viewContext:t}){let a=(0,n.wA)(),f=(0,u.iZ)(),g=Object.values((0,n.d4)(e=>(0,m.Tm)(e))).filter(t=>(0,_.I0)(e)&&t.plugins_whitelist_enforced||(0,_.xQ)(e)&&t.widgets_whitelist_enforced),E=(e,t)=>{a((0,c.to)({type:(0,o.W)(),data:{extensionId:e.id,orgId:t,extensionType:(0,_.I0)(e)?"plugin":"widget",isAllowed:!1,source:"community"}}))};return r.createElement("button",{className:"approve_button--buttonContainer--lDvpx cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:()=>{if((0,d.Cu)({viewContext:t,resourceId:e.id,resourceType:(0,s.Vm)(e),allowlistOrgs:g.length},"approve-button-clicked"),1===g.length){E(e,g[0].id);return}if(!f)return;let r=g.map(e=>({orgId:e.id,workspaceName:e.name,user:f,userId:f?.id||""}));a((0,c.to)({type:l._,data:{payload:{extension:e,workspaces:r,onSelectWorkspace:t=>{E(e,t.orgId)},mode:"manage_allowlist"}}}))},"data-testid":"approve-button","data-onboarding-key":"approve-button","data-tooltip-type":p.Ib.TEXT},(0,i.tx)("community.plugins.approve_ellipsis"))}},940872:(e,t,a)=>{a.d(t,{b:()=>s});var r=a(411855),n=a(939863);let i=r.createElement("span",null,r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),r.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"var(--color-icon)"}))),o=r.createElement("span",null,r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12543 3.04791C5.67813 1.652 3.3316 1.652 1.8843 3.04791C0.437004 4.44381 0.437004 6.70702 1.8843 8.10293L2.75826 8.94585L2.75823 8.94588L7.99935 14.0009L14.114 8.10338C15.5613 6.70747 15.5613 4.44426 14.114 3.04836C12.6667 1.65245 10.3202 1.65245 8.87288 3.04836L7.99939 3.89083L7.12543 3.04791Z",fill:"#F24822"}),r.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"#F24822"})));var l=a(498606);function s(e){let t=r.useRef(null);return e.disabled?r.createElement("button",{className:"base_like_button--buttonContainerDisabled--sOWAD base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",disabled:e.disabled},r.createElement("div",{className:"base_like_button--likeIconDisabled--dfrWS base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd"},i)):r.createElement("button",{className:"base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:e.onClick,"data-tooltip":(0,n.t)("community.like"),"data-tooltip-type":l.Ib.TEXT,"data-testid":"like-button"},r.createElement("div",{className:"base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd",ref:t},e.isResourceLiked?o:i))}},142264:(e,t,a)=>{a.d(t,{y:()=>p});var r=a(411855),n=a(188507),i=a(939863),o=a(392592),l=a(225266),s=a(697551),c=a(782501),d=a(820642),m=a(215822),u=a(555328),_=a(624618);function p({resourceId:e,resourceType:t,containerClassName:a}){let p=(0,n.wA)(),f=(0,n.d4)(a=>t===u.vt.HUB_FILE?(0,d.M3)(e,a.hubFiles):(0,m.my)(e,a.publishedPlugins)),g=(0,n.d4)(e=>e.authedActiveCommunityProfile),E=(0,n.d4)(e=>(0,c.MK)(e,f)),h=r.useCallback(()=>{p((0,l.z8)({hub_file_id:(0,u.U)(f)?f.id:void 0,widget_id:(0,u.xQ)(f)?f.id:void 0,plugin_id:(0,u.I0)(f)?f.id:void 0})),p(o.F.enqueue({message:(0,i.t)("community.detail_view.accepted_creator_invite")}))},[p,f]),v=r.useCallback(()=>{p((0,l.bb)({hub_file_id:(0,u.U)(f)?f.id:void 0,widget_id:(0,u.xQ)(f)?f.id:void 0,plugin_id:(0,u.I0)(f)?f.id:void 0})),p(o.F.enqueue({message:(0,i.t)("community.detail_view.declined_creator_invite")}))},[p,f]);return!g||(0,s.cs)(g)||!c.ot.includes(E)?null:r.createElement("div",{className:a},r.createElement(_.vR,{onClickAccept:h,onClickDecline:v,label:(0,i.t)("community.detail_view.you_have_been_added_as_a_creator_of_this_resource")}))}},219497:(e,t,a)=>{a.d(t,{G:()=>p});var r=a(411855),n=a(188507),i=a(654923),o=a(466636),l=a(545941),s=a(158996),c=a(225266),d=a(782501),m=a(860178),u=a(555328),_=a(624618);function p({resource:e}){let t=(0,n.wA)(),a=(0,n.d4)(e=>e.authedActiveCommunityProfile),p=(0,n.d4)(t=>(0,d.MK)(t,e)),f=(0,s.XW)(e)?(0,s.qY)(e):e,g=d.Gl.includes(p)&&(e.community_publishers?.accepted||[]).length>1&&a?.primary_user_id,E=r.useCallback(()=>{(0,u.U)(f)?t((0,c.bb)({hub_file_id:f.id})):(0,u.xQ)(f)?t((0,c.bb)({widget_id:f.id})):(0,u.I0)(f)&&t((0,c.bb)({plugin_id:f.id}))},[t,f]),h=(0,u.m3)(f),v=(0,i.I)(f),y=(0,m.iZ)();return r.createElement(r.Fragment,null,g&&r.createElement(_.d,{onClick:E,className:"metadata_additional_actions_logged_in--link--Hgvm- text--fontPos13--xW8hS text--_fontBase--QdLsd"}),h&&(0,o.QQ)(v)&&r.createElement(_.NY,{resource:f,payment:v}),h&&y&&(0,o.QQ)(v)&&(0,o.C)(v)&&r.createElement(_.EV,{user:y,name:(0,l.K2)(e)||"",monetizedResource:f.monetized_resource_metadata}))}},439178:(e,t,a)=>{a.d(t,{Q:()=>c});var r=a(411855),n=a(629019),i=a.n(n),o=a(672517),l=a(137459),s=a(650168);function c({buttonText:e,onClick:t,useNoIconStyle:a,editorType:n,enableWideButtonForStickyFooter:c,dataTestId:d}){let m=function(e){switch(e){case l.LE.FIGJAM:return"whiteboard";case l.LE.SLIDES:return"piper";default:return"design"}}(n);return r.createElement(o.$z,{className:i()({[s.tt]:a,[s.Vi]:!a,[s.uw]:c}),onClick:t,dataTestId:d||"community-duplicate-button","data-editor-theme":m},r.createElement("div",{className:s.uD},e))}},128425:(e,t,a)=>{a.d(t,{U:()=>j});var r=a(411855),n=a(188507),i=a(776250),o=a(22332),l=a(966712),s=a(939863),c=a(611886),d=a(320063),m=a(860601),u=a(62342),_=a(163023),p=a(901536),f=a(809840),g=a(351226),E=a(662275),h=a(151283),v=a(860178),y=a(237870),b=a(488578),w=a(415862);let T="use_preset_options_modal--presetOptionsModal__optionText--BPEmi",I="use_preset_options_modal--presetOptionsModal__chevron--dF5v3";var C=a(816679),x=a(250167);let N=(0,y.Ju)(function({hubFile:e}){let t=(0,n.wA)(),a=(0,v.iZ)();(0,d.h)(()=>{i.az.trackDefinedEvent("preset_libraries.preset_options_modal_displayed",{userId:a?.id,hubFileId:e.id,partnerType:(0,h.X)(e.library_key)})});let o=r.useCallback(()=>{t(E.Ce())},[t]),y=r.useCallback(()=>{o(),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:a?.id,hubFileId:e.id,partnerType:(0,h.X)(e.library_key),option:"cancel"})},[o,e,a]),N=r.useCallback(()=>{let r=c.Q4(e=>{t((0,E.to)({type:g._,data:{payload:e}}))});o(),t(r(e)),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:a?.id,hubFileId:e.id,partnerType:(0,h.X)(e.library_key),option:"show_in_figma"})},[t,o,e,a]),S=r.useCallback(()=>{let r=c.gE(e=>{t((0,E.to)({type:g._,data:{payload:e}}))});o(),t(r(e)),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:a?.id,hubFileId:e.id,partnerType:(0,h.X)(e.library_key),option:"make_a_copy"})},[t,o,e,a]);return r.createElement(b.Nb,{hide:m.lQ,disableClickOutsideToHide:!0,className:"use_preset_options_modal--presetOptionsModal--MPCAv"},r.createElement("div",{className:"use_preset_options_modal--presetOptionsModal__header--7Ul9l"},r.createElement(f.E,{fontWeight:"medium",fontSize:20},(0,s.tx)("community.preset_modal.header"))),r.createElement("div",{className:"use_preset_options_modal--presetOptionsModal__description--GD8wZ"},r.createElement(f.E,{fontSize:13},(0,s.tx)("community.preset_modal.description"))),r.createElement("div",{className:w.sw},r.createElement("button",{className:w.tW,onClick:N},r.createElement(u.oS,{type:u.y1.DESIGN,size:u.LE.MEDIUM,className:p.cx.pl12.pr12.$}),r.createElement("div",{className:T},r.createElement(f.E,{fontSize:13},(0,l.kc)().cmty_preset_modal_revised_copy?(0,s.tx)("community.preset_modal.use_ui_kit_in_a_new_file"):(0,s.tx)("community.preset_modal.show_in_figma"))),r.createElement(_.B,{className:I,svg:C.A})),r.createElement("button",{className:w.tW,onClick:S},r.createElement(_.B,{svg:x.A,className:"use_preset_options_modal--presetOptionsModal__copyIcon--OFXiM"}),r.createElement("div",{className:T},r.createElement(f.E,{fontSize:13},(0,l.kc)().cmty_preset_modal_revised_copy?(0,s.tx)("community.preset_modal.make_a_copy_of_this_file"):(0,s.tx)("community.preset_modal.make_a_copy"))),r.createElement(_.B,{className:I,svg:C.A}))),r.createElement("button",{className:"use_preset_options_modal--presetOptionsModal__cancel--vne9o text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:y},(0,s.t)("community.try.pick_workspace.cancel")))},"USE_PRESET_OPTIONS_MODAL_TYPE",y.ZU.YES);var S=a(342),k=a(654923),L=a(466636),A=a(545941),R=a(158996),F=a(107877),P=a(101505),O=a(672517),D=a(697551),M=a(941448),B=a(830445),U=a(498606),V=a(966537),H=a(439178),W=a(650168);function j({hubFile:e,resourceType:t,enableWideButtonForStickyFooter:a}){let d=r.createRef(),m=(0,n.wA)(),u=(0,n.d4)(e=>(0,D.cs)(e.authedActiveCommunityProfile)),_=(0,n.d4)(e=>e.userFlags).apple_eula_accepted,p=(0,k.I)(e),f=(0,M.IE)(e),h=(0,S.R)(m),v=(0,o.N)(`(max-width: ${F.YW}px)`),y=(0,A.X_)(t),b=r.useCallback(()=>{let t=()=>{if((0,l.kc)().dse_preset_libraries&&(0,l.kc)().presets_on_cmty&&(0,B.TX)(e.id)&&h&&!v)m((0,E.to)({type:N,data:{hubFile:e}}));else{let t=c.gE(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",f),m((0,E.to)({type:g._,data:{payload:e}}))});m(t(e))}};(0,A.mA)(e)&&!_?m(E.to({type:V.F,data:{hubFileId:e.id,onUseHubFile:t}})):t()},[m,e,f,_,h,v]);if(u||(0,A.lT)(e)){let t;return(0,A.lT)(e)?t=(0,s.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"):u&&(t=(0,s.t)("community.duplicate.to_duplicate_switch_to_your_personal_profile")),r.createElement("div",{"data-tooltip-type":U.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-immediately":!0},r.createElement("div",{className:W.nu},r.createElement("div",{className:W.uD},y)))}return(({buttonText:e,onClick:n})=>r.createElement(O.fu,{name:"Duplicate button",properties:{trackingDescriptor:P.c.HUB_FILE_DUPLICATE_BUTTON,...f}},r.createElement("div",{ref:d},r.createElement(H.Q,{buttonText:e,onClick:n,useNoIconStyle:!0,editorType:(0,R.kz)(t),enableWideButtonForStickyFooter:a}))))((0,L.QQ)(p)?{buttonText:(0,s.tx)("community.duplicate.open"),onClick:b}:{buttonText:y,onClick:b})}},777944:(e,t,a)=>{a.r(t),a.d(t,{PluginTryButton:()=>L});var r=a(411855),n=a(188507),i=a(776250),o=a(563706),l=a(939863),s=a(555328),c=a(239671),d=a(427681),m=a(749949),u=a(545941),_=a(609271),p=a(835476),f=a(162895),g=a(662275),E=a(963067),h=a(756085),v=a(697551),y=a(54728),b=a(694687),w=a(860178),T=a(193212),I=a(215822),C=a(498606),x=a(94894),N=a(146555),S=a(884289),k=a(959020);function L({resource:e,universalEditorTypeFallback:t,context:a}){let h=(0,n.wA)(),C=(0,w.TA)(),x=(0,b.sZ)(),L=(0,E.Yo)(),R=(0,v.kc)(),F=(0,s.xQ)(e),P=(0,I.Ar)(e)||I.lT,O=(0,N.o)(P,x,t?(0,c.wN)(t):void 0),D=(0,I.Rt)(e),M=!!R?.org_id,B=x&&(F?!!x.widgets_whitelist_enforced:!!x.plugins_whitelist_enforced),U=a===s.aL.DETAIL?"center":"left",V=a===s.aL.REDESIGNED_PLUGIN_ROW,{dropdownIsShown:H,toggleSwitchEditorDropdown:W,PluginTrySwitchEditorDropdown:j}=(0,S.WW)(e,U),$=r.useRef(null),G=(0,m.J)();if((0,T.U3)("scroll",()=>{(a===s.aL.PLUGIN_ROW||a===s.aL.REDESIGNED_PLUGIN_ROW)&&W($,!1)}),P===I.lT)return null;let Y=(0,s.m3)(e);return L?.isAdmin&&M&&!Y&&B&&!D?r.createElement(A,{resource:e,orgEntity:L,useShortenedLabel:o.Ay.mobile}):r.createElement(r.Fragment,null,r.createElement("button",{type:"button",className:a===s.aL.REDESIGNED_PLUGIN_ROW?d.gz:a===s.aL.PLUGIN_ROW?function(e){switch(e){case c.nT.Whiteboard:return d.kJ;case c.nT.DevHandoff:return d.a1;case c.nT.Design:default:return d.GJ}}(O):function(e){switch(e){case c.nT.Whiteboard:return d.ST;case c.nT.DevHandoff:return d.Sd;case c.nT.Design:default:return d.up}}(O),onClick:()=>{if(!C){let t=(0,y.k)(e);h(f.cx({isWidget:F,redirectPath:t}));return}if(o.Ay.mobile){h((0,g.to)({type:k.x,data:{dispatch:h}}));return}(0,i.sx)("try_it_out_editor_picker_menu_opened",{pluginId:e.id,isWidget:(0,s.xQ)(e),searchSessionId:G}),W($)},"data-testid":"plugin-try-button"},r.createElement("div",{className:V?d.dC:d.l0,ref:$},r.createElement(r.Fragment,null,r.createElement(_.hJ,null,(0,u.X_)(F?p.vt.WIDGET:p.vt.PLUGIN)),r.createElement(_.XY,null,(0,l.tx)("community.using.open_in_no_ellipses"))))),H&&r.createElement(j,{primaryFullscreenEditorType:O}))}function A(e){let t,a;let n=(0,h.ll)(),i=(0,h.U6)(),o=(0,s.xQ)(e.resource),c=o?!!i[e.resource.id]:!!n[e.resource.id];return c?(t=(0,l.tx)("community.plugins.remove"),a=(0,l.t)("community.plugins.remove_for_org_tooltip",{orgName:e.orgEntity.name})):(t=(0,l.tx)("community.plugins.approve"),a=(0,l.t)("community.plugins.approve_for_org_tooltip",{orgName:e.orgEntity.name})),r.createElement("button",{type:"button",className:c?d.vf:d.Wc,onClick:()=>{let t={orgId:e.orgEntity.id,extensionId:e.resource.id,extensionType:o?"widget":"plugin"};c?x.X.disableExtensionForOrg(t):x.X.enableExtensionForOrg(t)},"data-tooltip-type":C.Ib.TEXT,"data-tooltip":a},r.createElement("div",{className:e.useShortenedLabel?d.d6:d.l0},t))}},230798:(e,t,a)=>{a.d(t,{z:()=>n});var r=a(411855);function n(e){return r.createElement("div",{className:"metadata_section--metadataSection--3wssk ellipsis--ellipsis--Tjyfa"},e.title&&r.createElement("div",{className:"metadata_section--subheader--Zk7ID"},e.title),r.createElement("div",{className:"metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children))}},166521:(e,t,a)=>{a.d(t,{I:()=>i});var r=a(411855);let n=(0,a(503457).kf)("lazy_cmty_purchase_button",{isCodesplit:!0,ComponentFactory:async()=>({default:(await a.e(8476).then(a.bind(a,698476))).default})});function i({resource:e,context:t,payment:a,enableWideButtonForStickyFooter:i}){return r.createElement(n,{fallback:null,errorFallback:null,resource:e,context:t,payment:a,enableWideButtonForStickyFooter:i})}},10588:(e,t,a)=>{a.d(t,{l:()=>T});var r=a(411855),n=a(188507),i=a(776250),o=a(22332),l=a(939863),s=a(611886),c=a(890555),d=a(439178),m=a(351226),u=a(342),_=a(545941),p=a(835476),f=a(662275),g=a(107877),E=a(101505),h=a(672517),v=a(941448),y=a(137459),b=a(498606),w=a(650168);function T({resource:e,enableWideButtonForStickyFooter:t}){let a=(0,v.IE)(e),T=(0,n.wA)(),I=(0,o.N)(`(max-width: ${g.YW}px)`),C=(0,r.useCallback)(()=>{if(I){T((0,f.to)({type:c.s,data:{dispatch:T,editorType:y.LE.SLIDES}}));return}let t=s.u5(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",a),T((0,f.to)({type:m._,data:{payload:e}}))});T(t(e))},[T,e,a,I]),x=(0,u.v)(T),N=(0,_.X_)(p.vt.SLIDE_TEMPLATE),S=r.createElement("div",{"data-testid":"slide-template-use-button",className:w.nu},r.createElement("div",{className:w.uD},N));if(!x){let e=(0,l.t)("community.use_slide_template.disabled_tooltip");return r.createElement(h.fu,{name:"slide_template_use_button",properties:{trackingDescriptor:E.c.SLIDE_TEMPLATE_USE_BUTTON,...a,isEnabled:!1}},r.createElement("div",{"data-tooltip-type":b.Ib.TEXT,"data-tooltip":e,"data-tooltip-show-immediately":!0},S))}return r.createElement(h.fu,{name:"slide_template_use_button",properties:{trackingDescriptor:E.c.SLIDE_TEMPLATE_USE_BUTTON,...a,isEnabled:!0}},r.createElement(d.Q,{buttonText:N,onClick:C,useNoIconStyle:!0,editorType:y.LE.SLIDES,enableWideButtonForStickyFooter:t,dataTestId:"slide-template-use-button"}))}},421660:(e,t,a)=>{a.d(t,{J:()=>T,z:()=>I});var r=a(411855),n=a(188507);if(443==a.j)var i=a(504440);if(443==a.j)var o=a(137035);var l=a(966712);if(443==a.j)var s=a(374626);var c=a(939863),d=a(837324),m=a(446686),u=a(57879),_=a(931828),p=a(782501),f=a(582947),g=a(946413),E=a(860178),h=a(555328),v=a(813408),y=a(195907),b=a(724819);let w=(0,f.Fu)(y.e2);function T(e){let t=(0,l.kc)().cmty_curated_tags_mapping,a=(0,p.RB)(e),r=(0,d.uv)(e),n=(0,s.md)(w),i=n?.status!=="loaded"||n?.status==="loaded"&&!!n?.data;return!!(0,l.kc)().cmty_tags_v2_comms_banner&&r&&!i&&!!t&&a}function I({resourceId:e,resourceType:t,fileKey:a}){let l=(0,E.iZ)(),s=(0,n.wA)(),d=r.useCallback(()=>{if(l){if(t===h.vt.PLUGIN||t===h.vt.WIDGET)s((0,u.r)({publishedPluginId:e,entryPoint:v.k2.RESOURCE_PAGE}));else{if(!a)return;s((0,m.t)({fileKey:a,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:v.k2.RESOURCE_PAGE,canvasThumbnailPromise:(0,g.$)(a,l)}))}s(_.b({[y.e2]:!0}))}},[e,t,a,l,s]);return l?r.createElement("div",{className:b.Mg},r.createElement("div",{className:b.tD},r.createElement(o.b,null)),r.createElement("div",{className:b.GK},(0,c.t)("community.resource_tags_comms_banner.title")),r.createElement("div",{className:b.mg},(0,c.t)("community.resource_tags_comms_banner.description")),r.createElement("div",{className:b.sj},r.createElement(i.$n,{variant:"secondary",onClick:d},(0,c.t)("community.resource_tags_comms_banner.update_button")))):null}},731801:(e,t,a)=>{a.d(t,{_:()=>d,u:()=>m});var r=a(411855),n=a(891721),i=a.n(n),o=a(981952),l=a(939863),s=a(107877);let c="truncated_description_view--blueLink--v3wsX blue_link--blueLink--9rlnd";function d({description:e}){let t=r.useRef(null);return r.useEffect(()=>{if(!t.current)return;let a=document.createElement("div");a.innerHTML=i().sanitize(e);let r=s.Ep.map(e=>`:not(${e})`).join("");for(let e of a.querySelectorAll(r))e.parentNode?.removeChild(e);t.current.innerHTML=a.innerHTML},[t,e]),r.createElement("div",{ref:t})}function m({description:e,hideDivider:t=!1}){let a=r.useRef(null),[n,i]=r.useState(!1),[m,u]=r.useState(!1),_=(0,o.R)(s.YW)?s.dz:s.Un;return(r.useEffect(()=>{a.current&&a.current.getBoundingClientRect().height>_&&(i(!0),u(!0))},[_]),e)?r.createElement(r.Fragment,null,r.createElement("div",{style:n?{maxHeight:`${_}px`}:{},className:n?"truncated_description_view--truncatedDescription--H3ST8 truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd":"truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd",ref:a},r.createElement(d,{description:e}),!n&&m&&r.createElement("div",{className:c,onClick:()=>{i(!0)},role:"button",tabIndex:0},(0,l.tx)("community.detail_view.show_less"))),n&&r.createElement("div",{className:"truncated_description_view--readMoreWrapper--4ruCR text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:c,onClick:()=>{i(!1)},role:"button",tabIndex:0},(0,l.tx)("community.detail_view.read_more"))),!t&&r.createElement("div",{className:"truncated_description_view--divider--RK37w"})):null}},897088:(e,t,a)=>{a.d(t,{N:()=>n,b:()=>r});let r=12,n=10},342:(e,t,a)=>{a.d(t,{R:()=>f,v:()=>g});var r=a(411855),n=a(966712);if(443==a.j)var i=a(374626);var o=a(586459),l=a(776621),s=a(989329),c=a(298527),d=a(6974),m=a(935308),u=a(860178),_=a(984968);function p(e){let t=(0,n.kc)().ps_benchmark,a=(0,i.md)(d.g),s=(0,u.iZ)();return r.useEffect(()=>{a===o.r.INIT&&t&&(0,m.nm)()(e).catch(e=>{(0,l.x1)("Error loading plans for authed users",e,{reportErrorToSentry:!0})})},[e,t,a]),r.useMemo(()=>{let e=[],r=[];if(!s||!t||a===o.r.LOADING||a===o.r.INIT)return{teams:e,orgs:r};let n=a.plansByUserId[s.id];return n?.map(t=>{if("team"===t.plan_type){let r=a.teams.find(e=>e.id===t.plan_id);r&&e.push(r)}if("org"===t.plan_type){let e=a.orgs.find(e=>e.id===t.plan_id);e&&r.push(e)}}),{teams:e,orgs:r}},[a,s,t])}function f(e){let t=(0,u.iZ)(),a=(0,s.P9)()||null,n=(0,_.ol)(),{teams:i,orgs:o}=p(e);return r.useMemo(()=>!!t&&(i.length||o.length?Object.values(i).some(e=>(0,c.MJ)(null,e))||Object.values(o).some(e=>(0,c.MJ)(e,null)):(0,c.MJ)(a,n)),[t,i,o,a,n])}function g(e){let t=(0,u.iZ)(),a=(0,s.P9)(),{teams:n,orgs:i}=p(e);return r.useMemo(()=>!!t&&(n.length||i.length?n.length>0||i.some(e=>!e.is_slides_disabled):!a?.is_slides_disabled),[t,n,i,a])}},609271:(e,t,a)=>{a.d(t,{Ay:()=>s,XY:()=>c,hJ:()=>d});var r=a(411855),n=a(91408),i=a(358145),o=a(837746);let l=(0,n.hG)(o.dOH);function s({mediaQuery:e,children:t,onShow:a,onHide:n}){let o=r.useMemo(()=>window.matchMedia(e),[e]),[l,s]=r.useState(o.matches),c=(0,i.ZC)(l);return(r.useEffect(()=>{let e=()=>s(o.matches);return o.addEventListener("change",e),()=>o.removeEventListener("change",e)},[o]),r.useEffect(()=>{(void 0===c||c!==l)&&(l&&a&&a(),!l&&n&&n())},[l,c,a,n]),l)?r.createElement(r.Fragment,null,t):null}function c({children:e}){return r.createElement(s,{mediaQuery:`(max-width: ${l-1}px)`},e)}function d({children:e}){return r.createElement(s,{mediaQuery:`(min-width: ${l}px)`},e)}},367935:(e,t,a)=>{function r(e){return e.is_widget}function n(e){return void 0!==e.current_plugin_version_id&&!e.is_widget}function i(e){return void 0!==e.duplicate_count}a.d(t,{AS:()=>r,bT:()=>n,zj:()=>i})},754915:(e,t,a)=>{a.d(t,{i:()=>E});var r=a(411855),n=a(188507),i=a(776250),o=a(939863),l=a(662275),s=a(115826),c=a(697551),d=a(611978),m=a(860178),u=a(555328),_=a(368361),p=a(746806),f=a(63666);let g="community_universal_publish_button--publishContextAction--l-h6g action--root--aRLIQ chevron--chevronContainer--0MO2x";function E(){let e=(0,n.wA)(),t="CommunityUniversalPublishButtonTooltipKey",a=(0,m.Pc)(),E=(0,n.d4)(e=>!e.currentUserOrgId||!!(0,c.Tm)(e)[e.currentUserOrgId]),[h,v]=r.useState(!1),y=r.useRef(),b=(0,d._6)();return E?r.createElement("div",{className:g},r.createElement("div",{className:"subView"in b&&("hubFile"===b.subView||"plugin"===b.subView||"widget"===b.subView)?"community_universal_publish_button--publishButton__DARK--TM73r community_universal_publish_button--publishButton--YumhB":"community_universal_publish_button--publishButton--YumhB",role:"button",tabIndex:0,onClick:()=>{(0,i.sx)("community_publish_modal",{user:a.id,step:s.M.OPENED}),e(l.to({type:_.R,data:{source:u.Zm.NAVBAR}}))}},(0,o.tx)("navbar.navbar.publish_button_label"))):r.createElement("div",{className:g,"data-onboarding-key":t,onMouseEnter:()=>{y.current&&clearTimeout(y.current),v(!0)},onMouseLeave:()=>{y.current=setTimeout(()=>v(!1),300)}},r.createElement("div",{className:"community_universal_publish_button--publishButtonDisabled--b7SqN community_universal_publish_button--publishButton--YumhB",role:"button",tabIndex:0},(0,o.tx)("navbar.navbar.publish_button_label")),h&&r.createElement(f.NJ,{targetKey:t,width:264,className:"community_universal_publish_button--disabledPublishButtonTooltip--uZ-YL pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:p.EL.FALLBACK,backgroundColor:"var(--color-bg-tooltip, #000)"},r.createElement("div",null,(0,o.tx)("navbar.navbar.disabled_publish_button_label"))))}},952540:(e,t,a)=>{a.d(t,{j:()=>m});var r=a(776250),n=a(517333),i=a(737947),o=a(27087),l=a(980820),s=a(677664),c=a(320741),d=a(583894);let m=(0,l.nF)(async(e,t,{loadingKey:a})=>{let l=t.user.stripe_account_status===d.P5.STARTED_ONBOARDING?"stripe_onboarding_continue":"stripe_onboarding_start";(0,r.sx)(l,{userId:t.user.id,entrypoint:t.selectedView.subView});try{let r=o.Ay.post("/api/community/seller/onboard",{accepted_seller_tos:!0,is_desktop:!!n.eD,first_name:t.firstName,last_name:t.lastName,address:t.address,vat_id:t.vatId});(0,c.N)(r,e,a);let l=await r;if(!l?.data?.meta){t.callback(!1);return}let d=l.data.meta;n.eD?e.dispatch((0,s.RK)({rawInput:d})):i.Ay.unsafeRedirect(d),setTimeout(()=>{t.callback(!0)},1e3)}catch(e){t.callback(!1)}})},941448:(e,t,a)=>{a.d(t,{Ay:()=>c,IE:()=>d});var r=a(411855),n=a(749949),i=a(837324),o=a(107877),l=a(555328),s=a(143678);function c(e){let t=(0,l.m3)(e);return(0,l.U)(e)?{name:s.e0.COMMUNITY_HUB_FILE,properties:m(e)}:(0,l.xQ)(e)?{name:s.e0.COMMUNITY_HUB_WIDGET,properties:{widgetId:e.id,isMonetized:t}}:{name:s.e0.COMMUNITY_HUB_PLUGIN,properties:{pluginId:e.id,isMonetized:t}}}function d(e){let t=(0,n.J)();return r.useMemo(()=>({...m(e),searchSessionId:t}),[e,t])}function m(e){return{hubFileId:e.id,viewerMode:e.viewer_mode,editorType:(0,i.JJ)(e.viewer_mode),isMonetized:(0,l.m3)(e),isMobileView:window.innerWidth<=o.YW}}},323667:(e,t,a)=>{a.d(t,{E:()=>n,d:()=>r});let r="community_comment_creation",n="community_comment_edit"},936682:(e,t,a)=>{a.d(t,{p:()=>n});var r=a(27087);let n=new class{async pinFile({resourceType:e,resourceId:t,fileKey:a,description:n,shouldUpdatePermissions:i}){await r.Ay.post(`/api/pinned_files/${e}/${t}`,{file_key:a,description:n,should_update_permissions:i})}async updatePin({pinnedFileId:e,description:t}){await r.Ay.put(`/api/pinned_files/${e}`,{description:t})}async deletePin({pinnedFileId:e}){await r.Ay.del(`/api/pinned_files/${e}`)}}},688734:(e,t,a)=>{a.d(t,{H:()=>c});var r=a(411855),n=a(946689),i=a(939863),o=a(237870),l=a(488578),s=a(157199);let c=(0,o.Ju)(function(e){return r.createElement(l.Rw,{confirmationTitle:e.confirmationTitle,confirmText:e.confirmButtonText,onConfirm:e.onBlock,destructive:!0},r.createElement("div",null,r.createElement("p",{className:s._q},(0,i.tx)("community.comments.this_will_remove_their_comments_from_all_your_community_files_and_plugins_it_also_prevents_them_from_leaving_comments_on_your_resources_or_mentioning_you_in_the_future")),r.createElement("p",{className:s._q},(0,i.tx)("community.comments.link_about_managing_restricted_commenters",{link:r.createElement(n.CY,{href:"https://help.figma.com/hc/articles/1500002628062",target:"_blank",trusted:!0},(0,i.tx)("community.comments.learn_more"))}))))},"CommentConfirmBlockModal")},354438:(e,t,a)=>{a.d(t,{H:()=>_});var r=a(411855),n=a(188507);a(966712);var i=a(946689),o=a(163023),l=a(939863),s=a(662275),c=a(505685),d=a(306665),m=a(514931);class u extends r.Component{constructor(){super(...arguments),this.getBannerText=()=>{let e={strongText:"",ctaPreText:""},t=(0,l.t)("community.banner.a_space_for_figma_users_to_share_things_they_create"),a=(0,l.t)("community.banner.community_is_a_space_for_figma_users_to_share_things_they_create");return e={strongText:(0,l.t)("community.banner.this_is_the_figma_community"),ctaPreText:t},this.props.profile?(this.props.user?.community_profile_handle?this.props.profile.id===this.props.user?.community_profile_id?e.strongText=(0,l.t)("community.banner.this_is_your_figma_community_profile"):(e.strongText="",e.ctaPreText=""):e.strongText=(0,l.t)("community.banner.this_is_a_figma_community_profile"),e.ctaPreText=a):this.props.selectedView&&"communityHub"===this.props.selectedView.view&&("hubFile"===this.props.selectedView.subView?(e.strongText=(0,l.t)("community.banner.this_is_a_figma_community_file"),e.ctaPreText=a):"plugin"===this.props.selectedView.subView?(e.strongText=(0,l.t)("community.banner.this_is_a_figma_community_plugin"),e.ctaPreText=a):"widget"===this.props.selectedView.subView&&(e.strongText=(0,l.t)("community.banner.this_is_a_figma_community_widget"),e.ctaPreText=a)),this.props.user?(this.props.user.community_profile_handle?this.props.selectedView&&"communityHub"===this.props.selectedView.view&&this.props.selectedView?.subView==="plugin"&&(e.showPluginDocsCta=!0):e.showProfileCta=!0,this.props.selectedView?.view==="communityHub"&&this.props.selectedView?.subView==="landing"||(e.ctaPreText="")):e.showAccountCta=!0,e},this.onProfileCreateClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.user&&this.props.dispatch(s.to({type:c.S3,data:{userId:this.props.user.id}}))}}render(){let{strongText:e,ctaPreText:t,showPluginDocsCta:a,showProfileCta:n,showAccountCta:s}=this.getBannerText();return e||t||a||n||s?r.createElement("div",{className:this.props.className||""},r.createElement("div",{className:d.cI},r.createElement("div",{className:d.zc},r.createElement(o.B,{svg:m.A,className:d.q3})),r.createElement("span",null,r.createElement("span",{className:d.bv},e," "),r.createElement("span",null,t," "),n&&r.createElement(r.Fragment,null,(0,l.tx)("community.banner.to_follow_creators_and_like_resources",{link:r.createElement(i.N_,{onClick:this.onProfileCreateClick,className:d.nf,trusted:!0},(0,l.t)("community.banner.create_your_own_profile"),"\xa0\u2192"," ")})),s&&r.createElement(i.N_,{href:"https://www.figma.com/signup",target:"_blank",className:d.nf,trusted:!0},(0,l.t)("community.banner.get_started_with_a_free_account"),"\xa0\u2192"," "),a&&r.createElement(r.Fragment,null,(0,l.tx)("community.banner.to_create_your_own_plugin",{link:r.createElement(i.N_,{href:"https://www.figma.com/plugin-docs",target:"_blank",className:d.nf,trusted:!0},(0,l.t)("community.banner.visit_the_docs"),"\xa0\u2192"," ")}))))):null}}u.displayName="CommunityBetaPromoBannerInner";let _=(0,n.Ng)((e,t)=>({selectedView:e.selectedView,user:e.user}))(u)},146555:(e,t,a)=>{a.d(t,{o:()=>s});var r=a(762194),n=a(99506),i=a(239671),o=a(376485);let l=(0,r.r)();function s(e,t,a){let r=e.manifest.editorType;if(e.playground_fig_file?.editor_type){let t=e.playground_fig_file?.editor_type;return t===n._Y.DESIGN&&(0,o.Pe)(r)?i.nT.DevHandoff:(0,i.wN)(t)}return(0,o.Pe)(r)?i.nT.DevHandoff:r?.includes(o.FW.FIGMA)&&r?.includes(o.FW.FIGJAM)?(t?.figjam_disabled_at?i.nT.Design:a)??(0,i.wN)(l):r?.includes(o.FW.FIGJAM)?i.nT.Whiteboard:i.nT.Design}},892123:(e,t,a)=>{a.d(t,{Q:()=>b,o:()=>r});var r,n=a(411855),i=a(188507),o=a(939863),l=a(940872),s=a(108636),c=a(749949),d=a(158996),m=a(410424),u=a(853799),_=a(662275),p=a(107877),f=a(988022),g=a(697551),E=a(860178),h=a(555328),v=a(498606),y=a(332086);function b(e){let{resource:t,viewContext:a}=e,c=(0,i.d4)(e=>e.authedActiveCommunityProfile),m=(0,g.cs)(c),u=(0,s.B)(t.id,(0,d.Vm)(t)),_=!!u.data?.[0],p=r.useLikeActions(t,!!u.data?.[0],u.data?.[1]||null,a);return m?n.createElement("div",{"data-tooltip-type":v.Ib.TEXT,"data-tooltip":(0,o.t)("community.likes.to_like_switch_to_your_personal_profile"),"data-tooltip-show-immediately":!0},n.createElement(l.b,{isResourceLiked:!1,disabled:!0})):n.createElement(l.b,{onClick:p(),isResourceLiked:_})}(r||(r={})).useLikeActions=function(e,t,a,r){let n=(0,i.wA)(),o=(0,E.iZ)(),l=(0,c.J)(),s=()=>{(0,f.Cu)(b()),(0,h.U)(e)?n(m.zm({hubFileId:e.id})):(0,h.xQ)(e)?n(u.C({id:e.id,resourceType:h.vt.WIDGET})):n(u.C({id:e.id,resourceType:h.vt.PLUGIN}))},d=e=>{if(e.stopPropagation(),o){if(!o.community_profile_id){n(_.to({type:y.G$,data:{userId:o.id,variations:[y.FF.OPT_IN],onFinish:()=>s()}}));return}s()}},g=t=>{if(t.stopPropagation(),!o)throw Error(`Tried to unlike a ${v} as a signed out user`);(0,f.Cu)(b()),(0,h.U)(e)?n(m.Qi({hubFileId:e.id,likeId:a||void 0})):(0,h.xQ)(e)?n(u.$({id:e.id,resourceType:h.vt.WIDGET,likeId:a||void 0})):n(u.$({id:e.id,resourceType:h.vt.PLUGIN,likeId:a||void 0}))},v=(0,h.U)(e)?"hub file":(0,h.xQ)(e)?"widget":"plugin",b=()=>({action:(0,h.U)(e)?t?p.s0.HUB_FILE_UNLIKE:p.s0.HUB_FILE_LIKE:(0,h.xQ)(e)?t?p.s0.WIDGET_UNLIKE:p.s0.WIDGET_LIKE:t?p.s0.PLUGIN_UNLIKE:p.s0.PLUGIN_LIKE,pluginId:e.id,profileId:e.publisher.id,viewContext:r,searchSessionId:l});return function(){return t?e=>g(e):e=>d(e)}}},966537:(e,t,a)=>{a.d(t,{F:()=>_});var r=a(411855),n=a(188507),i=a(776250),o=a(611886),l=a(351226),s=a(749949),c=a(662275),d=a(289104),m=a(237870),u=a(517127);let _=(0,m.Ju)(function({hubFileId:e,onUseHubFile:t}){let a=(0,d.HI)(e),m=(0,s.J)(),_=(0,n.wA)();return a?r.createElement(u.x,{onAgree:()=>{if(t)_(c.AS()),t();else{let e=o.gE(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",{hubFileId:a.id,searchSessionId:m}),_((0,c.to)({type:l._,data:{payload:e}}))});_(c.AS()),_(e({id:a.id,viewer_mode:a.viewerMode,monetized_resource_metadata:a.monetizedResourceMetadataId?{id:a.monetizedResourceMetadataId}:void 0}))}}}):null},"APPLE_EULA_MODAL_ON_USE_HUBFILE_TYPE",m.ZU.YES)},82388:(e,t,a)=>{a.d(t,{s:()=>w});var r=a(411855),n=a(188507),i=a(768137),o=a(799569),l=a(946689),s=a(493323),c=a(881388),d=a(939863),m=a(952540),u=a(6024),_=a(611978),p=a(860178),f=a(593803),g=a(267931),E=a(622139),h=a(237870),v=a(488578),y=a(978436),b=a(116240);let w=(0,h.Ju)(function(e){let t=(0,n.wA)(),a=(0,p.iZ)(),h=(0,_._6)(),w=(0,g.H)(),[T,I]=r.useState(""),[C,x]=r.useState(""),[N,S]=r.useState((0,E.EB)()),[k,L]=r.useState(""),[A,R]=r.useState(!0),[F,P]=r.useState(!1);return(0,u.G)(),r.createElement(v.aF,{className:"collect_tax_info_modal--container--F6VXQ"},r.createElement(o.s_,{dispatch:t}),r.createElement("div",{className:"collect_tax_info_modal--title--wFmJh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,d.tx)("community.seller.collect_tax_info_modal.title")),r.createElement("div",{className:"collect_tax_info_modal--body--M1wrr text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,d.tx)("community.seller.collect_tax_info_modal.body")),r.createElement("div",null,r.createElement(l.Lf,{value:T,htmlName:"firstName",label:(0,d.t)("community.seller.collect_tax_info_modal.first_name"),onChange:e=>{I(e.target.value)},trackingFieldName:"First name",dataTestId:"first-name"}),r.createElement(l.Lf,{value:C,htmlName:"lastName",label:(0,d.t)("community.seller.collect_tax_info_modal.last_name"),onChange:e=>{x(e.target.value)},trackingFieldName:"Last name",dataTestId:"last-name"}),r.createElement(y.X,{updateAddress:S,address:N,countryCodesOverride:f.qE,dontSeeYourCountryLink:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources#What_countries_are_supported?"}),r.createElement(b.A,{onChange:L,country:N.country,setIsVatIdValid:R,vatId:k,isCommunityCheckout:!0})),r.createElement(i.$$,{className:"collect_tax_info_modal--button--ZOQrQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{if(!a)return;if(!T){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_first_name")));return}if(!C){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_last_name")));return}let{line1:r,city:n,country:i,region:o,postal_code:l}=N;if(!r||!n||!i||!l||"US"===i&&!o){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_address")));return}if(k&&!A){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_vat_id")));return}P(!0),t(m.j({user:a,callback:t=>{e.setupStripeCallback(t),P(!1),t&&w()},selectedView:h,firstName:T,lastName:C,address:N,vatId:k}))}},r.createElement("div",{className:"collect_tax_info_modal--buttonContent--Nsj1d"},F&&r.createElement("div",{className:"collect_tax_info_modal--loadingIcon--iCbii"},r.createElement(s.kt,{shouldMatchTextColor:!0})),(0,d.tx)("community.seller.collect_tax_info_modal.continue_to_stripe"))))},"CommunityCollectTaxInfoModal")},624618:(e,t,a)=>{a.d(t,{EV:()=>w,NY:()=>T,d:()=>C,dx:()=>b,vR:()=>v});var r=a(411855),n=a(188507),i=a(91408),o=a(946689);a(455057);var l=a(939863);a(230798);var s=a(709595),c=a(662275);a(782501);var d=a(269167),m=a(860178);a(99506);var u=a(596607),_=a(555328),p=a(178787);a(354438);var f=a(877655);a(580999);var g=a(350913),E=a(837746),h=a(815700);function v(e){return r.createElement("div",{className:h.Xk},r.createElement("p",null,e.label),r.createElement(o.nR,{onClick:e.onClickDecline,className:h.LL},(0,l.tx)("community.detail_view.decline")),r.createElement(o.$$,{onClick:e.onClickAccept,className:h.LL},(0,l.tx)("community.detail_view.accept")))}(0,i.hG)(E.dOH);class y extends r.PureComponent{constructor(){super(...arguments),this.getSubjectBodyForResource=()=>(0,_.U)(this.props.resource)?{resourceSubject:(0,l.t)("community.reporting.reporting_an_inappropriate_file"),resourceBody:(0,l.t)("community.reporting.i_want_to_report_this_file_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.cU)(this.props.resource.id)})}:(0,_.xQ)(this.props.resource)?{resourceSubject:(0,l.t)("community.reporting.reporting_an_inappropriate_widget"),resourceBody:(0,l.t)("community.reporting.i_want_to_report_this_widget_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.ox)(this.props.resource.id)})}:{resourceSubject:(0,l.t)("community.reporting.reporting_an_inappropriate_plugin"),resourceBody:(0,l.t)("community.reporting.i_want_to_report_this_plugin_for_violating_the_plugin_guidelines_resource_url",{resourceUrl:(0,g.ab)(this.props.resource.id)})}}render(){let{resourceSubject:e,resourceBody:t}=this.getSubjectBodyForResource(),a=t;return a=`${a}${this.props.user?`
${(0,l.t)("community.reporting.my_figma_user_id_is_user_id",{userId:this.props.user.id})}`:""}
${(0,l.t)("community.reporting.add_your_description_here")}`,r.createElement(o.N_,{href:`mailto:content-reviews@figma.com?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(a)}`,className:h.iZ,trusted:!0},(0,l.tx)("community.detail_view.report_resource"))}}function b(){let e=(0,m.iZ)();return e?r.createElement(o.Ph,{className:h._1,trackingEventName:"Detail View - Report Resource",onClick:()=>{(0,s.jt)(e)},trusted:!0},(0,l.tx)("community.detail_view.report_resource")):null}function w(e){let{user:t,name:a,monetizedResource:i}=e,s=(0,n.wA)();return r.createElement(o.Ph,{className:h._1,trackingEventName:"Detail View - Request Refund",onClick:()=>{s((0,c.to)({type:f.bX,data:{user:t,name:a,monetizedResource:i}}))},trusted:!0},(0,l.tx)("community.buyer.request_refund"))}function T(e){let t=(0,d.R$)(e.resource),a="Detail View - View Order Details",n=(0,l.t)("community.buyer.view_order_details");return(0,p.Uv)(e.resource.monetized_resource_metadata)&&(a="Detail View - Manage Subscription",n=(0,l.t)("community.buyer.manage_subscription")),r.createElement(o.Ph,{className:h._1,onClick:()=>t(),trackingEventName:a,trusted:!0},n)}(0,n.Ng)(e=>({hasOrgs:(0,u.Yj)(e),teams:Object.keys(e.teams).map(t=>e.teams[t]),user:e.user}))(y);var I=(e=>(e[e.PROMO=0]="PROMO",e[e.PAID=1]="PAID",e))(I||{});function C(e){return r.createElement(o.N_,{className:e.className,onClick:e.onClick,trusted:!0},(0,l.tx)("community.detail_view.remove_myself_as_creator"))}},66154:(e,t,a)=>{a.d(t,{$v:()=>I,BI:()=>x,Ec:()=>L,Lz:()=>A,Mi:()=>N,Nm:()=>S,_G:()=>k,jA:()=>w,lj:()=>C,rQ:()=>R,yG:()=>T});var r=a(411855),n=a(188507),i=a(299321),o=a(281381),l=a(163023),s=a(901536),c=a(939863),d=a(293017),m=a(99506),u=a(243987),_=a(397065),p=a(279145),f=a(746806),g=a(697338),E=a(601538);if(443==a.j)var h=a(704728);if(443==a.j)var v=a(400232);if(443==a.j)var y=a(951864);function b(){return r.createElement(o.Ex,{color:o.zE.DEFAULT,text:(0,c.t)("pro_onboarding.professional"),className:s.cx.colorTextBrand.colorBgSelectedSecondary.font11.$})}function w({dismissModal:e}){let t="team-view-new-project-cta";return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.hello_organized_files"),subtitle:(0,c.t)("pro_onboarding.now_that_you_re_on_a_professional_team_move_your_files_into_project"),width:320,shouldCenterArrow:f.EL.FALLBACK,badge:r.createElement(b,null)})}function T({dismissModal:e,canCreateFigjamBoard:t}){let a="folder-page-view-new-file-cta";return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:a,calloutTargetKey:a,arrowPosition:f.F_.TOP,title:t?(0,c.t)("pro_onboaridng.so_many_files_and_boards"):(0,c.t)("pro_onboaridng.so_many_files"),subtitle:t?(0,c.t)("pro_onboaridng.you_now_get_unlimited_design_files_pages_and_figjam_boards"):(0,c.t)("pro_onboaridng.you_now_get_unlimited_design_files"),width:320,shouldCenterArrow:f.EL.FALLBACK,badge:r.createElement(b,null)})}function I({dismissModal:e}){let t="share-prototype";return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.prototpye_only_links"),subtitle:(0,c.t)("pro_onboarding.on_your_professional_plan_you_can_share_prototypes"),width:300,badge:r.createElement(b,null)})}function C({dismissModal:e}){let t="meeting-panel-button";return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.start_a_voting_session"),subtitle:(0,c.t)("pro_onboarding.if_you_want_to_reach_a_decision_keep_things_simple_with_a_figjam_vote"),width:320,badge:r.createElement(b,null)})}function x({dismissModal:e}){return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"pages-panel-toggle",calloutTargetKey:"pages-panel-toggle",arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.unlimited_pages_title"),subtitle:(0,c.tx)("rcs.pro_trials_onboarding.unlimited_pages_subtitle",{maxFreePages:u.LF[m._Y.DESIGN]}),width:320,badge:r.createElement(b,null)})}function N({dismissModal:e}){let t=(0,n.d4)(e=>e.multiplayer.allUsers.length>1),a=t?"audio-nux-key":E.v4,i=t?(0,c.t)("pro_onboarding.if_other_people_are_in_your_file_select_the_headphones"):(0,c.t)("rcs.pro_trials_onboarding.audio_subtitle_without_multiple_users");return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:a,calloutTargetKey:a,arrowPosition:f.F_.TOP,title:(0,c.t)("rcs.pro_trials_onboarding.audio_title"),subtitle:i,width:320,badge:r.createElement(b,null)})}function S({dismissModal:e}){return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"file-workshop-row",calloutTargetKey:"file-workshop-button",arrowPosition:f.F_.RIGHT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.open_sessions_title"),subtitle:(0,c.t)("rcs.pro_trials_onboarding.open_sessions_subtitle"),width:300,badge:r.createElement(b,null)})}function k({dismissModal:e}){let t=[(0,c.t)("rcs.pro_trials_onboarding.password_protection_first_instruction",{linkAccessOptionText:(0,c.t)("file_access_row.anyone_with_the_link_and_password")}),(0,c.t)("rcs.pro_trials_onboarding.password_protection_second_instruction")];return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"file-access-row",calloutTargetKey:"'file-share-audience-select-key'",arrowPosition:f.F_.RIGHT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.password_protection_title"),width:320,instructions:t,disableClickOutsideToHide:!0,badge:r.createElement(b,null)})}function L({dismissModal:e}){let t=(0,n.wA)(),a=(0,n.d4)(e=>Object.keys(e.library.local.components).length>0),o=(0,n.d4)(e=>e.mirror.appModel.keyboardShortcuts),s=(0,p.c1)(o,"create-symbol");r.useEffect(()=>{t(d.FP({tab:i.xae.ASSETS}))},[]);let m=r.createElement(l.B,{svg:y.A,title:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),autosize:!0}),u=r.createElement(l.B,{svg:v.A,title:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),autosize:!0}),E=[r.createElement(r.Fragment,null,(0,c.tx)("rcs.pro_trials_onboarding.component_publishing_second_instruction_with_components",{teamLibraryIcon:m})),(0,c.t)("rcs.pro_trials_onboarding.component_publishing_third_instruction_with_components",{publishButtonText:(0,c.t)("design_systems.libraries_modal.publish")})],h=[(0,c.t)("rcs.pro_trials_onboarding.component_publishing_first_instruction_without_components"),r.createElement(r.Fragment,null,(0,c.tx)("rcs.pro_trials_onboarding.component_publishing_second_instruction_without_components",{createComponentIcon:u,createComponentShortcut:s}))],w=a?(0,c.t)("rcs.pro_trials_onboarding.component_publishing_title_with_components"):(0,c.t)("rcs.pro_trials_onboarding.component_publishing_title_without_components"),T=a?void 0:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_subtitle_without_components");return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:_.D,calloutTargetKey:_.D,arrowPosition:f.F_.LEFT_TITLE,title:w,subtitle:T,width:320,instructions:a?E:h,badge:r.createElement(b,null)})}function A({dismissModal:e}){let t=r.createElement(l.B,{svg:h.A,title:(0,c.t)("rcs.pro_trials_onboarding.video_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.video_icon"),autosize:!0}),a=(0,c.tx)("rcs.pro_trials_onboarding.video_subtitle",{imageOrVideoIcon:t});return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"tool-place-image",calloutTargetKey:"tool-place-image",arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.video_title"),subtitle:a,width:320,badge:r.createElement(b,null)})}function R({dismissModal:e}){let t="local-variables-panel-title";return r.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("pro_onboarding.variables_save_you_time"),subtitle:(0,c.tx)("pro_onboarding.use_variables_in_components_and_prototypes"),width:320,badge:r.createElement(b,null)})}},981952:(e,t,a)=>{a.d(t,{P:()=>n,R:()=>i});var r=a(411855);function n(e){(0,r.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function i(e){let[t,a]=(0,r.useState)(window.innerWidth<=e);return n(r=>{r.width<=e&&!t?a(!0):r.width>e&&t&&a(!1)}),t}},69267:(e,t,a)=>{a.d(t,{R:()=>v});var r=a(411855),n=a(629019),i=a.n(n),o=a(776250),l=a(563706),s=a(286640),c=a(946689),d=a(939863),m=a(657544),u=a(101505),_=a(672517);let p="mobile_download_prompt--mobilePromptTitle--7Tgsn text--fontPos13--xW8hS text--_fontBase--QdLsd",f="mobile_download_prompt--mobilePromptOption--TbF2D",g="mobile_download_prompt--mobilePromptOptionTitle--mMUYW text--fontPos13--xW8hS text--_fontBase--QdLsd",E="mobile_download_prompt--mobilePromptOptionImage--Cp9zK",h="mobile_download_prompt_dismissed";function v(e){let{isCompact:t}=e,a=l.aR?m.o:m.J,n=(0,s.UG)(),p=!t&&!!e.renderBlockingPrompt,[v,w]=r.useState(!p),[T,I]=r.useState(!p);r.useEffect(()=>{null===n.get(h)&&(w(!1),I(!1))},[n,p]);let C=()=>{p||(w(!0),(0,o.sx)("mobile_web_mobile_app_download_prompt_dismissed",{userId:e.userIdForTracking}),setTimeout(()=>{I(!0)},300),n.set(h,!0))};return null!==n.get(h)?null:r.createElement(_.fu,{name:"Mobile Download Prompt"},r.createElement("div",{className:i()({"mobile_download_prompt--overlay--OzW6J":!0,"mobile_download_prompt--overlayClosed--2FWpY":v,"mobile_download_prompt--overlayAnimateEnd--dBvI0":T}),style:{transitionDuration:"300ms"},onClick:C},r.createElement("div",{className:i()("mobile_download_prompt--mobilePromptContainer--FKz5e","mobile_download_prompt--mobileDownloadPromptContainer--FaI33",{"mobile_download_prompt--mobileDownloadPromptContainerClosed--DHusv":v,"mobile_download_prompt--mobileDownloadPromptContainerFullHeightBlocking--B100f":p}),onClick:e=>{e.stopPropagation()}},r.createElement("div",{className:i()("mobile_download_prompt--mobilePromptDescriptionContainer--1PhoH",{"mobile_download_prompt--fullHeightPrompt--U6KWw":p})},t?r.createElement(b,null):r.createElement(y,{renderBlockingPrompt:p??!1})),r.createElement("hr",{className:i()({"mobile_download_prompt--mobilePromptHR--UpOqS":!0,"mobile_download_prompt--fullWidthHR--B-2i1":p})}),r.createElement("div",{className:f},r.createElement("img",{className:E,src:"https://static.figma.com/uploads/249f0f055b922ecef6bffc592a8420e7e6eddcea",alt:(0,d.t)("file_browser.mobile_prompt.app_image_alt")}),r.createElement("div",null,r.createElement("h3",{className:g},(0,d.tx)("file_browser.mobile_prompt.app_title")),r.createElement("p",{className:"mobile_download_prompt--mobilePromptOptionDescription--APlZp text--fontPos11--2LvXf text--_fontBase--QdLsd"},p?(0,d.tx)("file_browser.mobile_prompt.app_description_new"):(0,d.tx)("file_browser.mobile_prompt.app_description"))),r.createElement(c.pY,{trackingProperties:{userId:e.userIdForTracking,appLink:a,trackingDescriptor:u.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},href:a,className:"mobile_download_prompt--downloadActionButton--lOsEh"},(0,d.tx)("file_browser.mobile_prompt.app_action"))),!p&&r.createElement("div",{className:f},r.createElement("img",{className:E,src:"https://static.figma.com/uploads/741698fed49afa5e8f3becdd906e66d32c8e7fae",alt:(0,d.t)("file_browser.mobile_prompt.browser_image_alt")}),r.createElement("div",null,r.createElement("h3",{className:g},(0,d.tx)("file_browser.mobile_prompt.browser_title"))),r.createElement(c.p6,{onClick:()=>C(),className:"mobile_download_prompt--continueActionButton--7yKGD"},(0,d.tx)("file_browser.mobile_prompt.browser_action"))))))}function y(e){return r.createElement(r.Fragment,null,r.createElement("img",{className:"mobile_download_prompt--mobilePromptImage--U2Yqj",src:"https://static.figma.com/uploads/5f1dc37f397dbddf711d3d950bee5dd46c07fc72",alt:(0,d.t)("file_browser.mobile_prompt.image_alt")}),r.createElement("div",{className:"mobile_download_prompt--mobilePromptTitleContainer--o8VIK"},r.createElement("h2",{className:p},e.renderBlockingPrompt?(0,d.tx)("file_browser.mobile_prompt.modal_title_blocking"):(0,d.tx)("file_browser.mobile_prompt.modal_title")),r.createElement("p",{className:"mobile_download_prompt--mobilePromptSubTitle--GFR67 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.renderBlockingPrompt?(0,d.tx)("file_browser.mobile_prompt.modal_body_blocking"):(0,d.tx)("file_browser.mobile_prompt.modal_body"))))}function b(){return r.createElement(r.Fragment,null,r.createElement("h2",{className:p},(0,d.tx)("file_browser.mobile_prompt.modal_title_compact")))}}}]);

//# debugId=99fbec02-fe86-578b-ad56-1c976ce90c39

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/4c64dd5da3fd8ff40326c99fb679284d37f1f3e4/file_browser-2f726c570a8f92f9.min.js.map